<div class="wf-form nlp-screen" ng-hide="loading">
	<div class="col-xs-11">
		<div class="top-bar">
		    <div>
		    	<h4>
			        <ol class="breadcrumb">
			            <li>
			                <a href="/bt">{{'constants.bots'| i18nString}}</a>
			            </li>
			            <li>
			                {{'constants.label'| i18nString}}
			            </li>
			            <li>
			                {{'chat_response'| i18nString}}
			            </li>
			        </ol>
		    	</h4>
		    </div>
		</div>
	</div>
        <div class="col-xs-1">
            <a target="_blank" class="pull-right" ng-href="{{$root.helpLinks.CHAT_RESPONSE}}">
                <i class="fa fa-question-circle fa-lg help-link help-link-mapping"></i>
            </a>
        </div>
	<div class="col-xs-12 text-center">
		<span class="screen-title">
			{{'manage_chat_response'| i18nString}}
		</span>
		<span class="save-ctrl">
			<button type="button" class="btn btn-sm btn-primary " ng-click="saveGenericMessages()" ng-disabled="saving">{{ saving ? saving : save}}</button>
		</span>
		<hr>
	</div>
	<div class="col-xs-12">
		<table class="table table-bordered fixed-table">
		    <!-- <tr>
		    	<td colspan="2">
		    		<div class="heading">Bot level</div>
		    		<div class="help-block">
		    			Message when the the user is interacting with the bot and the intent is not yet determined.
		    		</div>
		    	</td>
		    </tr> -->
		    <tr>
		    	<td class="col-xs-3">
		    		<div class="column-title">
		    			{{'bt_nlp_chatresponse_condition_trigger'| i18nString}}
		    		</div>
		    		<div class="help-block">
		    			{{'bt_nlp_chatresponse_trigger_note'| i18nString}}
		    		</div>
		    	</td>
		    	<td class="col-xs-9">
		    		<div class="column-title">
		    			{{'bt_nlp_chatresponse_msg_format'| i18nString}}
		    		</div>
		    		<div class="help-block">
		    			{{'bt_nlp_chatresponse_standard_msg'| i18nString}}
		    		</div>
		    	</td>
		    </tr>
		    <tr>
		    	<td colspan="2">
		    		<input class="form-control text-center" type="text" ng-model="search" placeholder="search here">
		    	</td>
		    </tr>
			<tr ng-repeat="message in (genericMessages | filter : search) .slice((currentPage-1)*10,currentPage*10)">
				<td>
					<label>
						{{message.title}}
					</label>
				</td>
				<td>
					<div class="col-xs-12" ng-repeat="customMsg in message.value['Original Message'] track by $index" >
						<div class="col-xs-11">
							<textarea key-bouncer keys={{[222]}} context="message" class="form-control editbox" rows="3" auto-grow ng-model="message.value['Original Message'][$index]"></textarea>
						</div>
						<div class="col-xs-1">
							<div class="cntrl_list">
								<div class="btn-group" role="group">
								  <button type="button" class="btn btn-default no-padding" ng-click="create($index,message)"><i class="fa fa-plus"></i></button>
								  <button  ng-show="$index != 0" type="button" class="btn btn-default no-padding" ng-click="delete($index,message)"><i class="fa fa-trash"></i></button>
								</div>
							</div>
						</div>
					</div>
					<div class="col-xs-12">
						<div class="col-xs-11">
							<br ng-show="message.errorShow">
							<div class="alert alert-sm alert-danger" ng-show="message.errorShow">
								<div>
									" character is not allowed
								</div>
							</div>
						</div>
					</div>
				</td>
			</tr>
			<tr class="text-center" ng-show="(genericMessages | filter : search).length == 0">
				<td colspan="2">
					<div class="alert alert-xs alert-warning">
						No results with the search `{{search}}`
					</div>
				</td>
			</tr>
		</table>
		<pagination max-size="5" rotate="false"  ng-show="(genericMessages | filter : search).length>10" class="pagination-sm" boundary-links="true" direction-links="false" total-items="(genericMessages | filter : search).length" items-per-page="10" ng-model="currentPage"></pagination>
        <div class="footer form-group noMargin">
            <div class="footerSub">
             <div class="form-ctrl-div pull-left">
                        <button class="btn btn-default" ng-click="exit()">Exit</button>
                    </div>
                    <div class="help-hint-link">
                        <a href="">Help with this page</a>
                    </div>
                    <div class="pull-right form-ctrl-div save-ctrl">
			<button type="button" class="btn btn-sm btn-primary inline-paging" ng-disabled="saving" ng-click="saveGenericMessages()">{{ saving ? 'Saving...' : 'Save'}}</button>
                </div>
            </div>
        </div>
	</div>
</div>