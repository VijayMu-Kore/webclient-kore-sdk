<bot-modal-slider>
    <!-- NO DATA FOUND -->
    <div class="modalSliderContainer width800" ng-if="cb.collectionType === 'EMPTY'">      
        <div class="header-sec col-xs-12 modalHeader">   
            <h4 class="modal-title ">
                <i class="top25 btx-close" ng-click="cb.close()"></i>
                <div class="miHeadBar">
                    <div class="main-title">{{'manage_collection' | i18nString}}</div>
                    <div class="desc_text">{{'manage_collection_text' | i18nString}}</div>
                </div>                     
            </h4>        
        </div>
        <div class="modalBody empty-modal" perfect-scroll dynamic-height dynaoffset="-100" height-property="height">
            <!-- <div class="noDataFound">
                <div class="empty-illustration">
                    <img ng-src="{{emptyState}}" alt="empty">
                </div>
                <div class="main-title-empty">{{'no_collectioins_added_yet' | i18nString}}</div>
                <div class="description-info">{{'no_collectioins_text1' | i18nString}}</div>
                <div class="description-info">{{'no_collectioins_text2' | i18nString}}</div>
                <div class="add-new">
                    <button class="kr-sg-button-primary btn_md" ng-click="addNewCollection()">{{'add_new_collection' | i18nString}}</button>
                </div>
            </div> -->

            <div class="emptyStateContainer">
                <div class="emptyState">
                    <div class="emptyImage">
                        <img ng-src="{{emptyStateIcon}}" class="emptyImg">           
                    </div>  
                    <span class="mainTitle">{{'no_collectioins_added_yet' | i18nString}}</span>
                    <div class="emptyStateDesc">{{'no_collectioins_text1' | i18nString}}</div>
                    <div class="emptyStateDesc">{{'no_collectioins_text2' | i18nString}}</div>
                    <div class="generateBtn">
                        <button class="btn btnSolidBlue" ng-click="addNewCollection()">{{'add_new_collection' | i18nString}}</button>
                        <!-- <button class="btn" target="_blank" >learn more</button> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- COLLECTION TABLE -->
    <div class="modalSliderContainer width800" ng-if="cb.collectionType === 'LIST'">
   
        <div class="header-sec col-xs-12 modalHeader">   
            <h4 class="modal-title ">
                <i class="top25 btx-close" ng-click="cb.close()"></i>
                <div class="miHeadBar">
                    <div class="main-title">{{'collections' | i18nString}}</div>
                    <div class="desc_text">{{'list_collection_text' | i18nString}}</div>
                </div>   
               
            </h4>        
        </div>
        <div class="m-body-sec modalBody" perfect-scroll dynamic-height dynaoffset="-110" height-property="height">
            <button class="kr-sg-button-primary btn_md pull-right" ng-disabled="selectedStreamState === 'published'" ng-click="addNewCollection()">{{'add_new_collection' | i18nString}} </button>                  
            <div class="table-data" ng-if="!isLoading" ng-class="{'readOnly':selectedStreamState === 'published'}">
                <div class="t-header col-xs-12">
                    <div class="col-xs-3 title">{{'collection_name' | i18nString}}</div>
                    <div class="col-xs-4 title">{{'form_description' | i18nString}}</div>
                    <div class="col-xs-3 title">{{'created' | i18nString}}</div>
                    <div class="col-xs-2 title"></div>
                </div>
                <div class="t-body" ng-repeat="cell in cb.collectionList track by $index">                    
                    <div class="col-xs-3 title" ng-if="!cell.isNameEdit" title="{{cell.name}}" ng-click="editCell(cell, 'name')">{{cell.name || '---'}}</div>
                    <div class="col-xs-3 title"  ng-if="cell.isNameEdit" ng-mouseleave="focusOut(cell)">
                        <div class="kr-sg-input-text">
                            <input type="text" id="nameInp" placeholder="Enter name" ng-init="setVal(cell)" ng-model="inp.name" ng-keyup="checkKey($event, cell, $index, 'name')" maxlength="200" class="input-text">
                        </div>
                    </div>                    

                    <div class="col-xs-4 title" ng-if="!cell.isDescEdit" title="{{cell.description}}" ng-click="editCell(cell, 'description')">{{cell.description || '---'}}</div>
                    <div class="col-xs-4 title" ng-if="cell.isDescEdit" ng-mouseleave="focusOut(cell)">
                        <div class="kr-sg-input-text">
                            <input type="text" id="descInp" placeholder="Enter description" ng-init="setVal(cell)" ng-model="inp.description" ng-keyup="checkKey($event, cell, $index, 'description')"  maxlength="500" class="input-text">
                        </div>
                    </div>                    

                    <div class="col-xs-3 title" title="{{cell.createdOn}}">{{(cell.createdOn | date:'medium') || '---'}}</div>
                    <div class="col-xs-2 title active-status">
                        <div class="mark-read" ng-if="!cell.isActive" ng-click="updateCollection(cell)">Mark as Active</div>
                        <div class="active-name" ng-if="cell.isActive">{{'active_label' | i18nString}}</div>
                        <div class="delete-row" ng-if="!cell.isActive"><i class="btx-delete-1" ng-click="deleteCollection(cell)"></i></div>
                    </div>
                </div>
            </div>
            <div class="alert alert-warning alert-xs text-center" role="alert" ng-if="isLoading">
                <i class="fa-spin fa fa-circle-o-notch"></i>
                {{'loading'| i18nString}}
            </div>
        </div>

    </div>
    <!-- CREATE COLLECTION -->
    <div class="modalSliderContainer width800" ng-if="cb.collectionType === 'CREATE'">   
        <div class="modalHeader">
            <h4 class="modal-title "><i class="btx-close"  ng-click="cancelForm()"></i>{{'create_new_collection' | i18nString}}</h4>    
        </div>         
        <div class="modalBody " perfect-scroll dynamic-height dynaoffset="-90" height-property="height">
            <div class="createnew-collection">
                <div class="kr-sg-dropdowns w-100 mb-20">
                    <div class="label-text"></div>
                    <label>{{'collection_name' | i18nString}}</label>
                    <div class="kr-sg-input-text">
                        <input type="text" ng-model="collectionForm.name" placeholder="Enter Collection Name" maxlength="200" class="input-text" id="ColNameInput">
                    </div>
                </div>

                <div class="kr-sg-input-text-area mb-20">
                    <label>{{'Task_description' | i18nString}}</label>
                    <textarea placeholder="Description" ng-model="collectionForm.description" class="input-text" ng-model="envVariableForm.description" maxlength="500"></textarea>
                </div>

                <div class="kr-sg-dropdowns mb-20" ng-if="cb.collectionList.length">
                    <label>{{'clone_from' | i18nString}}
                        <div class="description">{{'clone_from_desc' | i18nString}}</div>
                    </label>
                    <div class="dropdown dropdown-open">
                        <button class="dropdown-toggle dropdown-input" data-toggle="dropdown">{{collectionForm.cloneFrom.name ? collectionForm.cloneFrom.name:'Select Collection'}}</button>
                        <ul class="dropdown-menu content-menu" perfect-scroll dynamic-height dynaoffset="-500" height-property="height">
                            <li ng-repeat="item in cb.collectionList"><a ng-click="collectionForm.cloneFrom = item">{{item.name}}</a></li>
                        </ul>
                    </div>
                </div>                       
            </div>
        </div>
        <div class="modalFooter">
            <button class="kr-sg-button-primary btn_md marginRight10 minWidth90" ng-click="createCollection()" ng-disabled="selectedStreamState === 'published' || !isFormValid()">{{'save'| i18nString}}</button>
            <button class="kr-sg-button-secondary btn_md minWidth90" ng-click="cancelForm()">{{'cancel'| i18nString}}</button>
        </div>
        <!-- <div class="alert alert-warning alert-xs text-center" role="alert" ng-if="isLoading">
            <i class="fa-spin fa fa-circle-o-notch"></i>
            {{'loading'| i18nString}}
        </div> -->
    </div>
    <!-- EXPORT FILE COLLECTION CHOOSE -->
    <div class="modalSliderContainer width800" ng-if="cb.collectionType === 'EXPORT'">        
        <div class="header-sec col-xs-12 noPadding">
            <div class="col-xs-12 noPadding">
                <div class="main-title"><img class="closeModal" ng-src="{{closeArrow}}" ng-click="cb.close()"> {{'collections' | i18nString}}</div>
                <div class="desc_text">{{'export_collection_text' | i18nString}}</div>
            </div>            
        </div>
        <div class="m-body-sec bot-export-collection" perfect-scroll dynamic-height dynaoffset="-145" height-property="height">
            <div class="table-data" ng-if="!isLoading" ng-class="{'readOnly':selectedStreamState === 'published'}">
                <div class="t-header col-xs-12">
                    <div class="col-xs-4 title">{{'collection_name' | i18nString}}</div>
                    <div class="col-xs-4 title">{{'form_description' | i18nString}}</div>
                    <div class="col-xs-4 title">{{'created' | i18nString}}</div>                    
                </div>
                <div class="t-body" ng-repeat="cell in cb.collectionList track by $index">                    
                    <div class="col-xs-4 title">
                        <div class="kr-sg-radiobutton" title="{{cell.name}}">
                            <input id="radio-{{$index}}" name="radio" class="radio-custom" type="radio" ng-model="cb.selectedCollection" ng-value="cell" ng-change="changeCollection(cell)">
                            <label for="radio-{{$index}}" class="radio-custom-label">{{cell.name || '---'}}</label>
                        </div>
                    </div>                                      
                    <div class="col-xs-4 title" title="{{cell.description}}" for="radio-{{$index}}">{{cell.description || '---'}}</div>                                     
                    <div class="col-xs-4 title" for="radio-{{$index}}" title="{{cell.createdOn}}">{{(cell.createdOn | date:'medium') || '---'}}</div>   
                </div>
            </div>     
        </div>
        <div class="modalFooter">
            <button class="kr-sg-button-primary btn_md marginRight10 minWidth90" ng-click="saveExportCollection()"
            ng-disabled="selectedStreamState === 'published'">{{'save'| i18nString}}</button>
            <button class="kr-sg-button-secondary btn_md minWidth90" ng-click="cb.close()">{{'cancel'| i18nString}}</button>
        </div>
    </div>
</bot-modal-slider>
