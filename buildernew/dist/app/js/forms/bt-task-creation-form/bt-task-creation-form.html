<div ng-if="wfType !== 'knowledge' && wfType !== 'flows' && wfType !== 'flowtask'">
   <div class="modal-header">
      <div class="col-xs-1"><a href="#" class="fa fa-chevron-left btnBack" ng-click="updateStep(1)"></a></div>
      <div class="col-xs-10">
         <!--<h4 class="modal-title" id="gridSystemModalLabel">Create {{isReport ? 'Information' : wfType === 'action' ? 'Action' : 'Alert'}} Task</h4>-->
         <bt-modal-title taskname="{{isReport ? info : wfType === 'action' ? action : alert}}" bot="stream"></bt-modal-title>
      </div>
      <div class="col-xs-1">
         <button ng-click="saveIntro(taskgen.taskGeneralInfoForm.$valid,taskgen.taskGeneralInfoForm)" type="button" class="pull-right nextBtn btn btn-xs btn-primary"><i ng-if="saveInProgress" class="fa fa-spinner fa-spin"></i> {{(saveInProgress)?creating:create}}</button>
         <button type="button" class="pull-right nextBtn btn btn-xs btn-primary hide" ng-click="gotoTaskCreation()">{{'next'| i18nString}}</button>
      </div>
   </div>
   <div class="modal-body modal-body-padding">
      <div class="pageFlow pageFlowPadding100" perfect-scroll dynamic-height dynaoffset = "-150">
         <form name="taskgen.taskGeneralInfoForm" class="wf-form" ng-submit="saveIntro(taskgen.taskGeneralInfoForm.$valid,taskgen.taskGeneralInfoForm)" novalidate>
            <fieldset>
               <div class="col-xs-12 form-group">
                  <div class="col-xs-12 labelling">
                     <label class="required-field">{{'task_name_label'| i18nString}} </label>
                     <div ng-show="introObj.name.length>0" class="pull-right obj-length"> {{60-introObj.name.length+ charRemaining}} </div>
                  </div>
                  <div class="col-xs-12">
                     <input type="text" focusit="true" class="form-control alert-input" input-note note-description="nameDescription" remove-one-ascii ng-disabled="(displayMode==='edit' && getEntityStatus()) || displayMode==='view'" ng-blur="checkTaskWordCount();focus=false" ng-focus="focus=true" ng-model="introObj.name" name="name" id="name" placeholder="{{isReport ? infoName:  wfType.toLowerCase()=='action'?actionName:alertName}}" ng-minlength="1" maxlength="60" spellcheck="true" required ng-pattern="validateTaskName" autocomplete="off">
                     <div ng-show="!focus && taskgen.taskGeneralInfoForm.name.$dirty" class="col-xs-10 noPadding">
                        <div error-alert ng-show="taskgen.taskGeneralInfoForm.name.$error.required" class="text-danger">{{isReport ? infoRequired:  wfType.toLowerCase()=='action'?actionRequired:alertRequired}} </div>
                        <div error-alert ng-show="taskgen.taskGeneralInfoForm.name.$error.pattern && !botNameMatched" class="text-danger"> {{isReport ? infoAllows:  wfType.toLowerCase()=='action'?actionAllows:alertAllows}}</div>
                        <div error-alert ng-show="botNameMatched" class="text-danger"> {{isReport ? infoNObot:  wfType.toLowerCase()=='action'?actionNObot:alertNObot}}</div>
                     </div>
                  </div>
                  <div class="col-xs-1 noPadding infodiv">
                     <i ng-show="!focus && taskgen.taskGeneralInfoForm.name.$dirty && (taskgen.taskGeneralInfoForm.name.$valid && !invalidWordCount) " class="fa fa-check-circle"></i>
                     <i ng-show="!focus && taskgen.taskGeneralInfoForm.name.$dirty && (!taskgen.taskGeneralInfoForm.name.$valid || invalidWordCount)" tooltip-placement="left"  tooltip-html-unsafe="{{'name_casesensitive'| i18nString}}<br><br>{{'special_character'| i18nString}}" class="fa fa-exclamation-circle"></i>
                  </div>
               </div>
               <!-- Display Name Block -->
               <div class="col-xs-12 form-group">
                  <div class="col-xs-12 labelling">
                     <label class="required-field">
                        {{'display_Name'| i18nString}}<!-- Display Name --> 
                     </label>
                  </div>
                  <div class="col-xs-12">
                     <textarea rows="1" ng-disabled="displayMode==='view'" ng-model="introObj.shortdescription" placeholder="{{'display_Name'| i18nString}}" class="form-control" name="description" spellcheck="true" required ng-minlength="1" maxlength="100"></textarea>
                     <div ng-show="taskgen.taskGeneralInfoForm.description.$dirty">
                        <div error-alert ng-show="taskgen.taskGeneralInfoForm.description.$error.required" class="text-danger"> {{isReport ? displayinfoName:  wfType.toLowerCase()=='action'?displayactionName:displayalertName}}</div>
                        <div ng-show="introObj.shortdescription.length>0" class="pull-right">{{100-introObj.shortdescription.length+ charRemaining}}</div>
                     </div>
                  </div>
               </div>
               <div class="col-xs-12 form-group" ng-hide="wfType === 'action'"  ng-if="wfType !== 'flowTask'">
                  <div class="col-xs-12 labelling">
                     <label class="required-field"> {{'connection_type'| i18nString}} </label>
                  </div>
                  <div class="col-xs-12 radioDiv">
                     <div class="radioDivPullLeft" ng-repeat="alerttype in alerttypes" ng-init="introObj.type = 'webservice'">
                        <label>
                        <input ng-value='alerttype.value' type="radio"  ng-model="introObj.type" ng-disabled="(displayMode==='edit' || alertid || wfType === 'action') || displayMode==='view'" name="alertType" ng-change="setAlertspathValue()" required><span class="opt-title">{{alerttype.name}}</span> </input>
                        </label>
                     </div>
                  </div>
               </div>
               <div class="col-xs-12 protipPadding" ng-hide=" true || wfType === 'action'"  ng-if="wfType !== 'flowTask'">
                  <div class="helphint-border col-xs-12 marginB20T0">
                     <div class="col-xs-1 bulbicon">
                        <span><img class="layer" ng-src='{{bulbIcon}}'></span>
                     </div>
                     <div class="col-xs-11"><span class="name ng-binding" ng-bind-html="$root.getSanitizedText($root.lableData.bb502)"></span></div>
                  </div>
               </div>
               <div class="col-xs-12 form-group noMargin" ng-if="introObj.type === 'webservice'">
                  <div class="col-xs-12 labelling">
                     <label class="required-field">{{'connection_mode'| i18nString}}  </label>
                  </div>
                  <div class="col-xs-12 radioDiv">
                     <div class="radioDivPullLeft" ng-repeat="subtype in subtypes" ng-init="introObj.subtype = 'rest'">
                        <label>
                        <input ng-value='subtype.value' type="radio"  ng-model="introObj.subtype" ng-disabled="(displayMode==='edit' || alertid) || displayMode==='view'" name="alertSubType" ng-change="setAlertspathValue()" required><span class="opt-title">{{subtype.name}}</span> </input>
                        </label>
                     </div>
                  </div>
               </div>
               <div class="col-xs-12 protipPadding" ng-hide="true" ng-if="introObj.type === 'webservice'">
                  <div class="helphint-border col-xs-12 ">
                     <div class="col-xs-1 bulbicon"><span><img class="layer" ng-src='{{bulbIcon}}'></span></div>
                     <div class="col-xs-11"><span class="name ng-binding" ng-bind-html="$root.getSanitizedText($root.lableData.bb503)"></span></div>
                  </div>
               </div>
               <!-- end of connection mode -->
               <!-- Long Description Block -->
               <div class="col-xs-12 form-group" ng-if="wfType !== 'flowTask' && false">
                  <div class="col-xs-12 labelling">
                     <label class="required-field" tooltip-placement="right" tooltip=" {{isReport ? infoContext:  wfType.toLowerCase()=='action'?actionContext:alertContext}}"> {{'long_desc'| i18nString}} </label>
                  </div>
                  <div class="col-xs-12">
                     <textarea rows="3" ng-model="introObj.longdescription" ng-disabled="displayMode==='view'" placeholder="{{isReport ? infoDesc:  wfType.toLowerCase()=='action'?actionDesc:alertDesc}}" class="form-control" name="ldescription" required ng-minlength="1" maxlength="2048" spellcheck="true"></textarea>
                     <div ng-show="taskgen.taskGeneralInfoForm.ldescription.$dirty">
                        <div error-alert ng-show="taskgen.taskGeneralInfoForm.ldescription.$error.required" class="text-danger">{{isReport ? infoLong:  wfType.toLowerCase()=='action'?actionLong:alertLong}}</div>
                        <div ng-show="introObj.longdescription.length>0" class="pull-right"> {{2048-introObj.longdescription.length+ charRemaining}} </div>
                     </div>
                  </div>
               </div>
            </fieldset>
         </form>
      </div>
   </div>
   <footer-info ng-if="updateFooterHeader()">
      <div ng-bind-html="$root.getSanitizedText($root.lableData.bb043)"></div>
   </footer-info>
</div>
<!-- Knowledge task metadata modal -->
<div ng-if="wfType === 'knowledge'">
   <div class="modal-header">
      <div class="col-xs-1"><a href="#" class="fa fa-chevron-left btnBack" ng-click="updateStep(1)"></a></div>
      <div class="col-xs-10">
         <!--<h4 class="modal-title" id="gridSystemModalLabel">Create Knowledge Task</h4>-->
         <bt-modal-title title="Create Knowledge Task" bot="stream"></bt-modal-title>
      </div>
      <div class="col-xs-1">
         <button ng-click="saveKnowledgeTask(isFormValid(true),kt.streamktform,$event)" type="button" class="pull-right nextBtn btn btn-xs btn-primary"><i ng-if="saveInProgress" class="fa fa-spinner fa-spin"></i> {{(saveInProgress)?creating:create}}</button>
      </div>
   </div>
   <div class="modal-body modal-body-padding wf-form">
       <div class="pageFlow pageFlowPadding100" perfect-scroll dynamic-height dynaoffset = "-150">
      <form name="kt.streamktform" class="wf-form pageFlowPadding" novalidate>
         <fieldset class="row">
            <div class="col-xs-12 form-group">
               <div class="col-xs-12">
                  <label class="required-field" tooltip-placement="right" tooltip="">{{'Collection_Name'| i18nString}}</label>
               </div>
               <div class="col-xs-12" ng-show="displayMode==='view'">
                  {{knowledgeData.name}}
               </div>
               <div class="col-xs-12" ng-show="displayMode!=='view'">
                  <input type="text" focusit="true" input-note note-description="nameDescription" ng-model="knowledgeData.name" name="name" ng-disabled="knowledgeData.isInMarket" class="form-control" ng-minlength="1" maxlength="50" required ng-pattern="validateTaskName" placeholder="{{'kg_collection'| i18nString}}" autocomplete="off">
                  <div  ng-show="kt.streamktform.name.$dirty">
                     <div error-alert  ng-show="kt.streamktform.name.$error.required" class="text-danger form-error-text"> {{'kg_name_req'| i18nString}} </div>
                     <div error-alert ng-show="kt.streamktform.name.$error.minlength" class="text-danger form-error-text"> {{'Generalform_name_invalid'| i18nString}} </div>
                     <div error-alert ng-show="kt.streamktform.name.$error.pattern" class="text-danger form-error-text">  {{'kg_character'| i18nString}}</div>
                     <div class="pull-right" ng-if="knowledgeData.name.length > 0">{{(50-knowledgeData.name.length)+' characters remaining'}}</div>
                  </div>
                  <div error-alert ng-show="duplicateKTName" class="text-danger form-error-text"> {{'reuse_name'| i18nString}} </div>
               </div>
            </div>
            <div class="col-xs-12 form-group">
               <div class="col-xs-12">
                  <label class="" tooltip-placement="right" tooltip=""> {{'tooltip_desc'| i18nString}}  </label>
               </div>
               <div class="col-xs-12" ng-show="displayMode === 'view'">
                  {{knowledgeData.description}}
               </div>
               <div class="col-xs-12" ng-show="displayMode !== 'view'">
                  <!--  <textarea rows="3" ng-model="knowledgeData.description" placeholder="Describe your {{_constants_.label}} in about 3 to 4 lines" class="form-control" name="description" ng-minlength="1" maxlength="250" required></textarea> -->
                  <input type="text" ng-model="knowledgeData.description" name="description"  class="form-control" placeholder=" {{'optional_name'| i18nString}}" ng-minlength="1" maxlength="250">
                  <div error-alert ng-show="kt.streamktform.description.$error.pattern" class="text-danger form-error-text">  {{'kg_character'| i18nString}}</div>
               </div>
            </div>
         </fieldset>
      </form>
      
      <footer-info ng-if="updateFooterHeader()">
         <div ng-bind-html="$root.getSanitizedText($root.lableData.bb041)"></div>
      </footer-info>
      </div>
   </div>
</div>
<!-- End of Knowledge task modal -->
<!-- start of flows mapping modal -->
<div ng-if="wfType === 'flows'">
   <bt-wf-mapping active-entity ="activeEntityFlow" component="false" footer-mappingid='tasks-create-mapping'></bt-wf-mapping>
</div>
<!-- end of flows mapping modal -->
<!-- start of create dialog modal -->
<div ng-if="wfType === 'flowtask'">
   <bt-create-dialog></bt-create-dialog>
</div>
<!-- end of create dialog modal -->