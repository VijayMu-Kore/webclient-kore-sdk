 <div class="modalSliderContainer width700">
    <form name="ivrDetailForm">
    <div class="modalHeader channelModalHeader">
        <h4 class="modal-title" id="gridSystemModalLabel">{{'bt_chnl_form_liveBank_label'| i18nString}} <i class="btx-close" ng-click="goToHome()"></i></h4>
 </div>
    <div class="modalBody slack-channel-page inner-scroll channelInnerContent" perfect-scroll dynamic-height dynaoffset="-125" height-property="height">
        <div class="col-xs-12 step-progress-container">
            <step-progress steps="steps" on-click="stepClick"></step-progress>
        </div>
        <div class="slcakChannels widthseventy">
            <div class="col-xs-12" ng-show="steps[0].active">
                <div class="col-xs-12 channel-content">
                    <div class="info text-justify">
                        <p>{{'bt_chnl_live_bank_desc'| i18nString}}<br></p>
                        <ol>
                            <li>{{'bt_chnl_live_bank_desc_li1'| i18nString}}</li>
                            <li>{{'bt_chnl_live_bank_desc_li2'| i18nString}}</li>
                            <li>{{'bt_chnl_live_bank_desc_li3'| i18nString}}</li>
                        </ol>
                    </div>


                    <div class="footer modal-header hide  form-group noMargin" ng-if="displayMode !== 'view'">
                        <div class="footerSub">
                            <div class="col-xs-3"><button type="button"  ng-click="$parent.goToHome()" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">+</span></button></div>

                            <div  class="col-xs-6 lineheight"><div class="form-ctrl-div pull-left hide">
                                    <button type="button"  class="btn btn-default" ng-click="$parent.goToHome()">{{'exit_label'| i18nString}}</button>
                                </div>
                                <div class="help-hint-link"> <a target="_blank"  ng-href="{{$root.helpLinks.ADD_CHANNEL_WFACEBOOK}}">{{'help_withpage_label'| i18nString}}</a> </div>
                            </div>
                            <div class="col-xs-3">
                                <div class="pull-right form-ctrl-div">
                                    <button type="button"  class="btn btn-primary" ng-click="$parent.next(2)">{{'next'| i18nString}}</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div></div>
            <div class="col-xs-12" ng-show="steps[1].active">
                    <div class="channel-content ivr-channel">
                        <div class="row form-group col-xs-11">
                            <div  ng-show="apps.length < 1" class="apps-empty">
                                <div>{{'you_dont_have_any_apps_now'| i18nString}}</div>
                                <div ng-class="{'screenFreeze':streamState.state=='published'}">{{'bt_chnl_rtm_chnl_create_app'| i18nString}} <a ng-click="createApp()">Create App.</a></div>
                                <div  ng-bind-html="'read_app_creation'| i18nString:({link:$root.helpLinks.CREATE_APP})"></div>
                            </div>
                            <div class="form-ele-title col-xs-8 noPadding noMargin" ng-show="apps.length > 0" ><label class="required-field">{{'select_app'| i18nString}}</label></div>
                            <div class="col-xs-8 selectAppInput noPadding" ng-show="apps.length > 0" ng-class="{'screenFreeze':streamState.state=='published'}">
                                <!-- <select id="select2" ui-select2="selectConfig" ng-disabled="isNonEditable" data-placeholder="{{'choose'| i18nString}}" ng-model="selectedApp">
                                    <option value=""></option>
                                    <option value="create" ng-class="{'screenFreeze':streamState.state=='published'}">{{'create_app'| i18nString}}</option>
                                    <optgroup label="{{'select_app'| i18nString}}" >
                                        <option ng-repeat="app in apps" ng-selected="{{app.clientId === selectedAppView.clientId}}" value="{{app.clientId}}" >{{app.appName}}</option>
                                    </optgroup>
                                </select> -->
                                <div class="kr-sg-dropdowns selectapp-dropdown">                                        
                                    <div class="dropdown dropdown-open open">
                                        <button class="dropdown-toggle dropdown-input" data-toggle="dropdown">{{selectedAppView.appName || 'Choose'}}</button>                                            
                                        <ul class="dropdown-menu content-menu" perfect-scroll style="max-height: 250px;">
                                          <li ng-click="createApp()" ng-class="{'screenFreeze':streamState.state=='published'}"><a >{{'create_app'| i18nString}}</a></li>
                                          <li class="selectTitle">{{'select_app'| i18nString}}</li>
                                          <li ng-repeat="app in apps" ng-click="onSelectedApp(app.clientId)"><a title="{{app.appName}}">{{app.appName}} <span class="check-icon pull-right" ng-if="selectedAppView.clientId === app.clientId"><i class="btx-check"></i></span></a></li>
                                        </ul>
                                      </div>
                                </div>
                            </div>
                            <div class="col-xs-3 appButtonsDiv" ng-hide="isNonEditable" ng-class="{'screenFreeze':streamState.state=='published'}">
                                <span class="appButtons displayFlex">
                                    <button ng-show="selectedAppView.clientId" ng-click="editApp()" type="button" class="btn marginRight10" >{{'edit'| i18nString}}</button>
                                    <button ng-click="createNewApp()" type="button" class="btn" >Add</button>
                                </span>
                            </div>
                        </div>
                        <div class="col-xs-11 ivr-channel marginLeft15 noPadding" ng-show="selectedAppView.clientId">
                            <div class="edit-appDetailsDiv">
                                <div class="row form-group">
                                    <div class="form-ele-title col-xs-10" >{{'botName'| i18nString}}</div>
                                    <div class="col-xs-10 noPaddingRight">
                                        <input id="botname" readonly class="form-control" ng-model='stream.name' type="text"/>
                                    </div>
                                    <div class="col-xs-2">
                                        <button  data-clipboard-target="#botname"  type="button" class="btn btn-primary btnCopySave" >{{'copy'| i18nString}}</button>
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <div class="form-ele-title col-xs-10" >{{'bot_id'| i18nString}}</div>
                                    <div class="col-xs-10 noPaddingRight">
                                        <input readonly id="botId" class="form-control" ng-model='stream._id' type="text"/>
                                    </div>
                                    <div class="col-xs-2">
                                        <button  data-clipboard-target="#botId"  type="button" class="btn btn-primary btnCopySave" >{{'copy'| i18nString}}</button>
                                    </div>
                                </div>
                                <div class="row form-group" ng-show="selectedAppView.clientId">
                                    <div class="form-ele-title col-xs-8" >{{'clientId_label'| i18nString}}</div>
                                    <div class="col-xs-10 noPaddingRight">
                                        <div>
                                            <input id="clientId_addChnl" readonly class="form-control" value='{{selectedAppView.clientId}}' type="text"/>
                                        </div>
                                    </div>
                                    <div class="col-xs-2">
                                        <button  data-clipboard-target="#clientId_addChnl"  type="button" class="btn btn-primary btnCopySave" >{{'copy'| i18nString}}</button>
                                    </div>
                                </div>
                                <div class="row form-group"  ng-show="selectedAppView.clientId">
                                    <div class="form-ele-title col-xs-8" >{{'clientsecret_label'| i18nString}}</div>
                                    <div class="col-xs-10 noPaddingRight">
                                        <div>
                                            <input ng-show="secretKeyShown" id="secretKeyId_addChnl" readonly class="form-control" value='{{selectedAppView.clientSecret}}' type="text"/>
                                            <input ng-hide="secretKeyShown" disabled class="form-control" value='{{selectedAppView.clientSecret| mask}}' type="text"/>
                                        </div>
                                    </div>
                                    <div class="col-xs-2">
                                        <button ng-show="secretKeyShown" data-clipboard-target="#secretKeyId_addChnl"  type="button" class="btn btn-primary btnCopySave" >{{'copy'| i18nString}}</button>
                                        <button ng-hide="secretKeyShown" ng-click="showHideSecret()" type="button" class="btn btn-primary btnCopySave" >{{'view'| i18nString}}</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                <div class="col-xs-12 channel-content">
                    <div class="info paddingTop20">
                        <div class="col-xs-12 form-group noPadding">
                            <div class="col-xs-10 noPadding">
                                <label>{{'call_back_url'| i18nString}}</label>
                            </div>
                            <div class="col-xs-10 noPadding">{{'bt_chnl_live_bank_callback_url_desc'| i18nString}}</div>
                            <div class="col-xs-10 paddingTopBottom10">
                                <input type="text" class="form-control" ng-model="channel.callbackUrl"  name="appName">
                            </div>
                        </div>
                    </div>
                </div>
            
                <div class="col-xs-12 channel-content">
                    <div class="info paddingTop20">
                        <div class="col-xs-12 form-group noPadding">
                            <div class="col-xs-10 noPadding">
                                <label>{{'webhookurl_label'| i18nString}}</label>
                            </div>
                            <div class="col-xs-10 noPadding">{{'Bt_chnl_ivr_config_webhook_desc'| i18nString}}</div>
                            <div class="col-xs-10 paddingTopBottom10">
                                <div class="input-group">
                                    <input type="text" id="ivroauthuri{{step.step}}" class="form-control" ng-model="channel.oAuthRedirectURI" ng-readonly="true" name="appName">
                                    <div class="input-group-addon pointer-hand" data-clipboard-target="#ivroauthuri{{step.step}}"> {{'copy'| i18nString}} </div>  
                                </div> 
                                <div ng-show="isSafariwebhook"><span class="pull-right">{{'press_c'| i18nString}}<span></div>              
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 channel-content" ng-class="{'screenFreeze':streamState.state=='published'}">
                    <div class="info"> 
                        <div class="">
                            <div class="col-xs-12 form-group noPadding">
                                <label>{{'enable_chnl'| i18nString}}</label>
                            </div>
                        </div>
                    </div>
                    <div class="radioDiv">
                        <div>
                            <label for="channel.enable.no">
                                <input ng-value="false" ng-checked="true" type="radio" ng-model="channel.enable" name="channel.enable" id="channel.enable.no" class="ng-pristine ng-untouched ng-valid" value="false" checked="checked"><span class="opt-title">{{'no'| i18nString}}</span> 
                            </label>
                        </div>
                        <div >
                            <label for="channel.enable.yes">
                                <input ng-value="true" type="radio" ng-model="channel.enable" name="channel.enable" id="channel.enable.yes"  class="ng-pristine ng-untouched ng-valid" value="true">
                                <span class="opt-title">{{'yes'| i18nString}}</span> 
                            </label>
                        </div>
                    </div>
                </div>
                 <div class="footer modal-header hide form-group noMargin" ng-if="displayMode !== 'view'">
                     <div class="footerSub">
                         <div class="col-xs-3"><button type="button"  ng-click="$parent.goToHome()" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">+</span></button></div>
                         <div  class="col-xs-6 lineheight">
                             <div class="form-ctrl-div pull-left hide">
                                 <button type="button"  class="btn btn-default" ng-click="$parent.goToHome()">{{'exit_label'| i18nString}}</button>
                             </div>
                             <div class="help-hint-link"> <a target="_blank"  ng-href="{{$root.helpLinks.ADD_CHANNEL_WFACEBOOK}}">{{'help_withpage_label'| i18nString}}</a> </div>
                         </div>
                         <div class="col-xs-3">
                             <div class="pull-right form-ctrl-div">
                                 <button type="button"  class="btn btn-default " ng-click="$parent.save(ivrDetailForm)">{{'save'| i18nString}}</button>
                                 <button type="button"  class="btn btn-primary " ng-disabled="ivrDetailForm.$invalid" ng-click="$parent.next(3)">{{'next'| i18nString}}</button>
                             </div>
                         </div>
                     </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modalFooter">
        <button type="button" class="btn" ng-click="next(2)" ng-show="steps[0].active">{{'next'| i18nString}}</button>
        <button type="button" class="btn" ng-click="save(ivrDetailForm)" ng-show="steps[1].active" ng-class="{'screenFreeze':streamState.state=='published'}">{{'save'| i18nString}}</button>
        <button class="btn closeCancel" ng-click="goToHome()">Cancel</button>
    </div>
    </form>
</div>

