<div class="modalSliderContainer width700">
    <form name="facebookDetailForm">
        <div class="modalHeader channelModalHeader">
            <h4 class="modal-title" id="gridSystemModalLabel">
                <i class="btx-close"   ng-click="goToHome()"></i>
                    {{'constants.iconsTooltips_facebook'| i18nString}}
            </h4>
        </div>
        <div class="modalBody fb-channel-page inner-scroll channelInnerContent" perfect-scroll dynamic-height dynaoffset="-125" height-property="height">
            <div class="col-xs-12 step-progress-container">
                <step-progress steps="steps" on-click="stepClick"></step-progress>
            </div>
            <div ng-repeat="step in steps" ng-if="step.active" class="fbChannels widthseventy">
                <div class="col-xs-12 noPadding" ng-show="step.step == 1">
                    <div class="col-xs-12 channel-content">
                        <div class="info">
                            {{'Bt_chnl_fbmsngr_instruct_desc'| i18nString}} 
                        </div>
                    </div>
                    <div class="col-xs-12 channel-content">
                        <div class="info">
                            <p class="channelstep">{{'Bt_chnl_fbmsngr_instruct_step1_label'| i18nString}}</p>
                            <p ng-bind-html="'login_facebook'| i18nString:({link:'https://developers.facebook.com/'})">
                            </p>
                            <img ng-src="{{assetsBase}}images/fbm-1.png"  class="marginBottom10 width100percent"/> 
                            <p>{{'Bt_chnl_fbmsngr_instruct_step1_desc2'| i18nString}}
                            </p>
                            <img ng-src="{{assetsBase}}images/fbm-2.png"  /> 
                        </div>
                    </div>
                    <div class="col-xs-12 channel-content">
                        <div class="info"> 
                            <p class="channelstep">{{'Bt_chnl_fbmsngr_instruct_step2_label'| i18nString}}</p>
                            <p ng-bind-html="'fb_channel_page'| i18nString:({link:'https://www.facebook.com/pages/create'})"></p>

                            <img ng-src="{{assetsBase}}images/fbm-3.png"  class="marginBottom10 width100percent"/> 
                            <p>{{'Bt_chnl_fbmsngr_instruct_step2_desc2'| i18nString}}  </p>

                            <img ng-src="{{assetsBase}}images/fbm-7.png"  class="marginBottom10 marginTop10 width100percent"/>
                            <p>{{'Bt_chnl_fbmsngr_instruct_step2_desc3'| i18nString}} 
                            </p>
                        </div>
                        <img ng-src="{{assetsBase}}images/fbm-4.png" class="marginBottom10 width100percent" />
                    </div>
                    <div class="col-xs-12 channel-content">
                        <div class="info">
                            <p class="channelstep">{{'Bt_chnl_fbmsngr_instruct_step3_label'| i18nString}}</p>

                            <p>{{'Bt_chnl_fbmsngr_instruct_step3_desc1'| i18nString}}
                            </p>
                            <img ng-src="{{assetsBase}}images/fbm-5.png" class="marginBottom10 width100percent" /> 
                            <p>{{'Bt_chnl_fbmsngr_instruct_step3_desc2'| i18nString}}
                            </p>
                            <img ng-src="{{assetsBase}}images/fbm-6.png" class="marginBottom10 width100percent" /> 
                        </div>
                    </div>
                    <div class="col-xs-12 channel-content">
                        <div class="info"> 
                            <p class="channelstep">{{'Bt_chnl_fbmsngr_instruct_step4_label'| i18nString}}
                            </p> <p ng-bind-html="'submit_facebook_link'| i18nString:({link:'https://developers.facebook.com/docs/messenger-platform/app-review#submission'})">.
                            </p> </div>
                    </div>
                    <div class="footer modal-header hide  form-group noMargin" ng-if="displayMode !== 'view'">
                        <div class="footerSub">
                            <div class="col-xs-3"><button type="button"  ng-click="$parent.goToHome()" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">+</span></button></div>

                            <div  class="col-xs-6 lineheight"><div class="form-ctrl-div pull-left hide">
                                    <button type="button"  class="btn btn-default" ng-click="$parent.goToHome()">{{'exit_label'| i18nString}}</button>
                                </div>
                                <div class="help-hint-link"> <a target="_blank"  ng-href="{{$root.helpLinks.ADD_CHANNEL_FB}}">{{'help_withpage_label'| i18nString}}</a> </div>
                            </div>
                            <div class="col-xs-3">
                                <div class="pull-right form-ctrl-div">
                                    <button type="button"  class="btn btn-primary" ng-click="$parent.next(2)">{{'next'| i18nString}} </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xs-12 noPadding" ng-show="step.step == 2">

                    <div class="col-xs-12 channel-content">
                        <div class="info">
                            <div class="col-xs-12 form-group noPadding">
                                <div class="col-xs-12 noPadding">
                                    <label>{{'webhookurl_label'| i18nString}}</label>
                                </div>
                                <div class="col-xs-12 noPadding">
                                    <div class="input-group">
                                        <input type="text" id="fb_webhook_url" class="form-control" ng-model="channel.webhook_url" ng-readonly="true" name="appName">
                                        <div class="input-group-addon pointer-hand" data-clipboard-target="#fb_webhook_url"> {{'copy'| i18nString}} </div>  
                                    </div>
                                    <div ng-show="isSafariwh"><span class="pull-right">{{'press_c'| i18nString}}</span></div>               
                                </div>
                            </div>
                            <div class="col-xs-12 form-group noPadding">
                                <div class="col-xs-12 noPadding">
                                    <label>{{'Bt_chnl_fbmsngr_config_verifytoken_label'| i18nString}}</label>
                                </div>
                                <div class="col-xs-12 noPadding">
                                    <div class="input-group" ng-class="{'screenFreeze':streamState.state=='published'}">
                                        <input type="text" id="fb_verify_token" class="form-control" ng-readonly="channel.verify_token" ng-model="channel.verify_token" name="verifyToken">
                                        <div class="input-group-addon pointer-hand copybtn" data-clipboard-target="#fb_verify_token"> {{'copy'| i18nString}} </div>
                                    </div>
                                    <div ng-show="isSafarivt"><span class="pull-right">{{'press_c'| i18nString}}</span></div>
                                </div>
                            </div>
                            <p>{{'Bt_chnl_fbmsngr_config_note'| i18nString}}
                            </p>
                            <div class="col-xs-12 form-group noPadding" ng-class="{'screenFreeze':streamState.state=='published'}">
                                <div class="col-xs-12 noPadding">
                                    <label class="required-field">{{'Bt_chnl_fbmsngr_config_pageacesstoken_label'| i18nString}}</label>
                                </div>
                                <div class="col-xs-12 form-group noPadding mb-0">
                                    <input type="text" class="form-control" ng-model="channel.page_token" name="accessToken" required>
                                    <div  ng-show="facebookDetailForm.accessToken.$dirty">
                                        <div error-alert ng-show="facebookDetailForm.accessToken.$error.required" class="text-danger">
                                            {{'Bt_chnl_fbmsngr_config_pageacesstoken_err'| i18nString}}
                                        </div>
                                    </div>
                                </div>
                                <br>
                                <br>
                            </div>
                            <div class="col-xs-12 form-group noPadding" ng-class="{'screenFreeze':streamState.state=='published'}">
                                <div class="col-xs-12 noPadding">
                                    <label class="required-field">{{'Bt_chnl_fbmsngr_config_pageId_label'| i18nString}}</label>
                                </div>
                                <div class="col-xs-10 noPadding">
                                    <input type="text" class="form-control" ng-model="channel.page_id" name="page_id" required>
                                    <div  ng-show="facebookDetailForm.page_id.$dirty">
                                        <div error-alert ng-show="facebookDetailForm.page_id.$error.required" class="text-danger">
                                            {{'Bt_chnl_fbmsngr_config_pageId_err'| i18nString}}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xs-12 form-group noPadding" ng-class="{'screenFreeze':streamState.state=='published'}">
                                <div class="col-xs-12 noPadding">
                                    <label class="required-field">{{'Bt_chnl_fbmsngr_config_appid_label'| i18nString}}</label>
                                </div>
                                <div class="col-xs-12 noPadding">
                                    <input type="text" class="form-control" ng-model="channel.app_id" name="app_id" required>
                                    <div  ng-show="facebookDetailForm.app_id.$dirty">
                                        <div error-alert ng-show="facebookDetailForm.app_id.$error.required" class="text-danger">
                                            {{'Bt_chnl_fbmsngr_config_appid_err'| i18nString}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 form-group noPadding" ng-class="{'screenFreeze':streamState.state=='published'}">
                                <div class="col-xs-12 noPadding">
                                    <label class="required-field">{{'Bt_chnl_fbmsngr_config_appsecret_label'| i18nString}}</label>
                                </div>
                                <div class="col-xs-10 noPadding">
                                    <input type="text" class="form-control" ng-model="channel.app_secret" name="app_secret" required>
                                    <div  ng-show="facebookDetailForm.app_secret.$dirty">
                                        <div error-alert ng-show="facebookDetailForm.app_secret.$error.required" class="text-danger">
                                            {{'Bt_chnl_fbmsngr_config_appsecret_err'| i18nString}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                              <div class="col-xs-12 row form-group noPadding mb-0" ng-class="{'screenFreeze':streamState.state=='published'}">
                                <div class="col-xs-12 form-group noPadding marginbottom5">
                                    <label>{{'Bt_chnl_fbmsngr_config_typingindicator_label'| i18nString}}</label>
                                </div>

                                <div class="col-xs-12 radioDiv noPadding">
                                    <div>
                                        <label for="channel.typingIndicator.yes" >
                                            <input ng-value="true"  type="radio" ng-model="channel.typingIndicator" name="channel.typingIndicator" id="channel.typingIndicator.yes" class="ng-pristine ng-untouched ng-valid" value="true" ><span class="opt-title">{{'Bt_chnl_fbmsngr_config_typingindicator_yes'| i18nString}}</span> 
                                        </label>
                                    </div>
                                    <div>
                                        <label for="channel.typingIndicator.no">
                                            <input ng-value="false" ng-checked="true" type="radio" ng-model="channel.typingIndicator" name="channel.typingIndicator" id="channel.typingIndicator.no"  class="ng-pristine ng-untouched ng-valid" value="false" checked="checked"><span class="opt-title">{{'Bt_chnl_fbmsngr_config_typingindicator_no'| i18nString}}</span> 
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 row form-group noPadding mb-0" ng-class="{'screenFreeze':streamState.state=='published'}">
                                <div class="col-xs-12 form-group noPadding">
                                    <label>{{'enable_chnl'| i18nString}}</label>
                                    <p class="mb-0">{{'Bt_chnl_fbmsngr_config_enablechnl_desc'| i18nString}}</p>
                                </div>

                                <div class="col-xs-12 radioDiv noPadding">
                                    <div>
                                        <label for="channel.enable.no" >
                                            <input ng-value="false" ng-checked="true" type="radio" ng-model="channel.enable" name="channel.enable" id="channel.enable.no" class="ng-pristine ng-untouched ng-valid" value="false" checked="checked"><span class="opt-title">{{'no'| i18nString}}</span> 
                                        </label>
                                    </div>
                                    <div>
                                        <label for="channel.enable.yes">
                                            <input ng-value="true" type="radio" ng-model="channel.enable" name="channel.enable" id="channel.enable.yes"  class="ng-pristine ng-untouched ng-valid" value="true"><span class="opt-title">{{'yes'| i18nString}}</span> 
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modalFooter">
            <button type="button" class="btn" ng-click="next(2)" ng-show="steps[0].active">{{'next'| i18nString}}</button>
            <button type="button" class="btn" ng-click="save(facebookDetailForm)"  ng-show="steps[1].active" ng-class="{'screenFreeze':streamState.state=='published'}">{{'save'| i18nString}}</button>
            <button class="btn closeCancel" ng-click="goToHome()">Cancel</button>
        </div>
    </form>
</div>
