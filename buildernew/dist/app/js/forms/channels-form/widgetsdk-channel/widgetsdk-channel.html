<div class="modalSliderContainer width700 websdk-channel-slider">
<form name="livePersonForm">
  <div class="modalHeader channelModalHeader">
    <h4 class="modal-title" id="gridSystemModalLabel">
      <i class="btx-close"   ng-click="goToHome()"></i> 
      {{'constants.iconsTooltips_widgetsdk'| i18nString}}
    </h4>
    <div class="save pull-right" >
        
    </div>
    <div class="save pull-right" >
     
    </div>
      
  </div>
  <div class="modalBody widgetsdk-channel-page fb-channel-page inner-scroll " perfect-scroll dynamic-height dynaoffset="-125" height-property="height">
    <div class="col-xs-12 step-progress-container noPadding">
      <step-progress steps="steps" on-click="stepClick"></step-progress>
  </div>  
    <div ng-repeat="step in steps" ng-if="step.active" class="fbChannels">
      <div class="col-xs-12 p-0" ng-show="step.step == 1">
        <div class="col-xs-12 channel-content noPadding">
          <div class="info noMargin">
            <div class="info">
              <p>{{'Bt_chnl_widgetsdk_instruct_desc1'| i18nString}}</p>
              <p>{{'Bt_chnl_widgetsdk_instruct_desc2'| i18nString}}</p>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xs-12 noPadding" ng-show="step.step == 2">
        <div class="col-xs-12 content-loading height90vh" ng-show="loadingAddChannel">
          <span class="spinner-text"><i class="fa fa-circle-o-notch fa-spin-fast"></i>
          <span class="spinner-text-content ng-binding">{{'loading'| i18nString}}</span></span>
        </div>
        <div class="col-xs-12 content-wrap  topMargin webMobileClientChannel top0Imp noPadding"  ng-show="!(loadingAddChannel)">
          <div class="channel-content widthseventy">
            <div class="row form-group ">
              <div  ng-show="apps.length<1" class="apps-empty">
                <div>{{'you_dont_have_any_apps_now'| i18nString}}</div>
                <div ng-class="{'screenFreeze':streamState.state=='published'}">{{'bt_chnl_rtm_chnl_create_app'| i18nString}} <a ng-click="createApp()">{{'create_app'| i18nString}}.</a></div>
                <div  ng-bind-html="'read_app_creation'| i18nString:({link:$root.helpLinks.CREATE_APP})"></div>
              </div>
              <p class='config-text'>{{'Bt_chnl_widgetsdk_config_desc1'| i18nString}} </p>
              <label class="col-xs-6" ng-show="apps.length>0" >{{'Bt_chnl_config_selectApp_label'| i18nString}}</label>
              <div class="col-xs-9 selectAppInput" ng-show="apps.length>0">
                <!-- <select id="select2" ui-select2="selectConfig" ng-disabled="isNonEditable" data-placeholder="{{'choose'| i18nString}}" ng-model="selectedApp.selApp"  ng-change="selectApp">
                  <option value=""></option>
                  <option value="create" ng-class="{'screenFreeze':streamState.state=='published'}">{{'create_app'| i18nString}}</option>
                  <optgroup label="{{'select_app'| i18nString}}" >
                    <option ng-repeat="app in apps" ng-selected="{{app.clientId===selectedAppView.clientId}}" value="{{app.clientId}}" >{{app.appName}}</option>
                  </optgroup>
                </select> -->
                <div class="kr-sg-dropdowns selectapp-dropdown">                                        
                  <div class="dropdown dropdown-open open">
                      <button class="dropdown-toggle dropdown-input" data-toggle="dropdown">{{selectedAppView.appName || 'Choose'}}</button>                                            
                      <ul class="dropdown-menu content-menu" perfect-scroll style="max-height: 250px;">
                        <li ng-click="createApp()" ng-class="{'screenFreeze':streamState.state=='published'}"><a >{{'create_app'| i18nString}}</a></li>
                        <li class="selectTitle">{{'select_app'| i18nString}}</li>
                        <li ng-repeat="app in apps" ng-click="onSelectedApp(app.clientId)"><a title="{{app.appName}}">{{app.appName}} <span class="check-icon pull-right" ng-if="selectedAppView.clientId === app.clientId"><i class="btx-check"></i></span></a></li>
                      </ul>
                    </div>
                </div>
              </div>
              
              <div class="col-xs-3 appButtonsDiv noPadding" ng-hide="isNonEditable" ng-class="{'screenFreeze':streamState.state=='published'}">
                <span class="appButtons displayFlex noMargin">
                <button ng-show="selectedAppView.clientId" ng-click="editApp()" type="button" class="btn marginRight10" >{{'edit'| i18nString}}</button>
                <button ng-click="createNewApp()" type="button" class="btn" >{{'add_label'| i18nString}}</button>
                </span>
              </div>
            </div>
            <div class="col-xs-12" ng-show="selectedAppView.clientId">
              <div class="edit-appDetailsDiv">
                <div class="row form-group">
                  <div class="form-ele-title col-xs-10 " >{{'botName'| i18nString}}</div>
                  <div class="col-xs-10 noPaddingRight">
                    <input id="botname" readonly class="form-control" ng-model='stream.name' type="text"/>
                  </div>
                  <div class="col-xs-2">
                    <button  data-clipboard-target="#botname"  type="button" class="btn btn-primary btnCopySave" >{{'copy'| i18nString}}</button>
                  </div>
                </div>
                <div class="row form-group">
                  <div class="form-ele-title col-xs-10 " >{{'bot_id'| i18nString}}</div>
                  <div class="col-xs-10 noPaddingRight">
                    <input readonly id="botId" class="form-control" ng-model='stream._id' type="text"/>
                  </div>
                  <div class="col-xs-2">
                    <button  data-clipboard-target="#botId"  type="button" class="btn btn-primary btnCopySave" >{{'copy'| i18nString}}</button>
                  </div>
                </div>
                <div class="row form-group" ng-show="selectedAppView.clientId">
                  <div class="form-ele-title col-xs-8" >{{'clientId_label'| i18nString}}</div>
                  <div class="col-xs-10 noPaddingRight">
                    <div>
                      <input id="clientId_addChnl" readonly class="form-control" value='{{selectedAppView.clientId}}' type="text"/>
                    </div>
                  </div>
                  <div class="col-xs-2">
                    <button  data-clipboard-target="#clientId_addChnl"  type="button" class="btn btn-primary btnCopySave" >{{'copy'| i18nString}}</button>
                  </div>
                </div>
                <div class="row form-group"  ng-show="selectedAppView.clientId">
                  <div class="form-ele-title col-xs-8" >{{'clientsecret_label'| i18nString}}</div>
                  <div class="col-xs-10 noPaddingRight">
                    <div>
                      <input ng-show="secretKeyShown" id="secretKeyId_addChnl" readonly class="form-control" value='{{selectedAppView.clientSecret}}' type="text"/>
                      <input ng-hide="secretKeyShown" disabled                  class="form-control" value='{{selectedAppView.clientSecret| mask}}' type="text"/>
                    </div>
                  </div>
                  <div class="col-xs-2">
                    <button ng-show="secretKeyShown" data-clipboard-target="#secretKeyId_addChnl"  type="button" class="btn btn-primary btnCopySave" >{{'copy'| i18nString}}</button>
                    <button ng-hide="secretKeyShown" ng-click="showHideSecret()" type="button" class="btn btn-primary btnCopySave" >View</button>
                  </div>
                </div>
                <div class="row form-group" ng-show="selectedAppView.key">
                  <div class="form-ele-title col-xs-8" >{{'public_key_label'| i18nString}}</div>
                  <div class="col-xs-10 noPaddingRight">
                    <div>
                      <input id="key_addChnl" readonly class="form-control" value='{{selectedAppView.key}}' type="text"/>
                    </div>
                  </div>
                  <div class="col-xs-2">
                    <button  data-clipboard-target="#key_addChnl"  type="button" class="btn btn-primary btnCopySave" >{{'copy'| i18nString}}</button>
                  </div>
                </div>
                <div class="col-xs-12 JSONDiv">
                  <span class="">{{'json_JWE_link'| i18nString}}</span><span data-toggle="modal" data-target="#JWTToken" class="JSONText"> {{'here'| i18nString}}</span>
                </div>
              </div>
            </div>
            <div class="bots option row form-group" ng-show="(selectedAppView.bots|otherbots:stream).length > 0" ng-class="{'screenFreeze':streamState.state=='published'}">
              <div class="col-sm-12 form-ele-title"> {{'other_bots_associated_with_this_app'| i18nString}} </div>
              <div class="col-sm-12"> {{selectedAppView.bots|otherbots:stream}} </div>
            </div>
            <div class="col-xs-12 form-group ng-hide" ng-init="$parent.$parent.widgetsdk.isAlertsEnabled=$parent.$parent.widgetsdk.isAlertsEnabled ||false" ng-class="{'screenFreeze':streamState.state=='published'}" >
              <div class="col-xs-12 noPadding">
                <label  tooltip-placement="right" tooltip="" >{{'Bt_chnl_web_mobile_client_allowalert_label'| i18nString}}</label>
              </div>
              <div class="col-xs-12 noPadding radioDiv" >
                <div>
                  <div>
                    <label for="isAlertsEnabled.yes">
                    <input ng-value=true  type="radio"  ng-model="$parent.$parent.widgetsdk.isAlertsEnabled" name="isAlertsEnabled" id="isAlertsEnabled.yes" ><span class="opt-title">{{'Bt_chnl_web_mobile_client_allowalert_label_yes'| i18nString}}</span> </input>
                    </label>
                  </div>
                  <div>
                    <label for="isAlertsEnabled.no">
                    <input ng-value=false  type="radio"   ng-model="$parent.$parent.widgetsdk.isAlertsEnabled" name="isAlertsEnabled" id="isAlertsEnabled.no"><span class="opt-title">{{'Bt_chnl_web_mobile_client_allowalert_label_no'| i18nString}}</span> </input>
                    </label>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-xs-12 form-group ng-hide" ng-class="{'screenFreeze':streamState.state=='published'}">
              <div class="col-xs-12 noPadding">
                <label  tooltip-placement="right" tooltip="" >{{'use_speech_recognition'| i18nString}}</label>
              </div>
              <div class="col-xs-12 noPadding radioDiv" >
                <div>
                  <div>
                    <label for="speech.yes">
                    <input ng-value=true  type="radio"  ng-model="speech.sttEnabled" name="isSpeechRequired" id="speech.yes" ><span class="opt-title">{{'use_speech_recognition_yes'| i18nString}}</span> </input>
                    </label>
                  </div>
                  <div>
                    <label for="speech.no">
                    <input ng-value=false  type="radio"   ng-model="speech.sttEnabled" name="isSpeechNotRequired" id="speech.no"><span class="opt-title">{{'use_speech_recognition_no'| i18nString}}</span> </input>
                    </label>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-xs-12 form-group" ng-if="speech.sttEnabled" ng-hide="true" ng-class="{'screenFreeze':streamState.state=='published'}">
              <div class="col-xs-12 noPadding">
                <label  tooltip-placement="right" tooltip="" >{{'choose_speech_engine'| i18nString}}</label>
              </div>
              <div class="col-xs-12 noPadding radioDiv" >
                <div>
                  <div>
                    <label for="speech.sttEngine.kore">
                    <input value="kore"  type="radio"  ng-model="speech.sttEngine" name="useKoreSpeechEngine" id="speechEngine.yes" ><span class="opt-title">{{'kore_speech_engine'| i18nString}}</span> </input>
                    </label>
                  </div>
                  <div>
                    <label for="speech.sttEngine.native">
                    <input value="native"  type="radio"   ng-model="speech.sttEngine" name="useNativeSpeechEngine" id="speechEngine.no"><span class="opt-title">{{'mobile_native_speech_engine'| i18nString}}</span><span class="titleSuffix">{{'applicable_only_for_mobile_sdk'| i18nString}}</span> </input>
                    </label>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-xs-12 marginBottom15 ng-hide" ng-class="{'screenFreeze':streamState.state=='published'}">
              <div class="hintDiv">
                <span class="icon"><i class="btx-bulb" ></i></span>
                <span class="description ng-binding" ng-bind-html="$root.getSanitizedText($root.lableData.bb535)"></span>
              </div>
            </div>
            <div class="col-xs-12 form-ele-title form-group radioDiv options-wrap" ng-class="{'screenFreeze':streamState.state=='published'}">
              <div>
                <label>{{'enable_chnl'| i18nString}}</label>
              </div>
              <p>{{'enable_widget_sdk'| i18nString}}</p>
              <div class="col-xs-12 radioDiv noPadding">
                  <div>
                      <label for="channel.enable.no" >
                          <input ng-value="false" ng-checked="true" id="channel.enable.no" type="radio" ng-model="channel.enable" ng-disabled = 'streamState === "published"'>
                          <span class="opt-title">{{'no'| i18nString}}</span> 
                      </label>
                  </div>
                  <div>
                      <label for="channel.enable.yes">
                          <input ng-value="true" type="radio" id="channel.enable.yes" name="channel.enable" ng-model="channel.enable" ng-disabled = 'streamState === "published"'><span class="opt-title">{{'yes'| i18nString}}</span> 
                      </label>
                  </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modalFooter">
    <button type="button" class="btn" ng-click="next(2)" ng-show="steps[0].active">{{'next'| i18nString}}</button>
    <button type="button" class="btn"  ng-disabled="!selectedAppView.clientId " ng-click="savewidgetsdk(selectedAppView)" ng-hide="loadingAddChannel || !steps[1].active"  ng-class="{'screenFreeze':streamState.state=='published'}">{{'save'| i18nString}}</button>
    <button class="btn closeCancel" ng-click="goToHome()">Cancel</button>
 </div>
</form>
</div>
<div id="JWTToken" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">{{'jwe_key'| i18nString}}</h4>
      </div>
      <div class="modal-body">
        <div class='csCode' id= "copyJWT">
          <pre>
              {
              "e":{{JWEPublicKey.e}}
              "kid":{{JWEPublicKey.kid}}
              "kty":{{JWEPublicKey.kty}}
              "n":{{JWEPublicKey.n}}
              }
            </pre>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" ng-click="copyJWTToken('copyJWT')">{{'copy'| i18nString}}</button>
        <button type="button" data-dismiss="modal" class="btn closeCancel">{{'close'| i18nString}}</button>
      </div>
    </div>
  </div>
</div>