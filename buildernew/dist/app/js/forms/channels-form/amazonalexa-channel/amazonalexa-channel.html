<div class="modalSliderContainer width700">
    <form class="info" name="amazonAlexaForm">
    <div class="modalHeader channelModalHeader">
        <h4 class="modal-title" id="gridSystemModalLabel">
            <i class="btx-close" ng-click="goToHome()"></i>
                {{'bt_chnl_amazonalexa_header'| i18nString}}
            </h4>
    </div>
    <div class="modalBody slack-channel-page inner-scroll channelInnerContent" perfect-scroll dynamic-height dynaoffset="-125" height-property="height">
        <div class="col-xs-12 step-progress-container">
            <step-progress steps="steps" on-click="stepClick"></step-progress>
        </div>
        <div ng-repeat="step in steps" ng-show="step.active" class="slcakChannels widthseventy">


            <!--STEP 1-->

            <div class="col-xs-12 noPadding" ng-if="step.step == 1">
                <div class="col-xs-12 channel-content">

                    <div class="info noMargin"> 
                        <p>{{'Bt_chnl_amazon_instruct_desc'| i18nString}}</p>
                        <div class="info">
                            <div class="hintDiv">
                                <span class="icon"><i class="btx-bulb"></i></span>
                                <span class="description" >
                                    <p class="">{{'Bt_chnl_amazon_instruct_protip_label'| i18nString}}</p>
                                    <ol>
                                        <li>{{'Bt_chnl_amazon_instruct_protip_point1'| i18nString}}</li>
                                        <li>{{'Bt_chnl_amazon_instruct_protip_point2'| i18nString}}</li>
                                        <li>{{'Bt_chnl_amazon_instruct_protip_point3'| i18nString}}</li>
                                        <li>{{'Bt_chnl_amazon_instruct_protip_point4'| i18nString}}</li>
                                        <li>{{'Bt_chnl_amazon_instruct_protip_point5'| i18nString}}</li>
                                        <li>{{'Bt_chnl_amazon_instruct_protip_point6'| i18nString}}</li>
                                        <li>{{'Bt_chnl_amazon_instruct_protip_point7'| i18nString}}</li>
                                        <li>{{'Bt_chnl_amazon_instruct_protip_point8'| i18nString}}</li>
                                        <li>{{'Bt_chnl_amazon_instruct_protip_point9'| i18nString}}</li>
                                    </ol> 
                                </span>
                            </div>


                            <p class="channelstep marginTop15">{{'Bt_chnl_amazon_instruct_step1_label'| i18nString}}</p>
                            <p ng-bind-html="'amazon_dev_portal'| i18nString:({link:'https://developer.amazon.com/'})"></p>
                            <img ng-src="{{assetsBase}}/images/Amazon-Alexa-1.png" class="marginBottom10 width100percent" />
                            <p>{{'Bt_chnl_amazon_instruct_step1_desc2'| i18nString}}</p>
                        </div>
                    </div>
                </div>

                <div class="col-xs-12 channel-content paddingTop10">
                    <div class="info">  
                        <p class="channelstep">{{'Bt_chnl_amazon_instruct_step2_label'| i18nString}}</p>
                        <p>{{'Bt_chnl_amazon_instruct_step2_desc1'| i18nString}}</p>
                        <p>{{'Bt_chnl_amazon_instruct_step2_desc2'| i18nString}}</p>
                        <img ng-src="{{assetsBase}}/images/Amazon-Alexa-2.png"  class="marginBottom10 width100percent"/>
                    </div>
                </div>

                <div><br></div>
                <div class="col-xs-12 channel-content">
                    <div class="info">  
                        <p class="channelstep">{{'Bt_chnl_amazon_instruct_step3_label'| i18nString}}</p>
                        <p>{{'Bt_chnl_amazon_instruct_step3_desc'| i18nString}} </p>
                    </div>
                </div>

                <div><br></div>
                <div class="col-xs-12 channel-content">
                    <div class="info">  

                        <p class="channelstep">{{'Bt_chnl_amazon_instruct_step4_label'| i18nString}}</p>
                        <p>{{'Bt_chnl_amazon_instruct_step4_desc'| i18nString}}</p>
                        <img ng-src="{{assetsBase}}/images/Amazon-Alexa-4.png"  class="marginBottom10 width100percent"/>
                    </div>
                </div>

                <div class="col-xs-12 channel-content paddingTop10">
                    <div class="info">  
                        <p class="channelstep">{{'Bt_chnl_amazon_instruct_step5_label'| i18nString}}</p>
                        <p>{{'Bt_chnl_amazon_instruct_step5_desc1'| i18nString}} </p>
                        <p>{{'Bt_chnl_amazon_instruct_step5_desc2'| i18nString}}</p>
                    </div>
                </div>
            </div>

            <div class="col-xs-12 noPadding" ng-if="step.step == 2">
                
                    <!--            <channel-header callback="channelHeaderCallback" form-object="amazonAlexaForm"></channel-header>-->
                    <div class="col-xs-12 channel-content">
                        <div class="info">
                            <div class="col-xs-12 radioDiv noPadding">
                                <div>
                                    <!-- <label for="dialog" class='noMargin' ng-class="{'screenFreeze':streamState.state=='published'}">
                                        <input type="radio" ng-model="integrationOpt.selected" name="InteDialog" id="dialog" value="dialog" checked='checked' class="ng-pristine ng-untouched ng-valid" ng-checked='true'>
                                        <span class="opt-title">Dialog Migration</span> 
                                    </label> -->
                                   <div class="col-xs-12 noPadding">
                                        <div class="col-xs-12 noPadding">
                                            <label class="required-field">{{'Bt_chnl_amazon_config_alexa_label'| i18nString}}</label>
                                        </div>
                                        <div class="col-xs-12 form-group noPadding">
                                            <p class='noMargin'>{{'Bt_chnl_amazon_config_alexa_desc'| i18nString}}</p>
                                            <div class="checkbox checkbox-primary styledCSS noMargin paddingTop10">
                                                <input class="styled" type="checkbox" id="EnabledefaultIntents" ng-model="channel.echoShow" name="EnabledefaultIntents">
                                                <label for="EnabledefaultIntents"><span class="opt-title"> {{'Bt_chnl_amazon_config_alexa_option'| i18nString}}</span></label>
                                            </div>
                                            <div class="form-ctrl-div info marginTop10">
                                                <button class="btn btn-primary saveBtn noMargin" ng-click="exportAlexaJson()">{{'download_file_label'| i18nString}}</button>  `
                                                <!--<div  id="downloadButton"><span>Download File</span>-->
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <!-- <div>
                                    <label for="redirection" ng-class="{'screenFreeze':streamState.state=='published'}">
                                        <input type="radio" ng-model="integrationOpt.selected" name="InteRedirect" id="redirection" value="redirection" class="ng-pristine ng-untouched ng-valid" ng-class="{'screenFreeze':streamState.state=='published'}">
                                        <span class="opt-title">Redirection</span> 
                                    </label>
                                </div> -->
                            </div>
                            <div class="col-xs-12 noPadding form-group">
                                <div class="col-xs-12 noPadding">
                                    <label>{{'Bt_chnl_amazon_config_accountlink_label'| i18nString}}</label>
                                </div>
                                <div class="col-xs-12 noPadding">
                                    <p class='noMargin'>{{'Bt_chnl_amazon_config_accountlink_desc'| i18nString}}</p>
                                    <toggle-switch ng-model='account.link' class='amazon-alexa' ng-class="{'screenFreeze':streamState.state=='published'}"></toggle-switch>
                                </div>
                                <div class='col-xs-12 noPadding marginBottom10 mt-10' ng-if='account.link'>
                                    <select class='idpSelected' ng-model='idp.selected' name='idpSelection' required="">
                                        <option value="" disabled selected>{{'select_idp'| i18nString}}</option>
                                        <option ng-repeat='idp in idpList'>{{idp.name}}</option>
                                    </select>
                                </div>
                                <div ng-show="amazonAlexaForm.idpSelection.$error.required" class="text-danger idp-error">
                                    <div class="alert alert-danger alert-xs" role="alert">
                                        <div>
                                            <span><i class="fa fa-info-circle"></i>&nbsp;&nbsp;</span>
                                            <span>{{'define_idp_authorization'| i18nString}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 form-group noPadding">
                                <div class="col-xs-12 noPadding">
                                    <label>{{'webhookurl_label'| i18nString}}</label>
                                    <p>{{'Bt_chnl_amazon_config_webookurl_desc'| i18nString}}</p>
                                </div>
                                <div class="col-xs-12 noPadding">
                                    <div class="input-group">
                                        <input type="text" id="amazonalexaoauthuri{{step.step}}" class="form-control" ng-model="channel.oAuthRedirectURI" ng-readonly="true" name="appName">
                                        <div class="input-group-addon pointer-hand" data-clipboard-target="#amazonalexaoauthuri{{step.step}}"> Copy </div>  
                                    </div> 
                                    <div ng-show="isSafariwebhook">
                                        <span class="pull-right">{{'press_c'| i18nString}}<span>
                                    </div>              
                                </div>
                            </div>
                        </div>

                        <label>{{'enable_chnl'| i18nString}}</label>
                        <p>{{'Bt_chnl_amazon_config_enablechnl_desc'| i18nString}}</p>
                        <div class="col-xs-12 radioDiv noPadding" ng-class="{'screenFreeze':streamState.state=='published'}">
                            <div>
                                <label for="channel.enable.no" >
                                    <input ng-value="false" ng-checked="true" type="radio" ng-model="channel.enable" name="channel.enable" id="channel.enable.no" class="ng-pristine ng-untouched ng-valid" value="false" checked="checked"><span class="opt-title">{{'no'| i18nString}}</span> 
                                </label>
                            </div>
                            <div>
                                <label for="channel.enable.yes">
                                    <input ng-value="true" type="radio" ng-model="channel.enable" name="channel.enable" id="channel.enable.yes"  class="ng-pristine ng-untouched ng-valid" value="true"><span class="opt-title">{{'yes'| i18nString}}</span> 
                            </label>
                        </div>
                      </div>

                </div>

            </div>

        </div>
    </div>
    <div class="modalFooter">
        <button type="button" class="btn" ng-click="save(amazonAlexaForm)" ng-show="steps[1].active" ng-class="{'screenFreeze':streamState.state=='published'}">{{'save'| i18nString}}</button>
        <button type="button" class="btn" ng-click="next(2)" ng-show="steps[0].active">{{'next'| i18nString}}</button>
        <button class="btn closeCancel" ng-click="goToHome()">Cancel</button>
    </div>
    </form>
</div>

