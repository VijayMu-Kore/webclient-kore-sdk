<div class="modalSliderContainer width700">
    <bt-test-form api="btTestFormApi" status="btTestStatus" ></bt-test-form>
    <form name="slackForm">
    <div class="modalHeader channelModalHeader">
        <h4 class="modal-title" id="gridSystemModalLabel">
            <i class="btx-close" ng-click="goToHome()"></i>
            {{'constants.iconsTooltips_slack'| i18nString}}
        </h4>
    </div>
    <div class="modalBody slack-channel-page inner-scroll channelInnerContent" perfect-scroll dynamic-height dynaoffset="-125" height-property="height">
        <div class="col-xs-12 step-progress-container">
            <step-progress steps="steps" on-click="stepClick"></step-progress>
        </div>
        <div ng-repeat="step in steps" ng-show="step.active" class="slcakChannels widthseventy">


            <!--STEP 1-->

            <div class="col-xs-12 p-0" ng-show="steps[0].active">
                <div class="col-xs-12 channel-content">

                    <div class="info noMargin"> 
                        <p>{{'Bt_chnl_slack_instruct_desc'| i18nString}}</p>
                        <div class="info">
                            <p class="channelstep marginTop15">{{'Bt_chnl_slack_instruct_step1_label'| i18nString}}</p>
                            <p ng-bind-html="'app_creation_slack'| i18nString:({link:'https://api.slack.com/'})"></p>
                            <img ng-src="{{assetsBase}}images/Slack_1.png" class="marginBottom10 width100percent" />
                            <p>{{'Bt_chnl_slack_instruct_step1_desc2'| i18nString}}</p>
                        </div>
                    </div>
                </div>

                <div class="col-xs-12 channel-content paddingTop10">
                    <div class="info">  
                        <p class="channelstep">{{'Bt_chnl_slack_instruct_step2_label'| i18nString}}</p>
                        <p>{{'Bt_chnl_slack_instruct_step2_desc'| i18nString}}</p>
                        <img ng-src="{{assetsBase}}/images/Slack_2.png"  class="marginBottom10 width100percent"/>
                        <p>{{'Bt_chnl_slack_instruct_step2_2desc'| i18nString}}</p>
                        <div class="helphint-border col-xs-12 slackChannelProtip full_bot_import_protip">
                            <div class="col-xs-1 bulbicon">
                                <span><i class="btx-bulb"></i></span>
                            </div>
                            <div class="col-xs-11 textDiv">
                                <span class="name">
                                    <ul>
                                        <li>{{'slackProtip_1'| i18nString}}</li>
                                        <li>{{'slackProtip_2'| i18nString}}</li>
                                       </ul></span></div>
                        </div>
                        <img ng-src="{{assetsBase}}/images/Slack_2_2.png"  class="marginBottom10 width100percent"/>
                    </div>
                </div>

                <div><br></div>
                <div class="col-xs-12 channel-content">
                    <div class="info">  

                        <p class="channelstep">{{'install_app_slack'| i18nString}}</p>
                        <p>{{'slack_step_3'| i18nString}} </p>
                        <p>{{'slack_step_3_1'| i18nString}}</p>
                    </div>
                </div>

                <div><br></div>
                <div class="col-xs-12 channel-content">
                    <div class="info">  

                        <p class="channelstep">{{'Bt_chnl_slack_instruct_step3_label'| i18nString}}</p>
                        <p>{{'Bt_chnl_slack_instruct_step3_desc1'| i18nString}} </p>
                        <img ng-src="{{assetsBase}}/images/Slack_3.png"  class="marginBottom10 width100percent"/>
                        <p>{{'Bt_chnl_slack_instruct_step3_desc'| i18nString}}</p>
                    </div>
                </div>

                <div><br></div>
                <div class="col-xs-12 channel-content">
                    <div class="info">  
                        <p class="channelstep">{{'Bt_chnl_slack_instruct_step4_label'| i18nString}}</p>
                        <p>{{'Bt_chnl_slack_instruct_step4_desc'| i18nString}}</p>
                        <img ng-src="{{assetsBase}}/images/Slack_4.png"  class="marginBottom10 width100percent"/>
                        
                    </div>
                </div>

                <div class="col-xs-12 channel-content">
                    <div class="info">  
                        <p class="channelstep">{{'Bt_chnl_slack_instruct_step5_label'| i18nString}}</p>
                        <p>{{'Bt_chnl_slack_instruct_step5_desc'| i18nString}}</p>
                        <img ng-src="{{assetsBase}}/images/Slack_5.png"  class="marginBottom10 width100percent"/>
                        
                    </div>
                </div>
                <div class="col-xs-12 channel-content">
                    <div class="info">  
                        <p class="channelstep">{{'slack_step_7'| i18nString}}</p>
                        <p>{{'slack_step_7_desc'| i18nString}}</p>
                        <img ng-src="{{assetsBase}}/images/Slack_5_1.png"  class="marginBottom10 width100percent"/>
                        
                    </div>
                </div>
                <div class="col-xs-12 channel-content">
                    <div class="info">  
                        <p class="channelstep">{{'Bt_chnl_slack_instruct_step6_label'| i18nString}}</p>
                        <p>{{'Bt_chnl_slack_instruct_step6_desc'| i18nString}}</p>
                        <img ng-src="{{assetsBase}}/images/Slack_6.png"  class="marginBottom10 width100percent"/>
                        <p>{{'Bt_chnl_slack_instruct_step6_desc_2'| i18nString}}</p>
<!--                         <p>{{'Bt_chnl_slack_instruct_step6_desc_3'| i18nString}}</p>
                        <p>{{'Bt_chnl_slack_instruct_step6_desc_4'| i18nString}}</p> -->
                        
                    </div>
                </div>
<!--                 <div class="col-xs-12 channel-content">
                    <div class="info">  
                        <p class="channelstep">{{'Bt_chnl_slack_instruct_step7_label'| i18nString}}</p>
                        <p>{{'Bt_chnl_slack_instruct_step7_desc1'| i18nString}}</p>
                        <img ng-src="{{assetsBase}}/images/Slack_7.png"  class="marginBottom10 width100percent"/>
                        <p>{{'Bt_chnl_slack_instruct_step7_desc2'| i18nString}}</p>

<p>{{'Bt_chnl_slack_instruct_note'| i18nString}}</p>

                    </div>
                </div> -->
            </div>


            <!-- step 2 -->

            <div class="col-xs-12 p-0" ng-show="steps[1].active">
               
                <div class="col-xs-12 channel-content marginBottom10">
                    <div class="info">
                        <div class="col-xs-12 row noPadding">
                            <div class="col-xs-12 noPadding">
                                <p>{{'Bt_chnl_slack_config_desc'| i18nString}}</p>
                            </div>
                        </div>
                    </div>
                </div>
                    <div class="col-xs-12 channel-content">
                        <div class="info">
                            <div class="col-xs-12 row form-group noPadding">
                                <div class="col-xs-12 noPadding marginBottom5">
                                    <label>{{'botName'| i18nString}}</label>
                                </div>
                                <div class="col-xs-12 noPadding">
                                    <div class="input-group">
                                        <input type="text" id="slack_appName{{step.step}}" class="form-control" ng-model="channel.app_name" ng-readonly="true" name="appName">
                                        <div class="input-group-addon pointer-hand" data-clipboard-target="#slack_appName{{step.step}}"> {{'copy'| i18nString}} </div>
                                    </div>
                                    <div ng-show="isSafariappname"><span class="pull-right">{{'press_c'| i18nString}}<span></div>
                                </div>
                            </div>
                        </div></div>
                    <div class="col-xs-12 channel-content marginBottomTen">
                        <div class="info">
                            <div class="col-xs-12 row form-group noPadding">
                                <div class="col-xs-12 noPadding marginBottom5">
                                    <label>{{'redirecturl_label'| i18nString}}</label>
                                </div>
                                <div class="col-xs-12 noPadding">
                                    <div class="input-group">
                                        <input type="text" id="slack_rURI{{step.step}}" class="form-control" ng-model="channel.redirect_ui"  ng-readonly="true" name="redirectUi">
                                        <div class="input-group-addon pointer-hand" data-clipboard-target="#slack_rURI{{step.step}}"> {{'copy'| i18nString}} </div>
                                    </div>
                                    <div ng-show="isSafaryUri"><span class="pull-right">{{'press_c'| i18nString}}<span></div>
                                </div>
                            </div>
                        </div></div>
                    <div class="col-xs-12 channel-content marginBottomTen">
                        <div class="info">
                            <div class="col-xs-12 form-group noPadding">
                                <div class="col-xs-12 noPadding marginBottom5">
                                    <label>{{'webhookurl_label'| i18nString}}</label>
                                </div>
                                <div class="col-xs-12 noPadding">
                                    <div class="input-group">
                                        <input type="text" id="slack_webhook_url{{step.step}}" class="form-control" ng-model="channel.webhook_url" ng-readonly="true" name="webhook_url">
                                        <div class="input-group-addon pointer-hand" data-clipboard-target="#slack_webhook_url{{step.step}}"> {{'copy'| i18nString}} </div>  

                                    </div> 
                                    <div ng-show="isSafariwebhook"><span class="pull-right">{{'press_c'| i18nString}}<span></div>              
                                </div>
                            </div>
                        </div></div>
                        <div class="col-xs-12 channel-content marginTop10">
                            <div class="info">
                                <div class="col-xs-12 row noPadding marginBottom10">
                                    <div class="col-xs-12 noPadding">
                                        <p>{{'Bt_chnl_slack_config_webhookurl_desc'| i18nString}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    <div class="col-xs-12 channel-content marginBottomTen" ng-class="{'screenFreeze':streamState.state=='published'}">
                        
                             <div class="col-xs-12 row form-group noPadding">
                                 <div class="col-xs-12 noPadding marginTopBottomFive">
                                     <label class="required-field">{{'clientId_label'| i18nString}}</label>
                                 </div>
                                 <div class="col-xs-12 noPadding">
                                     <input type="text" class="form-control" ng-model="channel.clientID" required name="clientID">
                                     <div  ng-show="slackForm.clientID.$dirty">
                                        <div error-alert ng-show="slackForm.clientID.$error.required"  class="text-danger">
                                            {{'Bt_chnl_slack_config_clientId_err'| i18nString}}
                                        </div>
                                    </div>
                                 </div>
                             </div>
                        </div>
                    <div class="col-xs-12 channel-content marginTopBottomTen" ng-class="{'screenFreeze':streamState.state=='published'}">
                        <div class="info">
                             <div class="col-xs-12 row form-group noPadding">
                                 <div class="col-xs-12 noPadding marginBottom5">
                                     <label class="required-field">{{'clientsecret_label'| i18nString}}</label>
                                 </div>
                                 <div class="col-xs-12 noPadding">
                                     <input type="text" class="form-control" ng-model="channel.clientSecret" required name="clientSecret">
                                     <div  ng-show="slackForm.clientSecret.$dirty">
                                        <div error-alert ng-show="slackForm.clientSecret.$error.required" class="text-danger">
                                            {{'Bt_chnl_slack_config_clientsecret_err'| i18nString}}
                                        </div>
                                    </div>
                                 </div>
                             </div>
                        </div></div>
                    <div class="col-xs-12 channel-content marginBottomTen" ng-class="{'screenFreeze':streamState.state=='published'}">
                        <div class="info">
                            <div class="col-xs-12 row form-group noPadding">
                                <div class="col-xs-12 noPadding marginBottom5">
                                    <label class="required-field">{{'Bt_chnl_slack_config_verific_token_label'| i18nString}}</label>
                                </div>
                                <div class="col-xs-12 noPadding">
                                    <input type="text" class="form-control" ng-model="channel.verificationToken" required name="verificationToken">
                                    <div  ng-show="slackForm.verificationToken.$dirty">
                                        <div error-alert ng-show="slackForm.verificationToken.$error.required" class="text-danger">
                                            {{'Bt_chnl_slack_config_verific_token_err'| i18nString}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class='form-group col-xs-12' ng-class="{'screenFreeze':streamState.state=='published'}">
                        <button type="button" class='btn btn-primary form-control marginRight10' ng-disabled="idpID !=''" ng-click='authorize(slackForm)'>Authorize</button>
                        <button type="button" class='btn btn-primary' ng-disabled='idpID == ""' ng-click='resetChannel()'>{{'reset_btn_label'| i18nString}}</button>
                    </div>

                    <div class="col-xs-12 channel-content" ng-class="{'screenFreeze':streamState.state=='published'}">
                        <div class="col-xs-10 noPadding">
                            <label>{{'proactive_note_label'| i18nString}}</label>
                        </div>
                        <div class="col-xs-12 noPadding">
                            <p class='noMargin'>{{'enable_proactive_text'| i18nString}}<a>{{'Know_More'| i18nString}}</a></p>
                            <div class='acc-link'>
                                <toggle-switch ng-model='channel.enableNotification' class='amazon-alexa'></toggle-switch>
                            </div>
                        </div>
                    </div>

                    <div class="col-xs-12 channel-content" ng-if='channel.enableNotification' ng-class="{'screenFreeze':streamState.state=='published'}">
                        <div class="info">
                            <div class="col-xs-12 row form-group noPadding">
                                <div class="col-xs-12 noPadding marginBottom5">
                                    <label class="required-field">{{'bot_user_oauth'| i18nString}}</label>
                                </div>
                                <div class="col-xs-12 noPadding">
                                    <input type="text" class="form-control" ng-model="channel.botUserToken" required name="botUserToken">
                                    <div  ng-show="slackForm.botUserToken.$dirty">
                                        <div error-alert ng-show="slackForm.botUserToken.$error.required" class="text-danger">
                                            {{'Bt_chnl_slack_bot_oauth_token_err'| i18nString}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-xs-12 channel-content" ng-if='channel.enableNotification' ng-class="{'screenFreeze':streamState.state=='published'}">
                        <div class="col-xs-10 noPadding">
                            <label>{{'proactive_process_app'| i18nString}}</label>
                        </div>
                        <div class="col-xs-12 noPadding">
                            <p class='noMargin'>{{'enable_process_to_bot_slack'| i18nString}}</p>
                            <div class='acc-link'>
                                <toggle-switch ng-model='channel.processNotification' class='amazon-alexa'></toggle-switch>
                            </div>
                        </div>
                    </div>

                    <div class="col-xs-12 channel-content marginBottom10" ng-if='channel.enableNotification && channel.processNotification' ng-class="{'screenFreeze':streamState.state=='published'}">
                        <div class="col-xs-10 noPadding">
                            <label>{{'select_processapp'| i18nString}}</label>
                        </div>
                        <div class="col-xs-12 noPadding">
                            <p class='noMargin'>{{'select_process_to_access_bot_notification'| i18nString}}</p>
                        </div>

                        <div class="col-xs-8 noPadding marginTopBottomTen eachSection">
                            <div class="ele">
                                <sumo-select search=true options="processApps" callback="sumocb.processcb"
                                    placeholder="{{'all_process_apps'| i18nString}}" title-key="value" value-key="type"
                                    value="channel.selectedProcessApp"></sumo-select>
                            </div>
                        </div>
                    </div>

                    <div class="col-xs-12 channel-content" ng-class="{'screenFreeze':streamState.state=='published'}">
                        <div class="info">

                                                <label>{{'enable_chnl'| i18nString}}</label>
                                                <p>{{'Bt_chnl_slack_config_enablechnl_desc'| i18nString}}</p>


                                                <div class="col-xs-12 radioDiv noPadding">
                                                    <div>
                                                        <label for="channel.enable.no" >
                                                            <input ng-value="false" ng-checked="true" type="radio" ng-model="channel.enable" name="channel.enable" id="channel.enable.no" class="ng-pristine ng-untouched ng-valid" value="false" checked="checked"><span class="opt-title">{{'no'| i18nString}}</span> 
                                                        </label>
                                                    </div>
                                                    <div>
                                                        <label for="channel.enable.yes">
                                                            <input ng-value="true" type="radio" ng-model="channel.enable" name="channel.enable" id="channel.enable.yes"  class="ng-pristine ng-untouched ng-valid" value="true"><span class="opt-title">{{'yes'| i18nString}}</span> 
                                                        </label>
                                                    </div>
                                                </div>

                        </div>
                    </div>
                    
                  
            </div>


        </div>
    </div>
    <div class="modalFooter">
        <button type="button" class="btn" ng-click="next(2)" ng-show="steps[0].active">{{'next'| i18nString}}</button>
        <button type="button" class="btn" ng-click="save(slackForm)" ng-show="steps[1].active" ng-class="{'screenFreeze':streamState.state=='published'}">{{'save'| i18nString}}</button>
        <button class="btn closeCancel" ng-click="goToHome()">Cancel</button>
     </div>
</div>
        </form>
</div>

