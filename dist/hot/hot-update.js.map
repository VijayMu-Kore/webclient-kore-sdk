{"version":3,"file":"hot/hot-update.js","mappings":"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","sources":["webpack://kore-web-sdk/./src/templatemanager/templates/snippetCitationTemplate/snippetCitationTemplate.ts","webpack://kore-web-sdk/webpack/runtime/getFullHash"],"sourcesContent":["\r\nimport helpers from '../../../utils/helpers';\r\nimport './snippetCitationTemplate.scss';\r\nimport FeedBackFormTemplate from '../../templates/feedBackFormTemplate/feedBackFormTemplate';\r\nclass SnippetCitationTemplate {\r\n    renderMessage(msgData: any) {\r\n        let me: any = this;\r\n        let $ = me.hostInstance.$;\r\n        let helpersObj = helpers;\r\n\r\n        if (msgData?.message?.[0]?.component?.payload?.template_type === \"citation_snippet\") {\r\n            me.messageHtml = $(SnippetCitationTemplate.prototype.getTemplateString()).tmpl({\r\n                'snippetData': msgData?.message?.[0]?.component?.payload?.snippetData,\r\n                'helpers': helpersObj.helpers,\r\n                'displayFeedback':msgData?.message?.[0]?.component?.payload?.feedbackDisplay\r\n            });\r\n            me.feedBackTemplateObj = new FeedBackFormTemplate();\r\n            setTimeout(()=>{\r\n              SnippetCitationTemplate.prototype.bindSnippetEvents(me, me.messageHtml,msgData?.message?.[0]?.component?.payload?.snippetData);\r\n            },500)\r\n            return me.messageHtml;\r\n        }\r\n    }\r\n    getTemplateString() {\r\n        var snipppetCitationTemplate  = '<script type=\"text/x-jqury-tmpl\">\\\r\n        <div class=\"search-temp-one\">\\\r\n        <div class=\"top-header\">\\\r\n            <div class=\"top-header-with-img\">\\\r\n                <span class=\"logo-span\"><img src=\"https://koregeneric.s3.amazonaws.com/SearchAssist_UI_Img/snippet_imgs/snippet-avathar.svg\"/></span>\\\r\n                <div class=\"btn-chip\"><span class=\"sdk-i18n-lang\" sdk-i18n-key=\"sa_sdk_Suggested_answer\">{{html langTranslator(\"sa_sdk_Suggested_answer\")}}</span>\\</div>\\\r\n            </div>\\\r\n            {{if snippetData && snippetData.snippet_type === \"generative_model\"}}\\\r\n            <div class=\"btn-link\"><span class=\"bot-bg-purple\"><img src=\"https://koregeneric.s3.amazonaws.com/SearchAssist_UI_Img/snippet_imgs/bot.svg\"/></span><span class=\"sdk-i18n-lang\" sdk-i18n-key=\"sa_sdk_answered_by_ai\">{{html langTranslator(\"sa_sdk_answered_by_ai\")}}</span>\\</div>\\\r\n            {{/if}}\\\r\n        </div>\\\r\n        {{if snippetData && snippetData.title}}\\\r\n        <div class=\"img-temp-title sa-sdk-title\" data-title=\"{{html helpers.convertMDtoHTML(snippetData?.title)}}\">{{html helpers.convertMDtoHTML(snippetData?.title)}}</div>\\\r\n        {{/if}}\\\r\n        <div class=\"citation-data-desc  {{if snippetData.title==\"\"}}snippet_padding_top_0{{/if}}\">\\\r\n        {{each(key, data) snippetData.answer}}\\\r\n        <span class=\"snippet-answer-fragment\">{{html data.answer_fragment}}</span>{{each(sourceKey, source) data.sources}}<sup class=\"snippet-citation\"><a href=\"${source.url}\" target=\"_blank\">[${source._id}]</a></sup>{{/each}}. </span>\\\r\n        {{/each}}\\\r\n        </div>\\\r\n        <div class=\"snippet-referene-block\">\\\r\n          <div class=\"reference-block-header\">References: </div>\\\r\n          <ol type=\"1\" class=\"reference-list-temp-ul\">\\\r\n                  {{each(key, item) snippetData.reference}}\\\r\n                      <li class=\"reference-list-temp-li\" title=\"{{html helpers.convertMDtoHTML(item.title)}}\" ><a  href=\"${item.url}\" target=\"_blank\"><span>{{html helpers.convertMDtoHTML(item.title)}}</span></a></li>\\\r\n                      {{/each}}\\\r\n                  </ol>\\\r\n        </div>\\\r\n        {{if snippetData && snippetData.source}}\\\r\n        <div class=\"snippet-source-block\">\\\r\n          <div class=\"snippet-source-file-name {{if !snippetData.source}} display-none{{/if}}\">{{html snippetData.source}}</div>\\\r\n          <a href=\"${snippetData?.page_url}\" target=\"_blank\" ><div class=\"snippet-source-url {{if !snippetData.page_url}} display-none{{/if}}\"><span class=\"snippet-source-url-name\" title=\"${snippetData?.page_url}\">${snippetData?.page_url}</span><img src=\"https://koregeneric.s3.amazonaws.com/SearchAssist_UI_Img/Icons/external-link.svg\"/></div></a>\\\r\n        </div>\\\r\n        {{/if}}\\\r\n        <div class=\"temp-footer-block\">\\\r\n            <div class=\"temp-footer {{if snippetData && snippetData.snippet_type !== \"generative_model\"}} justify-content-end {{/if}}\">\\\r\n                {{if snippetData && snippetData.snippet_type === \"generative_model\"}}\\\r\n                <div class=\"btn-link\"><span class=\"bot-bg-purple\"><img src=\"https://koregeneric.s3.amazonaws.com/SearchAssist_UI_Img/snippet_imgs/bot.svg\"/></span><span class=\"sdk-i18n-lang\" sdk-i18n-key=\"sa_sdk_answered_by_ai\">{{html langTranslator(\"sa_sdk_answered_by_ai\")}}</span>\\</div>\\\r\n                {{/if}}\\\r\n                {{if displayFeedback}}\\\r\n                <div class=\"temp-right\">\\\r\n                    <div class=\"is-it-usefull\">Is it useful?</div>\\\r\n                    <div class=\"temp-fotter-actions\">\\\r\n                        <img  class=\"snippet-feedback  snippet-like-img\" src=\"https://koregeneric.s3.amazonaws.com/SearchAssist_UI_Img/snippet_imgs/like-gray.svg\" />\\\r\n                        <img class=\"snippet-feedback  snippet-dislike-img\" src=\"https://koregeneric.s3.amazonaws.com/SearchAssist_UI_Img/snippet_imgs/dislike-gary.svg\" />\\\r\n                    </div>\\\r\n                </div>\\\r\n                <div id=\"snippet-feedback-template\"></div>\\\r\n                {{/if}}\\\r\n            </div>\\\r\n        </div>\\\r\n    </div>\\\r\n      </script>';\r\n        return snipppetCitationTemplate;\r\n    }\r\n    bindSnippetEvents(me:any,messageHtml:any,snippetData:any){\r\n      let $ = me.hostInstance.$;\r\n      let hostInstance= me.hostInstance;\r\n      $(messageHtml).find('.temp-fotter-actions').off('click', '.snippet-like-img').on('click', '.snippet-like-img', function (event:any) {\r\n        if(!$(event.currentTarget).closest('.snippet-like-img').hasClass('active')){\r\n        hostInstance.updateFeedBackResult('thumbsUp',snippetData.searchQuery,'smartAnswer')\r\n        $(messageHtml).find('.snippet-feedback').removeClass('active');\r\n        $(event.currentTarget).addClass('active');\r\n      }\r\n      });\r\n\r\n      $(messageHtml).find('.temp-fotter-actions').off('click', '.snippet-dislike-img').on('click', '.snippet-dislike-img', function (event:any) {\r\n        if(!$(event.currentTarget).closest('.snippet-dislike-img').hasClass('active')){\r\n          SnippetCitationTemplate.prototype.appendFeedBaackData(me,messageHtml,snippetData)\r\n        $(messageHtml).find('.snippet-feedback').removeClass('active');\r\n        $(event.currentTarget).addClass('active');\r\n      }\r\n      });\r\n        SnippetCitationTemplate.prototype.tooltipBindEvent(me);\r\n      }\r\n      tooltipBindEvent(me:any){\r\n        let $ = me.hostInstance.$;\r\n      $('.sa-sdk-title').off('mouseover').on('mouseover',function(e:any){\r\n        e.stopPropagation();\r\n        e.stopImmediatePropagation();\r\n        $(e.currentTarget).before('<div class=\"sdk-tooltip-container\">'+$(e.currentTarget).attr('data-title')+'<span class=\"sa-tooltip-arrow\"></span></div>');\r\n        $(e.currentTarget).parent().find('.sdk-tooltip-container').css('top',($(e.currentTarget).position().top-($(e.currentTarget).parent().find('.sdk-tooltip-container').height()+25))+'px');\r\n      })\r\n      $('.sa-sdk-title').off('mouseout').on('mouseout',function(e:any){\r\n        e.stopPropagation();\r\n        e.stopImmediatePropagation();\r\n        $(e.currentTarget).parent().find('.sdk-tooltip-container').remove();\r\n        })\r\n      }\r\n      appendFeedBaackData(me: any, messageHtml: any,snippetData:any){\r\n        let $ = me.hostInstance.$;\r\n        let feedbackMsgData = {\r\n          message: [{\r\n            component: {\r\n              type: 'template',\r\n              payload: {\r\n                template_type: \"feedbackFormTemplate\",\r\n                query: snippetData.searchQuery,\r\n                feedBackType:'smartAnswer'\r\n              }\r\n            }\r\n          }]\r\n        };\r\n          $(messageHtml).find('#snippet-feedback-template').empty().append(me.feedBackTemplateObj.renderMessage.bind(me, feedbackMsgData));\r\n       }\r\n}\r\n\r\n\r\nexport default SnippetCitationTemplate;","__webpack_require__.h = () => (\"228fe6e510f029ad8600\")"],"names":[],"sourceRoot":""}