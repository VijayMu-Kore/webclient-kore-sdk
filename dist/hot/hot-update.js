self["webpackHotUpdatekore_web_sdk"]("esm",{

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/templatemanager/templates/finalResultsTemplate/finalResultsTemplate.scss":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/templatemanager/templates/finalResultsTemplate/finalResultsTemplate.scss ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


        $('.custom-header-container-left').css('visibility', 'hidden');
      })*/ // $('.pay-button').off('click').on('click')
if(templateType==="search-container"){var initPopularSearchList=function initPopularSearchList(){_self.vars.searchObject.popularSearches=[];var popSearchUrl=_self.API.popularSearchesUrl;var tmplData={searchResults:_self.vars.searchObject.recentAPIResponse,recents:_self.vars.searchObject.recents.length&&_self.vars.searchObject.recents.slice(0,5),recentTasks:_self.vars.searchObject.recentTasks.length&&_self.vars.searchObject.recentTasks.slice(0,2),popularSearches:_self.vars.searchObject.popularSearches.slice(0,5)};if(!_self.customSearchResult){// var freqData = $(_self.getSearchTemplate('freqData')).tmplProxy(tmplData);
// $('.search-body').html(freqData);
// if (!$('body').hasClass('top-down')) {
//   _self.pubSub.publish('sa-generate-recent-search');
// }
}else{_self.pubSub.publish("sa-freq-data",tmplData);_self.pubSub.publish("sa-show-freq-data",tmplData);}_self.getPopularSearchList(popSearchUrl,"GET").then(function(response){_self.vars.searchObject.popularSearches=response;var recentSearchUrl=_self.API.recentSearchUrl;var defaultPopulardata=[{query:"Cosmetics"},{query:"Perfumes"},{query:"Daily Care Products"}];_self.appendPopularSearchResults(response&&response.result&&response.result.slice(0,3)||defaultPopulardata||[]);_self.getRecentSearches(recentSearchUrl,"GET");var tmplData={searchResults:_self.vars.searchObject.recentAPIResponse,recents:_self.vars.searchObject.recents.length&&_self.vars.searchObject.recents.slice(0,5),recentTasks:_self.vars.searchObject.recentTasks.length&&_self.vars.searchObject.recentTasks.slice(0,2),popularSearches:[]};if(!_self.customSearchResult){var freqData=$(_self.getSearchTemplate("freqData")).tmplProxy(tmplData);$(".search-body .finalResults").hide();$(".searchBox.Search-BG-Copy").remove();$(".search-body").append(freqData);// _self.pubSub.publish('sa-generate-recent-search');
}else{_self.pubSub.publish("sa-freq-data",tmplData);_self.pubSub.publish("sa-show-freq-data",tmplData);}});};// This represents a very heavy method. Which takes a lot of time to execute
var _makeAPICall=function _makeAPICall(event){// $('#search').trigger("keydown");
if(_self.vars.enterIsClicked){return;}$("#search").trigger("keyup");_self.pubSub.publish("sa-input-keyup",event);};// Debounce function: Input as function which needs to be debounced and delay is the debounced time in milliseconds
$(dataHTML).off("keydown","#search").on("keydown","#search",function(e){_self.trimSearchQuery(e);var keyCode=e.keyCode||e.which;keyCode=Number(keyCode);if(keyCode!==13){_self.vars.enterIsClicked=false;}else if($("body").hasClass("top-down")&&keyCode==13){_self.vars.enterIsClicked=true;$(".skelton-load-img").show();$("#live-search-result-box").hide();$("#frequently-searched-box").hide();}else if(!$("body").hasClass("top-down")&&keyCode==13){$(".default-data-show-not-loaded").hide();_self.vars.enterIsClicked=true;$(".search-body").css("display","none");$(".search-body").addClass("hide");}if(!$("body").hasClass("top-down")&&$(".bottom-up-search").val()&&!window.isBotLocked){_self.closeGreetingMsg();// $('.search-body').css('display', 'block');
// $('.search-body').removeClass('hide');
// if (!window.isBotLocked) {
//   $('.parent-search-live-auto-suggesition').show();
// }
}else if(!$("body").hasClass("top-down")&&(!$(".bottom-up-search").val()||window.isBotLocked)){$(".search-body").css("display","none");$(".search-body").addClass("hide");$("#autoSuggestionContainer").empty();$(".suggestion-search-data-parent").css("display","none");}_self.pubSub.publish("sa-handel-chat-container-view");_self.pubSub.publish("sa-handel-go-button");// if (!window.isBotLocked) {
//   $('.search-body').removeClass('hide');
//   $('#searchChatContainer').addClass('bgfocus');
// }
if(window.isBotLocked){$(".search-body").css("display","none");$(".search-body").addClass("hide");}if(!self.customSearchResult){$(".search-chat-container").empty();}var code=e.keyCode||e.which;code=Number(code);if($("body").hasClass("top-down")&&code!==13){_self.vars.enterIsClicked=false;}// if (code !== 13 && code !== 40 && code !== 38 && code !== 39) {
//   // if (($('body').hasClass('top-down') && $('.top-down-suggestion').val()) || (!$('body').hasClass('top-down') && $('.bottom-up-suggestion').val())) {
//   _self.pubSub.publish('sa-input-keyup');
//   // }
// }
if(code==9||code==39){$(".suggestion-box.highlightSuggestion").removeClass("highlightSuggestion");$(".search-suggested-title.highlightSuggestion").removeClass("highlightSuggestion");if($("body").hasClass("top-down")&&!$(".top-down-suggestion").val()||!$("body").hasClass("top-down")&&!$(".bottom-up-suggestion").val()){setTimeout(function(){if(!$("body").hasClass("top-down")){$(".bottom-up-search").focus();}else{$(".search-top-down").focus();}},100);return;}else{$("#search").val(JSON.parse(JSON.stringify($("#suggestion").val())));}$("#search").focus();if(!$("body").hasClass("top-down")){if($(".bottom-up-suggestion").val()){$(".bottom-up-search").val(JSON.parse(JSON.stringify($(".bottom-up-suggestion").val())));}$(".bottom-up-search").focus();}else{if($(".top-down-suggestion").val()){$(".search-top-down").val(JSON.parse(JSON.stringify($(".top-down-suggestion").val())));}$(".search-top-down").focus();}}if(code==40||code==38){_self.suggestionSelectedByNavigationKeys(e);}if($("body").hasClass("top-down")){$(".top-down-suggestion").val("");}else{$(".bottom-up-suggestion").val("");}if(code==9){e.preventDefault();}if(code==27){if($('body').hasClass('top-down')){$('.search-top-down').val(_self.vars.enteredQuery);}else{$('.bottom-up-search').val(_self.vars.enteredQuery);}_self.vars.isQueryEntered=false;_self.suggestionSelectedByNavigationKeys(e);}if(code==13){recognition.stop();final_transcript="";$(".recordingMicrophone").css("display","none");$(".notRecordingMicrophone").css("display","block");if($('body').hasClass('top-down')){_self.vars.enteredQuery=$('.search-top-down').val();}else{_self.vars.enteredQuery=$('.bottom-up-search').val();}_self.vars.isQueryEntered=false;$(".suggestion-box.highlightSuggestion").removeClass("highlightSuggestion");$(".search-suggested-title.highlightSuggestion").removeClass("highlightSuggestion");$(".parent-search-live-auto-suggesition").hide();if(!e.target.value.length){return;}$("#autoSuggestionContainer").addClass("hide");if($("body").hasClass("top-down")){_self.vars.enterIsClicked=true;$("#live-search-result-box").hide();$("#frequently-searched-box").hide();}else{if(!$(".search-container").hasClass("active")){$(".search-container").addClass("active");}}e.preventDefault();_self.hideAutoSuggestion();// we need to remove close icon from builder
if($(".start-search-icon-div")&&$(".start-search-icon-div").hasClass("active")){$(".start-search-icon-div").removeClass("active");}prevStr="";if($(".search-container").hasClass("conversation")){$(".search-body").addClass("hide");$("#searchChatContainer").removeClass("bgfocus");}if(_self.vars.resultRankingActionPerformed==true){_self.vars.resultRankingActionPerformed=false;}if(_self.isDev){$("#searchChatContainer").animate({scrollTop:$("#searchChatContainer").prop("scrollHeight")},0);if(!_self.vars.customizeView){$(".query-analytics-control-container").hide();}}_self.vars.searchObject.searchText=$("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val();if($("body").hasClass("top-down")){$("body").addClass("showFullResults");$(".top-down-suggestion").val($(".search-top-down").val());$(".sdk-filter-checkbox-top-down").prop("checked",false);$(".sdk-filter-radio-top-down").prop("checked",false);_self.vars.filterObject=[];_self.vars.selectedFiltersArr=[];_self.vars.tempSelectedFiltersArr=[];_self.vars.tempSelectedFacetsList=[];_self.vars.tempFilterObject=[];_self.vars.selectedFacetsList=[];_self.vars.isTopFacets=(_self.vars.filterConfiguration||{}).aligned==="top"?true:false;_self.vars.countOfSelectedFilters=0;$(".kore-sdk-pagination-div").hide();_self.searchFacetsList([]);}// debugger;
var searchText=($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val())||(_self.vars.searchObject.liveData?_self.vars.searchObject.liveData.originalQuery:"")||null;_self.closeGreetingMsg();// if (!$('body').hasClass('top-down')) {
_self.resetPingMessage();_self.resetSocketDisconnection();_self.sendMessageToSearch("user",null,null,_self.isDev==true?true:false);if(_self.isDev){setTimeout(function(){_self.pubSub.publish("sa-handle-retry-qery-view");},500);}if(_self.config.viaSocket){_self.sendMessage(_self.vars.searchObject.searchText);}else{_self.bindLiveDataToChat();}// }
if($(".search-body:visible").length){// if (!_self.vars.searchObject.recents.length || (_self.vars.searchObject.recents.length && _self.vars.searchObject.recents.indexOf(searchText.toLowerCase()) == -1)) {
//   _self.vars.searchObject.recents.unshift(searchText.toLowerCase());
// }
// window.localStorage.setItem("recents", JSON.stringify(_self.vars.searchObject.recents));
}$(".custom-header-container-center").css("visibility","visible");_self.vars.filterObject=[];_self.vars.selectedFiltersArr=[];_self.vars.tempSelectedFiltersArr=[];_self.vars.selectedFacetsList=[];_self.vars.isTopFacets=(_self.vars.filterConfiguration||{}).aligned==="top"?true:false;_self.vars.countOfSelectedFilters=0;}});$(dataHTML).off("click",".search-button").on("click",".search-button",function(e){e.stopPropagation();// if($('#search').val()) {
//   e.preventDefault();
//   if($('.search-container').hasClass('conversation')){
//     $('.search-body').addClass('hide');
//     $('#searchChatContainer').removeClass('bgfocus');
//   };
//   _self.sendMessageToSearch('user');
//   _self.bindLiveDataToChat();
// }
//$('#search').trigger(jQuery.Event('keydown', { keycode: 13 }));
$("#search").focus().trigger({type:"keydown",which:13});});$(dataHTML).off("click","#search").on("click","#search",function(e){if(!$("body").hasClass("top-down")){if($("#search").hasClass("from-result-ranking")){$("#search").removeClass("from-result-ranking");_self.vars.customizeView=true;// _self.invokeSearch();
$("#show-all-results-container").show();if(!$(".search-container").hasClass("bottom-up-results-showing")){$(".search-container").addClass("bottom-up-results-showing");}setTimeout(function(){$("#search").focus().trigger({type:"keydown",which:13});setTimeout(function(){$(".show-all-results").click();},1000);},1000);}else{if(!($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val())){_self.bindFrequentData();}}}$("#search").trigger({type:"keydown",which:39});});var handle=setInterval(function(){if(_self.bot.options.accessToken){initPopularSearchList();clearInterval(handle);handle=0;}},1000);var timerId;var searchBoxDom=document.getElementById("search");var debounceFunction=function debounceFunction(func,delay){// Cancels the setTimeout method execution
clearTimeout(timerId);// Executes the func after delay time.
timerId=setTimeout(func,delay);};// Event listener on the input box
searchBoxDom.addEventListener("input",function(event){// Debounces makeAPICall method
debounceFunction(_makeAPICall(event),200,event);});$(dataHTML).off("keyup","#search").on("keyup","#search",function(e){_self.trimSearchQuery(e);if(!$("body").hasClass("top-down")&&$(".bottom-up-search").val()){$(".search-container").removeClass("no-history");if(!$(".search-container").hasClass("active")){$(".search-container").addClass("active");}if($(".search-body").hasClass("recent-search-show")){$(".search-body").removeClass("recent-search-show");}}var keyCode=e.keyCode||e.which;keyCode=Number(keyCode);if($("body").hasClass("top-down")&&keyCode!==13){_self.vars.enterIsClicked=false;}else if($("body").hasClass("top-down")&&keyCode==13){_self.vars.enterIsClicked=true;$("#live-search-result-box").hide();$("#frequently-searched-box").hide();return;}_self.pubSub.unsubscribe("sa-input-keyup");_self.pubSub.publish("sa-handel-go-button");_self.hideBottomUpAllResults();_self.pubSub.subscribe("sa-input-keyup",function(msg,data){if(!$("body").hasClass("top-down")&&_self.vars.enterIsClicked){$(".search-body").css("display","none");$(".search-body").addClass("hide");$(".parent-search-live-auto-suggesition").hide();return;}if($("body").hasClass("top-down")){$(".top-down-suggestion").val("");}else{$(".bottom-up-suggestion").val("");}// if ((!$('body').hasClass('top-down') && $('.bottom-up-search').val()) && !window.isBotLocked && !_self.vars.enterIsClicked) {
//   $('.search-body').css('display', 'block');
//   $('.search-body').removeClass('hide');
//   if (!window.isBotLocked) {
//     $('.parent-search-live-auto-suggesition').show();
//   }
// } else
if(!$("body").hasClass("top-down")&&!$(".bottom-up-search").val()||window.isBotLocked){$(".search-body").css("display","none");$(".search-body").addClass("hide");$("#autoSuggestionContainer").empty();$(".suggestion-search-data-parent").css("display","none");}_self.appendSuggestions();if(!($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val())){if($("#auto-query-box").find(".suggestion-box").length){$(".suggestion-box").remove();}$(".top-down-suggestion").val("");$("#live-search-result-box").hide();$("#frequently-searched-box").show();// _self.frequentlySearchedRecentTextClickEvent();
if((_self.vars.searchObject.recentTasks&&!_self.vars.searchObject.recentTasks.length||_self.vars.searchObject.recents&&!_self.vars.searchObject.recents.length)&&$(".search-container").hasClass("active")){// $('.search-container').removeClass('active');
}if(keyCode==8){if(!$("body").hasClass("top-down")){$(".search-body").css("display","none");$(".search-body").addClass("hide");$(".parent-search-live-auto-suggesition").hide();$("#autoSuggestionContainer").empty();}return;}_self.bindFrequentData();$(".custom-header-container-center").css("visibility","visible");}else{$("#frequently-searched-box").hide();var code=e.keyCode||e.which;code=Number(code);if(_self.vars.enterIsClicked){$("#live-search-result-box").hide();$("#frequently-searched-box").hide();return;}if(code==9||code==39){if($("body").hasClass("top-down")&&!$(".top-down-suggestion").val()||!$("body").hasClass("top-down")&&!$(".bottom-up-suggestion").val()){setTimeout(function(){if(!$("body").hasClass("top-down")){$(".bottom-up-search").focus();}else{$(".search-top-down").focus();}},100);return;}else{$("#search").val(JSON.parse(JSON.stringify($("#suggestion").val())));}$("#search").focus();if(!$("body").hasClass("top-down")){if($(".bottom-up-suggestion").val()){$(".bottom-up-search").val(JSON.parse(JSON.stringify($(".bottom-up-suggestion").val())));}$(".bottom-up-search").focus();}else{if($(".top-down-suggestion").val()){$(".search-top-down").val(JSON.parse(JSON.stringify($(".top-down-suggestion").val())));}$(".search-top-down").focus();}}if(code==9){e.preventDefault();}if(e.target.value){var payload={query:e.target.value.toString(),maxNumOfResults:5,userId:_self.API.uuid,streamId:_self.API.streamId,lang:"en"};var url=_self.API.livesearchUrl;//'https://qa-bots.kore.ai/searchAssistant/liveSearch';
var searchData;if(code==13){// if (!($('.topdown-search-main-container').length)) {
//   $('#search').val('');
//   $('#suggestion').val('');
//   $('.bottom-up-search').val('');
//   $('.bottom-up-suggestion').val('');
// }
// _self.hideAutoSuggestion();
if($("body").hasClass("top-down")){_self.vars.enterIsClicked=true;$("#frequently-searched-box").hide();$("#live-search-result-box").hide();}}else{if($("body").hasClass("top-down")&&_self.vars.enterIsClicked){$("#frequently-searched-box").hide();$("#live-search-result-box").hide();return;}$("#autoSuggestionContainer").removeClass("hide");if(!$("body").hasClass("top-down")){// bottomUp
_self.hideBottomUpAllResults();}else{$(".top-down-suggestion").val($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val());// $('#live-search-result-box').hide();
}if(searchConfigurationCopy.liveSearchResultsLimit!==0){if(_self.vars.previousLivesearchData==($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val())){_self.checkIsPreviousLiveSearchDataExists();return;}_self.vars.previousLivesearchData=$("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val();_self.getFrequentlySearched(url,"POST",JSON.stringify(payload)).then(function(res){var _this5=this;var responseData=Object.assign({},res);_self.vars.requestId=res.requestId;if($("body").hasClass("top-down")&&_self.vars.enterIsClicked){$("#frequently-searched-box").hide();$("#live-search-result-box").hide();return;}if(res.queryPipelineId&&res.relay){_self.vars.experimentsObject={};if(res.relay=="experiment"){if(res.experimentId){_self.vars.experimentsObject["experimentId"]=res.experimentId;}}_self.vars.experimentsObject["indexPipelineId"]=res.indexPipelineId;_self.vars.experimentsObject["queryPipelineId"]=res.queryPipelineId;_self.vars.experimentsObject["relay"]=res.relay;}if(res.isBotLocked){window.isBotLocked=true;}else{window.isBotLocked=false;}if(_self.vars.enterIsClicked){if(!$("body").hasClass("top-down")){$("#frequently-searched-box").hide();$("#live-search-result-box").hide();return;}return;}if(res&&res.requestId&&res.template&&res.template.originalQuery){_self.vars.previousSearchObj={};_self.vars.previousSearchObj.requestId=res.requestId;// previous search requestId from response
_self.vars.previousSearchObj.searchText=res.template.originalQuery;// previous text
}if(res.templateType==="liveSearch"){$("#searchChatContainer").removeClass("bgfocus-override");$(".live-search-data-container").empty();res=res.template;var faqs=[],web=[],tasks=[],files=[],data=[],facets,viewType="Preview";if(!$(".search-container").hasClass("active")){$(".search-container").addClass("active");}if(((res.results||{}).data||[]).length||res.resultType=="grouped"&&Object.keys(res.results).length){$(".live-search-data-container").empty();_self.getMergedData(_self.vars.resultSettings,responseData,'isLiveSearch').then(function(res){// setTimeout(function () {
var me=_this5;var devMode=_self.isDev?true:false;var viewType=_self.vars.customizeView?"Customize":"Preview";var msgData={message:[{component:{type:'template',payload:{infoText:'',template_type:"finalResultsTemplate",isDev:_self.isDev,devMode:devMode,viewType:viewType,showAllResults:false,noResults:false,taskPrefix:"SUGGESTED",customSearchResult:_self.customSearchResult,totalSearchResults:_self.vars.totalNumOfResults,groupData:_self.vars.mergedData,searchType:'isLiveSearch',helpers:helpers,snippetData:{}}}}]};var showAllHTML=_self.customTemplateObj.renderMessage(msgData);if(!$("body").hasClass("top-down")){$(".search-body").empty().append(showAllHTML);}else{$(".live-search-data-container").empty().append(showAllHTML);}});// var tmplData = {
//   faqs: [],
//   web: [],
//   tasks: [],
//   files: [],
//   data: [],
//   showAllResults: true,
//   noResults: false,
//   taskPrefix: "SUGGESTED",
//   viewType: viewType,
//   customSearchResult: _self.customSearchResult,
// };
_self.pubSub.publish("sa-show-live-search-suggestion",dataObj);// searchData = $(
//   _self.getSearchTemplate("liveSearchData")
// ).tmplProxy(tmplData);
// $(searchData).data(dataObj);
// $(".search-body").html(searchData);
$(".search-body").show();$(".search-body").removeClass("hide");// if (
//   res &&
//   res.results &&
//   res.resultType == "grouped"
// ) {
//   var availableGroups = Object.keys(res.results);
//   var selectedGroup = availableGroups[0];
//   availableGroups.forEach((group) => {
//     var results = res.results[group].data;
//     var groupName =
//       group == "default_group"
//         ? "defaultTemplate"
//         : group;
//     var dataObj = {
//       facets: [],
//       searchFacets: [],
//       originalQuery: res.originalQuery || "",
//       customSearchResult: _self.customSearchResult,
//       data: results,
//       groupName: groupName,
//     };
//     var publishSearchData =
//       "sa-" + groupName + "-search-data";
//     _self.pubSub.publish(publishSearchData, {
//       container: ".live-search-data-container",
//       isFullResults: false,
//       selectedFacet: "all results",
//       isLiveSearch: true,
//       isSearch: false,
//       dataObj,
//     });
//   });
//   res.results = results;
// } else {
//   var results = res.results.data;
//   res.results = results;
//   var dataObj = {
//     facets: facets || [],
//     searchFacets: searchFacets || [],
//     originalQuery: res.originalQuery || "",
//     customSearchResult: _self.customSearchResult,
//     data: results,
//     groupName: "defaultTemplate",
//   };
//   _self.pubSub.publish(
//     "sa-defaultTemplate-search-data",
//     {
//       container: ".live-search-data-container",
//       isFullResults: false,
//       selectedFacet: "all results",
//       isLiveSearch: true,
//       isSearch: false,
//       dataObj,
//     }
//   );
// }
_self.closeGreetingMsg();facets=res.facets;var dataObj={faqs:faqs,web:web,tasks:tasks,files:files,data:data,facets:facets,originalQuery:res.originalQuery,customSearchResult:_self.customSearchResult};setTimeout(function(){$(".search-body").scrollTop(2);},100);_self.clickNavigateToUrl();_self.bindAllResultsView();if($("body").hasClass("top-down")){setTimeout(function(){_self.bindStructuredDataTriggeringOptions();},100);}var scoreArray=[{name:"asstPage",score:web.length&&web[0].score},{name:"asstTask",score:tasks.length&&tasks[0].score},{name:"asstFaq",score:faqs.length&&faqs[0].score}];scoreArray.sort(function(a,b){return b.score-a.score;});scoreArray.forEach(function(obj,index){$("."+obj.name).css("order",index+1);});//live search hightlight faq start//
setTimeout(function(){var topMatchLivesearchFAQ=faqs.filter(function(faq){return faq.bestMatch;});if(topMatchLivesearchFAQ.length){//highlight faq;
topMatchLivesearchFAQ=topMatchLivesearchFAQ[0];}else{topMatchLivesearchFAQ=false;}if(topMatchLivesearchFAQ){if($("body").hasClass("top-down")){var bestFAQDiv=$("#live-search-result-box  .task-wrp[contentid='"+topMatchLivesearchFAQ.contentId+"']:last");bestFAQDiv.addClass("faq-highlight");}else{var bestFAQDiv=$(".live-seach-auto-suggestion-parent .resultsOfSearch .task-wrp[contentid='"+topMatchLivesearchFAQ.contentId+"']:last");bestFAQDiv.addClass("faq-highlight");}}},200);//live search hightlight faq  end//
}else{if($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val()){var dataObj={faqs:faqs,web:web,tasks:tasks,files:files,facets:facets,data:data,customSearchResult:_self.customSearchResult};var tmplData={faqs:faqs,web:web,tasks:tasks,files:files,data:data,showAllResults:false,noResults:true,taskPrefix:"MATCHED",viewType:viewType,customSearchResult:_self.customSearchResult};$(".search-body").empty().append('<div class="livesearchResultsNotFound">No live search results found</div>');setTimeout(function(){$(".search-body").scrollTop(2);},100);if($("body").hasClass("top-down")){_self.pubSub.publish("sa-show-live-search-suggestion",dataObj);_self.pubSub.publish("sa-search-result",_objectSpread(_objectSpread({},dataObj),{isLiveSearch:true,isFullResults:false,selectedFacet:_self.vars.selectedFacetFromSearch|"all results"}));}else{if(!_self.vars.enterIsClicked&&!window.isBotLocked){$(".search-body").css("display","block");$(".search-body").removeClass("hide");}_self.pubSub.publish("sa-search-result",dataObj);_self.pubSub.publish("sa-source-type",_self.getFacetsAsArray(facets));}}}_self.vars.searchObject.liveData={faqs:faqs,web:web,tasks:tasks,files:files,facets:facets,originalQuery:res.originalQuery||""};_self.searchEventBinding(searchData,"livesearch",e,config);}else if(res.templateType==="liveSearchEmpty"){$(".search-body").hide();$("#searchChatContainer").addClass("bgfocus-override");}else{$(".search-body").hide();}});}else{$('.searchBox.Search-BG-Copy').remove();$(".search-container").addClass("active");$(".search-body").removeClass("hide");$('.search-body').empty();// $(".search-body").show();
}}}else{$(".search-body").html("");$(".search-body").removeClass("h-100");}if(!$("body").hasClass("top-down")){$(".custom-header-container-center").css("visibility","hidden");}}//top-down-suggestion box perfect scroll start //
if($(".topdown-search-main-container").length){var topDownSuggBoxDataHTML=$("#heading");_self.bindPerfectScroll(topDownSuggBoxDataHTML,"#live-search-result-box",null,"y","suggestionBox");}//top-down-suggestion box perfect scroll -end//
});});$(dataHTML).off("focus","#search").on("focus","#search",function(e){_self.vars.enterIsClicked=false;if(!$("body").hasClass("top-down")){$(".search-container").removeClass("no-history");if(!$(".search-container").hasClass("active")){$(".search-container").addClass("active");}}if($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val()){_self.pubSub.publish("sa-input-keyup",e);}if(!_self.vars.isSocketInitialize){_self.bot.init(_self.vars.botConfig,_self.config.messageHistoryLimit);_self.bindSocketEvents();_self.vars.isSocketInitialize=true;_self.resetSocketDisconnection();_self.vars.isSocketReInitialize=true;}_self.pubSub.publish("sa-search-focus",{});_self.pubSub.publish("sa-handel-chat-container-view");if($(".greetingMsg").length){$(".greetingMsg").hide();}if(searchConfigurationCopy&&searchConfigurationCopy.showSearchesEnabled){if(!window.isBotLocked){$(".search-body").removeClass("hide");}else{$(".search-body").addClass("hide");$(".search-body").css("display","none");$(".parent-search-live-auto-suggesition").hide();}}else{$(".search-body").addClass("hide");$("#searchChatContainer").removeClass("bgfocus");$(".parent-search-live-auto-suggesition").hide();}clearTimeout(_self.vars.searchObject.clearGreetingTimeOut);if($(".search-container").hasClass("full-page")){$(".search-container").removeClass("full-page");$(".start-search-icon-div").removeClass("hide");$(".search-body-full").html("");if(!$(".search-container").hasClass("active")){$(".search-container").addClass("active");}e.stopPropagation();}_self.changeSearchContainerBackground();if((_self.vars.searchObject.recentTasks.length||(_self.vars.searchObject.recents||[]).length||_self.vars.searchObject.popularSearches&&_self.vars.searchObject.popularSearches.length)&&!($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val())){$(".search-container").addClass("active");if(_self.showGreetingMsg){_self.showGreetingMsg=false;}_self.closeGreetingMsg();if(_self.customSearchResult){var tmplData={searchResults:searchResults,recents:_self.vars.searchObject.recents.length&&_self.vars.searchObject.recents.slice(0,5),recentTasks:_self.vars.searchObject.recentTasks.length&&_self.vars.searchObject.recentTasks.slice(0,2),popularSearches:_self.vars.searchObject.popularSearches.slice(0,5)};_self.pubSub.publish("sa-show-freq-data",tmplData);}else{if(!$("body").hasClass("top-down")&&!_self.vars.enterIsClicked&&!($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val())){_self.pubSub.publish("sa-generate-recent-search");}}setTimeout(function(){$(".search-body").scrollTop(2);},100);_self.deleteRecents();_self.bindSearchActionEvents();_self.recentClick();}else if((_self.vars.searchObject.recentTasks.length||_self.vars.searchObject.recents.length||_self.vars.searchObject.popularSearches&&_self.vars.searchObject.popularSearches.length)&&($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val())){_self.closeGreetingMsg();if(!$(".search-container").hasClass("active")){$(".search-container").addClass("active");e.stopPropagation();}}else if($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val()){$("#search").trigger("keyup");_self.pubSub.publish("sa-input-keyup");if(!$("body").hasClass("top-down")){$(".custom-header-container-center").css("visibility","hidden");}}});$(dataHTML).off('click','#histroybutton').on('click','#histroybutton',function(e){e.stopPropagation();if(_self.vars.isHistroyloaded){$('#histroybutton').hide();$('#histroyChatContainer').show();_self.searchHistroy(_self.vars.configuration);}});}if(templateType==="livesearch"){if(!$(".search-container").hasClass("active")){$(".search-container").addClass("active");e.stopPropagation();}var searchText=($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val())||_self.vars.searchObject.liveData.originalQuery;if(e.keyCode==13){if($(".search-container").hasClass("conversation")){$(".search-body").addClass("hide");$("#searchChatContainer").removeClass("bgfocus");var searchText=($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val())||_self.vars.searchObject.searchText;if(!$(".topdown-search-main-container").length){$("#search").val("");$(".bottom-up-search").val("");$(".bottom-up-suggestion").val("");$("#suggestion").val("");}else{_self.invokeSearch();$(".top-down-suggestion").val("");$("#suggestion").val("");}}if(!ignorAppend){_self.bindLiveDataToChat();}e.preventDefault();}_self.bindSearchActionEvents();if(_self.isDev){if(!_self.vars.customizeView){$(".query-analytics-control-container").hide();}else{$(".query-analytics-control-container").show();}}}if(templateType==="pay bill"||templateType==="pay credit card bill"){var creditCard=$(_self.getSearchTemplate("payBillContainer")).tmplProxy({selectedBiller:templateType,data:[{biller_name:"AT&T",card_type:"master_card",card_number:"2313",bill_amount:"95.20",due_date:"03/07/2020"},{biller_name:"Verizon Wireless",card_type:"master_card",card_number:"2313",bill_amount:"64.45",due_date:"13/07/2020"},{biller_name:"Pico Energy",card_type:"master_card",card_number:"6724",bill_amount:"235.20",due_date:"05/07/2020"}]});$(creditCard).off("click",".closeAction").on("click",".closeAction",function(e){e.stopPropagation();$(".search-body .finalResults").removeClass("hide");$(".searchBox").removeClass("hide");$(".pay-bill-container").remove();$(".search-body").removeClass("h-100");});$(creditCard).off("click",".pay-button").on("click",".pay-button",function(e){var payData=$(this).attr("msgData");$(".pay-bill-container .card-container").addClass("hide");var gateway=$(_self.getSearchTemplate("paymentGateWayDemo")).tmplProxy({paymentDetails:JSON.parse(payData)});var defaultlibConfig={format:"MM-DD-YYYY",alwaysOpen:false,singleMonth:true,showShortcuts:false,singleDate:true,showTopbar:false,inline:true,startDate:moment__WEBPACK_IMPORTED_MODULE_3___default()().format("MM-DD-YYYY"),container:$(gateway).find(".datePicker")};$(gateway).off("click","#gatewayNextDemo").on("click","#gatewayNextDemo",function(event1){event1.stopPropagation();var confirmationModal=$(_self.getSearchTemplate("confirmationModal")).tmplProxy({});$(".confirmationModal").html(confirmationModal);$(".confirmationModal").removeClass("hide");$(confirmationModal).off("click","#confirmGatwayPayment").on("click","#confirmGatwayPayment",function(ev){ev.stopPropagation();var gatwaySuccess=$(_self.getSearchTemplate("gatwaySuccess")).tmplProxy({selectedDate:$("#demoDatePicker").val()});$(".payBillMain").remove();$(".LoginWhiteBG ").remove();$(".card-pay-title").addClass("hide");$(".card-pay-legend").addClass("hide");$(gatwaySuccess).off("click","#makeAnotherPayDemo").on("click","#makeAnotherPayDemo",function(e2){e2.stopPropagation();$(".card-pay-title").removeClass("hide");$(".card-pay-legend").removeClass("hide");$(".card-container").removeClass("hide");$(".search-body").addClass("h-100");$(".successContainer").remove();});$(gatwaySuccess).off("click","#closePayment").on("click","#closePayment",function(e2){e2.stopPropagation();$(".pay-bill-container").remove();$(".search-body .finalResults").removeClass("hide");$(".searchBox").removeClass("hide");$(".search-body").removeClass("h-100");});$(".pay-bill-container").append(gatwaySuccess);$(".confirmationModal").html("");$(".confirmationModal").addClass("hide");$(".search-body").scrollTop(0);});$(confirmationModal).off("click","#cancelGatwayPayment").on("click","#cancelGatwayPayment",function(ev){ev.stopPropagation();$(".confirmationModal").html("");$(".confirmationModal").addClass("hide");});});$(gateway).off("blur","#demoDatePicker").on("blur","#demoDatePicker",function(eventBlur){if($("#demoDatePicker").val()){$("#gatewayNextDemo").removeAttr("disabled");$("#gatewayNextDemo").css("cursor","pointer");$("#gatewayNextDemo").css("opacity",1);}else{$("#gatewayNextDemo").attr("disabled");$("#gatewayNextDemo").css("cursor","auto");$("#gatewayNextDemo").css("opacity",0.7);}});$(gateway).find("#demoDatePicker").dateRangePicker(defaultlibConfig).bind("datepicker-open",function(){setTimeout(function(){var scrollBottom=$(".search-body").scrollTop()+$(".search-body").height();$(".search-body").animate({scrollTop:scrollBottom});},150);}).bind("datepicker-closed",function(){setTimeout(function(){if($("#demoDatePicker").val()){$("#gatewayNextDemo").removeAttr("disabled");$("#gatewayNextDemo").css("cursor","pointer");$("#gatewayNextDemo").css("opacity",1);}else{$("#gatewayNextDemo").attr("disabled");$("#gatewayNextDemo").css("cursor","auto");$("#gatewayNextDemo").css("opacity",0.7);}},150);});$(".pay-bill-container").append(gateway);$(".search-body").scrollTop(0);});$(".LoginWhiteBG").remove();$("search-body .finalResults").addClass("hide");$(".searchBox").addClass("hide");$(".search-body").addClass("h-100");$(".search-body").append(creditCard);$(".search-body").removeClass("hide");// $('#searchChatContainer').addClass('bgfocus');
$(".search-body").scrollTop(0);_self.bindPerfectScroll(creditCard,".card-container",null,"x","creditcard");}};FindlySDK.prototype.bindPerfectScroll=function(dataHtml,scrollContainer,update,scrollAxis,contentPSObj){contentPSObj=contentPSObj||"contentPSObj";var _self=this;if(KRPerfectScrollbar){if(!update){if(scrollAxis&&scrollAxis==="x"){_self.vars[contentPSObj]=new KRPerfectScrollbar($(dataHtml).find(scrollContainer).get(0),{suppressScrollY:true});}else{_self.vars[contentPSObj]=new KRPerfectScrollbar($(dataHtml).find(scrollContainer).get(0),{suppressScrollX:true});}}else{_self.vars.contentPSObj.update();}}};FindlySDK.prototype.bindLiveDataToChat=function(botAction){if(!$("body").hasClass("top-down")){$("#search").val("");$("#suggestion").val("");}var _self=this;var payload={query:_self.vars.searchObject.searchText,// "maxNumOfResults": 9,
maxNumOfResults:5,userId:_self.API.uuid,streamId:_self.API.streamId,lang:"en"};if(botAction){if($("body").hasClass("top-down")){_self.vars.searchObject.searchText=_self.previousDataobj;}else{_self.vars.searchObject.searchText="";}payload.isBotAction=true;}payload.smallTalk=true;var url=_self.API.searchUrl;//'https://qa-bots.kore.ai/searchAssistant/liveSearch';
var searchData;if(!botAction){_self.getFrequentlySearched(url,"POST",JSON.stringify(payload)).then(function(res){_self.handleSearchRes(res);});}};FindlySDK.prototype.handleSearchRes=function(res){var _this6=this;var _self=this;var responseData=res;$(".parent-search-live-auto-suggesition").hide();setTimeout(function(){$(".typingIndicatorContent").css("display","none");},100);try{}catch(err){}var faqs=[],web=[],tasks=[],files=[],facets,searchFacets=[];var data=[];var totalSearchResults=0;var viewType=_self.vars.customizeView?"Customize":"Preview";_self.pubSub.publish("sa-search-facets",_self.vars.searchFacetFilters);if(res&&res.requestId&&res.template&&res.template.originalQuery){_self.vars.previousSearchObj={};_self.vars.previousSearchObj.requestId=res.requestId;// previous search requestId from response
_self.vars.previousSearchObj.searchText=res.template.originalQuery;// previous text
}if(res.templateType==undefined){var botResponse;if($("body").hasClass("top-down")){if((res||{}).endOfTask){$("#sa-conversation-box").attr("placeholder","");$("#sa-conversation-box").prop("disabled",true);var dataHTML=$(_self.getEndTaskMsgTopDownTemplate());$("#searchChatContainer").append(dataHTML);$(".task-ended-message").off("click",".back-to-search").on("click",".back-to-search",function(e){if(_self.isDev==false){$("#searchChatContainer .task-ended-message").remove();}$("#conversation-container").hide();});return;}}if($("body").hasClass("top-down")&&res.isAutoTriggeredBotAction||$("body").hasClass("top-down")&&(res.payload||{}).template_type||(res.payload||{}).template_type=="quick_replies"&&(res.payload||{}).isAutoTriggeredBotAction){if(!$("#conversation-container").is(":visible")){$("#conversation-container").show();if($(".search-container").hasClass("no-history")){$(".search-container").removeClass("no-history");}$("#sa-conversation-box").prop("disabled",false);$("#sa-conversation-box").attr("placeholder","Type message...");}}if(!$("body").hasClass("top-down")){if((res||{}).endOfTask){return;}}if(res.payload==undefined){if(res.cInfo){if((res.text||{}).cInfo){(res.text||{}).cInfo=res.cInfo;}}botResponse=res.text;_self.sendMessageToSearch("bot",botResponse);}else{botResponse=res;_self.sendMessageToSearch("bot",JSON.stringify(botResponse));}}if(res.templateType==="search"){_self.vars.isFilterModified=false;_self.vars.deselectedAutoFilters=[];_self.vars.requestId=res.requestId;if(res.queryPipelineId&&res.relay){_self.vars.experimentsObject={};if(res.relay=="experiment"){if(res.experimentId){_self.vars.experimentsObject["experimentId"]=res.experimentId;}}_self.vars.experimentsObject["indexPipelineId"]=res.indexPipelineId;_self.vars.experimentsObject["queryPipelineId"]=res.queryPipelineId;_self.vars.experimentsObject["relay"]=res.relay;}res=res.template;facets=[];var totalResultsCount=0;if(res.tabFacet&&res.tabFacet.buckets&&res.tabFacet.buckets.length){res.tabFacet.buckets.forEach(function(tab){totalResultsCount=totalResultsCount+tab.doc_count;if(!tab.name){tab.name=tab.key;}});_self.vars.tabFacetFieldName=res.tabFacet.fieldName;}totalResultsCount=totalResultsCount;if(res.facets!==undefined){_self.vars.searchFacetFilters=res.facets;// searchFacets = res.searchFacets;
searchFacets=_self.vars.searchFacetFilters;}else{res.facets=[];_self.vars.searchByFacetFilters=res.facets;searchFacets=_self.vars.searchFacetFilters;}$(".full-search-data-container").empty();$(".no-templates-defined-full-results-container").hide();if(((res.results||{}).data||[]).length||(res.tasks||[]).length||res.resultType=="grouped"&&Object.keys(res.results).length){var searchContainerName=$("body").hasClass("top-down")?".full-search-data-container":".search-data-container";if(!$("body").hasClass("top-down")){var _res,_res$graph_answer,_res$graph_answer$pay;var snippetObj={};if((_res=res)!==null&&_res!==void 0&&(_res$graph_answer=_res.graph_answer)!==null&&_res$graph_answer!==void 0&&(_res$graph_answer$pay=_res$graph_answer.payload)!==null&&_res$graph_answer$pay!==void 0&&_res$graph_answer$pay.center_panel){if(Object.keys(res.graph_answer.payload.center_panel).length>0){var _res2,_res2$graph_answer,_res2$graph_answer$pa,_res2$graph_answer$pa2,_res2$graph_answer$pa3,_res3,_res3$graph_answer,_res3$graph_answer$pa,_res3$graph_answer$pa2,_res3$graph_answer$pa3,_res4,_res4$graph_answer,_res4$graph_answer$pa,_res4$graph_answer$pa2,_res4$graph_answer$pa3,_res5,_res5$graph_answer,_res5$graph_answer$pa,_res5$graph_answer$pa2,_res5$graph_answer$pa3;snippetObj={'title':helpers.convertMDtoHTML((_res2=res)===null||_res2===void 0?void 0:(_res2$graph_answer=_res2.graph_answer)===null||_res2$graph_answer===void 0?void 0:(_res2$graph_answer$pa=_res2$graph_answer.payload)===null||_res2$graph_answer$pa===void 0?void 0:(_res2$graph_answer$pa2=_res2$graph_answer$pa.center_panel)===null||_res2$graph_answer$pa2===void 0?void 0:(_res2$graph_answer$pa3=_res2$graph_answer$pa2.data[0])===null||_res2$graph_answer$pa3===void 0?void 0:_res2$graph_answer$pa3.title),'answer':helpers.convertMDtoHTML((_res3=res)===null||_res3===void 0?void 0:(_res3$graph_answer=_res3.graph_answer)===null||_res3$graph_answer===void 0?void 0:(_res3$graph_answer$pa=_res3$graph_answer.payload)===null||_res3$graph_answer$pa===void 0?void 0:(_res3$graph_answer$pa2=_res3$graph_answer$pa.center_panel)===null||_res3$graph_answer$pa2===void 0?void 0:(_res3$graph_answer$pa3=_res3$graph_answer$pa2.data[0])===null||_res3$graph_answer$pa3===void 0?void 0:_res3$graph_answer$pa3.answer),page_url:(_res4=res)===null||_res4===void 0?void 0:(_res4$graph_answer=_res4.graph_answer)===null||_res4$graph_answer===void 0?void 0:(_res4$graph_answer$pa=_res4$graph_answer.payload)===null||_res4$graph_answer$pa===void 0?void 0:(_res4$graph_answer$pa2=_res4$graph_answer$pa.center_panel)===null||_res4$graph_answer$pa2===void 0?void 0:(_res4$graph_answer$pa3=_res4$graph_answer$pa2.data[0])===null||_res4$graph_answer$pa3===void 0?void 0:_res4$graph_answer$pa3.url,'source':(_res5=res)===null||_res5===void 0?void 0:(_res5$graph_answer=_res5.graph_answer)===null||_res5$graph_answer===void 0?void 0:(_res5$graph_answer$pa=_res5$graph_answer.payload)===null||_res5$graph_answer$pa===void 0?void 0:(_res5$graph_answer$pa2=_res5$graph_answer$pa.center_panel)===null||_res5$graph_answer$pa2===void 0?void 0:(_res5$graph_answer$pa3=_res5$graph_answer$pa2.data[0])===null||_res5$graph_answer$pa3===void 0?void 0:_res5$graph_answer$pa3.source};}else{snippetObj={};}}else{snippetObj={};}_self.countTotalResults(res,0);var dataObj={faqs:[],web:[],tasks:res.tasks||[],facets:[],files:[],searchFacets:searchFacets,originalQuery:res.originalQuery||"",customSearchResult:_self.customSearchResult,data:[]};if(_self.isDev){var responseObject={type:"onboardingjourney",data:"test",query:_self.vars.searchObject.searchText,bottomUp:true,requestId:_self.vars.previousSearchObj.requestId};_self.parentEvent(responseObject);}if(dataObj.smallTalk){_self.sendMessageToSearch("bot",dataObj.smallTalk);}else{// var _botMessage = "Sure, please find the matched results below";
var searchData=$(_self.getSearchTemplate("liveSearchData")).tmplProxy({faqs:[],web:[],tasks:[],showAllResults:true,noResults:false,taskPrefix:"MATCHED",viewType:viewType,customSearchResult:_self.customSearchResult,totalSearchResults:_self.vars.totalNumOfResults});_self.getMergedData(_self.vars.resultSettings,responseData,'isSearch').then(function(res){// setTimeout(function () {
var me=_this6;var devMode=_self.isDev?true:false;var viewType=_self.vars.customizeView?"Customize":"Preview";var msgData={message:[{component:{type:'template',payload:{infoText:'Sure, please find the matched results below',template_type:"finalResultsTemplate",isDev:_self.isDev,devMode:devMode,viewType:viewType,showAllResults:true,noResults:false,taskPrefix:"MATCHED",customSearchResult:_self.customSearchResult,totalSearchResults:_self.vars.totalNumOfResults,groupData:_self.vars.mergedData,searchType:'isSearch',helpers:helpers,snippetData:snippetObj}}}]};var showAllHTML=_self.customTemplateObj.renderMessage(msgData);$("#searchChatContainer").append(showAllHTML);// _self.appendActionsContainerForBottomUp("search");
// _self.pubSub.publish("sa-action-full-search", {
//   container: ".actions-search-container",
//   isFullResults: false,
//   selectedFacet: "all results",
//   isLiveSearch: false,
//   isSearch: true,
//   dataObj,
// });
// }, 300);
});setTimeout(function(){_self.bindSearchActionEvents();},500);// $(searchData).data(dataObj);
if(!_self.customSearchResult){// if (!topMatchTask && !_self.customSearchResult) {
// _self.sendMessageToSearch(
//   "bot",
//   _botMessage,
//   null,
//   _self.isDev == true ? true : false
// );
if(_self.isDev){setTimeout(function(){_self.pubSub.publish("sa-handle-customize-option-view");},500);}}// $("#searchChatContainer").append(searchData);
}}else{_self.countTotalResults(res,0);if($("body").hasClass("top-down")){// _self.showMoreClick();
facets.push({key:"all results",doc_count:_self.vars.totalNumOfResults,name:"ALL"});facets=facets.concat((res.tabFacet||{}).buckets||[]);facets=_self.rearrangeTabsList(facets);if((res.tasks||[]).length){facets.push({key:"task",doc_count:(res.tasks||[]).length,name:"Actions"});}facets.forEach(function(tab){if(tab&&tab.key){tab["className"]=tab.key.replaceAll(" ","-");}});_self.vars.tabsList=facets;if(!_self.vars.searchObject.liveData){_self.vars.searchObject.liveData={facets:facets};}else{_self.vars.searchObject.liveData.facets=facets;}// _self.pubSub.publish("sa-source-type", facets);
// _self.pubSub.publish("sa-search-facets", searchFacets);
// _self.pubSub.publish("facet-selected", { selectedFacet: "all results" });
}var isFilterEnabled=_self.vars.filterConfiguration.isEnabled;if(isFilterEnabled||isFilterEnabled==false){isFilterEnabled=isFilterEnabled;}else{isFilterEnabled=false;}_self.getMergedData(_self.vars.resultSettings,responseData,'isFullResults').then(function(res){var me=_this6;var devMode=_self.isDev?true:false;var viewType=_self.vars.customizeView?"Customize":"Preview";var msgData={message:[{component:{type:'template',payload:{template_type:"fullSearchResultTopdownTemplate",isDev:_self.isDev,devMode:devMode,viewType:viewType,totalSearchResults:_self.vars.totalNumOfResults,groupData:_self.vars.mergedData,searchType:'isFullResults',helpers:helpers,tabsList:_self.vars.tabsList,facetPosition:_self.vars.filterConfiguration.aligned,isFilterEnabled:isFilterEnabled,filterFacetData:searchFacets||[],sortableFacetList:_self.vars.sortableFacetList||[],displaySortable:_self.vars.displaySortable,displayFeedback:_self.vars.feedBackExperience}}}]};var showAllHTML=_self.customTemplateObj.renderMessage(msgData);$("#top-down-full-results-container").empty().append(showAllHTML);$(".skelton-load-img").hide();});}var liveResult=res.results;var topMatch;var topMatchTask;topMatch=data.filter(function(data){return data.bestMatch;});if(topMatch.length){//highlight faq;
topMatch=topMatch[0];}else{topMatch=false;}// } 
if(!$('body').hasClass('top-down')){setTimeout(function(){if($('.messageBubble .userMessage span').last().text()==_self.vars.searchObject.searchText&&$('.messageBubble .messageBubble-content .botMessage span:nth-child(2)').last().text()==='Sure, please find the matched results below'){if($('#searchChatContainer').prop('offsetHeight')<$('.finalResults .resultsOfSearch .bottom-search-show-all-results').last().position().top){$("#searchChatContainer").off('scroll').on('scroll',function(){if($('.sdk-chat-container').scrollTop()==0&&!$('#histroybutton').is(':visible')){if(_self.vars.isHistroyloaded&&!_self.isDev){$('#histroybutton').hide();$('#histroyChatContainer').show();_self.searchHistroy(_self.vars.configuration);}}if($('#searchChatContainer').prop('offsetHeight')>=$('.finalResults .resultsOfSearch .bottom-search-show-all-results').last().position().top){$('.more-results').css('display','none');$('.feedback-template-positions.if-live-search-top-down.bottom-up-show-all').css('display','flex');}else{$('.more-results').css('display','block');$('.feedback-template-positions.if-live-search-top-down.bottom-up-show-all').css('display','none');}});$('.more-results').css('display','block');$('.feedback-template-positions.if-live-search-top-down.bottom-up-show-all').css('display','none');}}if(!$('.search-data-container').last().children().length){$('#searchChatContainer .messageBubble').last().remove();$('#searchChatContainer .finalResults').last().remove();_self.sendMessageToSearch('bot','Unable to find results at this moment');}},500);}else{$("#loaderDIV").hide();$("#frequently-searched-box").hide();$("#live-search-result-box").hide();if(_self.isDev){$(".custom-header-container-center").removeClass("display-none");if(_self.vars.customizeView){$(".custom-add-result-container").removeClass("display-none");}else{$(".query-analytics-control-container").hide();}}setTimeout(function(){_self.bindStructuredDataTriggeringOptions();},100);}_self.clickNavigateToUrl();_self.vars.searchObject.liveData={faqs:[],web:[],tasks:[],facets:[],files:[],searchFacets:searchFacets,originalQuery:res.originalQuery||"",data:[]};if(((res.results||{}).data||[]).length){if(_self.vars.customizeView==true){if($(searchData).find(".tasks-wrp").length){$(searchData).find(".tasks-wrp").sortable();}}else{if($(searchData).find(".tasks-wrp").length){$(searchData).find(".tasks-wrp").sortable({disabled:true});}}$(searchData).attr("queryString",dataObj.originalQuery);if(topMatchTask){// searchData.addClass("hide");
}$("#searchChatContainer").append(searchData);_self.vars.showingMatchedResults=true;if(_self.vars.customizeView==true){$(".faqs-shadow").addClass("custom-faqs-shadow");$(".faqs-wrp-content").addClass("custom-faqs-wrp-content");$(".faqs-bottom-actions").addClass("custom-faqs-bottom-actions");$(".image-url-sec").css("display","none");$(".faqs-bottom-actions").css("display","table");$(".divfeedback").css("display","none");}else{$(".faqs-shadow").removeClass("custom-faqs-shadow");$(".faqs-wrp-content").removeClass("custom-faqs-wrp-content");$(".faqs-bottom-actions").removeClass("custom-faqs-bottom-actions");$(".image-url-sec").css("display","table-cell");$(".faqs-bottom-actions").css("display","none");}}setTimeout(function(){if(_self.isDev==false){if($(".messageBubble").last().find(".messageBubble-content").length&&!$(".messageBubble-content").last().parent().prev().find(".userMessage").length&&!$(".messageBubble-content").last().parent().prev().find(".messageBubble-content").length){$("#searchChatContainer").animate({scrollTop:$("#searchChatContainer").scrollTop()+$(".messageBubble-content").last().parent().position().top-60},500);}else if($(".messageBubble").last().find(".messageBubble-content").length&&!$(".messageBubble-content").last().parent().prev().find(".userMessage").length&&$(".messageBubble-content").last().parent().prev().find(".messageBubble-content").length){$("#searchChatContainer").animate({scrollTop:$("#searchChatContainer").scrollTop()+$(".messageBubble-content").last().parent().position().top-25-$(".messageBubble-content").last().parent().prev().find(".messageBubble-content").height()},500);}else{if($(".userMessage").last().parent().position()){$("#searchChatContainer").animate({scrollTop:$("#searchChatContainer").scrollTop()+$(".userMessage").last().parent().position().top-25},500);}}}else{if($(".messageBubble").last().find(".messageBubble-content").length&&!$(".messageBubble-content").last().parent().prev().find(".userMessage").length&&!$(".messageBubble-content").last().parent().prev().find(".messageBubble-content").length){$("#searchChatContainer").animate({scrollTop:$("#searchChatContainer").scrollTop()+$(".messageBubble-content").last().parent().position().top-25},500);}else if($(".messageBubble").last().find(".messageBubble-content").length&&!$(".messageBubble-content").last().parent().prev().find(".userMessage").length&&$(".messageBubble-content").last().parent().prev().find(".messageBubble-content").length){$("#searchChatContainer").animate({scrollTop:$("#searchChatContainer").scrollTop()+$(".messageBubble-content").last().parent().position().top-25-$(".messageBubble-content").last().parent().prev().find(".messageBubble-content").height()},500);}else{if($(".userMessage").last().parent().position()&&($(".userMessage").last().parent().position().top>34||$(".userMessage").last().parent().position().top<34)){$("#searchChatContainer").animate({scrollTop:$("#searchChatContainer").scrollTop()+$(".userMessage").last().parent().position().top-25},300);}}}},200);}else{if($("body").hasClass("top-down")){if((res.tasks||[]).length){var dataObj={tasks:res.tasks||[],searchFacets:searchFacets,originalQuery:res.originalQuery||"",customSearchResult:_self.customSearchResult};_self.pubSub.publish("sa-search-result",_objectSpread(_objectSpread({},dataObj),{isLiveSearch:false,isFullResults:true,selectedFacet:_self.vars.isFromTopDownKeyDown?"data":"all results"}));}else{facets=[];facets.push({key:"all results",doc_count:0,name:"ALL"});facets=facets.concat((res.tabFacet||{}).buckets||[]);facets=_self.rearrangeTabsList(facets);if((res.tasks||[]).length){facets.push({key:"task",doc_count:(res.tasks||[]).length,name:"Actions"});}facets.forEach(function(tab){if(tab&&tab.key){tab["className"]=tab.key.replaceAll(" ","-");}});var isFilterEnabled=_self.vars.filterConfiguration.isEnabled;if(isFilterEnabled||isFilterEnabled==false){isFilterEnabled=isFilterEnabled;}else{isFilterEnabled=false;}_self.vars.tabsList=facets;var devMode=_self.isDev?true:false;var viewType=_self.vars.customizeView?"Customize":"Preview";var msgData={message:[{component:{type:'template',payload:{template_type:"fullSearchResultTopdownTemplate",isDev:_self.isDev,devMode:devMode,viewType:viewType,totalSearchResults:0,groupData:[],searchType:'isFullResults',helpers:helpers,tabsList:_self.vars.tabsList,facetPosition:_self.vars.filterConfiguration.aligned,isFilterEnabled:isFilterEnabled,filterFacetData:searchFacets||[],sortableFacetList:_self.vars.sortableFacetList||[],displaySortable:_self.vars.displaySortable,displayFeedback:_self.vars.feedBackExperience}}}]};var showAllHTML=_self.customTemplateObj.renderMessage(msgData);$("#top-down-full-results-container").empty().append(showAllHTML);$(".skelton-load-img").hide();$(".empty-full-results-container").removeClass("hide");$(".no-templates-defined-full-results-container").hide();}}else{if((res.tasks||[]).length){var dataObj={tasks:res.tasks||[],searchFacets:searchFacets,originalQuery:res.originalQuery||"",customSearchResult:_self.customSearchResult};if(!$("body").hasClass("top-down")){var dataObj={faqs:[],web:[],tasks:res.tasks||[],facets:[],files:[],searchFacets:searchFacets,originalQuery:res.originalQuery||"",customSearchResult:_self.customSearchResult,data:[]};if(_self.isDev){var responseObject={type:"onboardingjourney",data:"test",query:_self.vars.searchObject.searchText,bottomUp:true,requestId:_self.vars.previousSearchObj.requestId};_self.parentEvent(responseObject);}if(dataObj.smallTalk){_self.sendMessageToSearch("bot",dataObj.smallTalk);}else{var _botMessage="Sure, please find the matched results below";searchData=$(_self.getSearchTemplate("liveSearchData")).tmplProxy({faqs:[],web:[],tasks:res.tasks||[],showAllResults:true,noResults:false,taskPrefix:"MATCHED",viewType:viewType,customSearchResult:_self.customSearchResult,totalSearchResults:(res.tasks||[]).length});setTimeout(function(){_self.appendActionsContainerForBottomUp("search");_self.pubSub.publish("sa-action-full-search",{container:".actions-search-container",isFullResults:false,selectedFacet:"all results",isLiveSearch:false,isSearch:true,dataObj:dataObj});},300);setTimeout(function(){_self.bindSearchActionEvents();},500);$(searchData).data(dataObj);if(!_self.customSearchResult){// if (!topMatchTask && !_self.customSearchResult) {
_self.sendMessageToSearch("bot",_botMessage,null,_self.isDev==true?true:false);if(_self.isDev){setTimeout(function(){_self.pubSub.publish("sa-handle-customize-option-view");},500);}}$("#searchChatContainer").append(searchData);}}}}if($(".search-container").hasClass("conversation")&&!(res.tasks||[]).length){$(".search-body").addClass("hide");$("#searchChatContainer").removeClass("bgfocus");clearTimeout(indicatorTimer);$(".typingIndicatorContent").css("display","none");_self.sendMessageToSearch("bot","Unable to find results at this moment");}_self.vars.totalNumOfResults=0;}// if ($("body").hasClass("top-down")) {
//   _self.showMoreClick();
//   facets.push({
//     key: "all results",
//     doc_count: _self.vars.totalNumOfResults + (res.tasks || []).length,
//     name: "ALL",
//   });
//   facets = facets.concat((res.tabFacet || {}).buckets || []);
//   facets = _self.rearrangeTabsList(facets);
//   if ((res.tasks || []).length) {
//     facets.push({
//       key: "task",
//       doc_count: (res.tasks || []).length,
//       name: "Actions",
//     });
//   }
//   _self.vars.tabsList = facets;
//   if (!_self.vars.searchObject.liveData) {
//     _self.vars.searchObject.liveData = { facets: facets };
//   } else {
//     _self.vars.searchObject.liveData.facets = facets;
//   }
//   _self.pubSub.publish("sa-source-type", facets);
//   _self.pubSub.publish("sa-search-facets", searchFacets);
//   _self.pubSub.publish("facet-selected", { selectedFacet: "all results" });
// }
_self.fullResultsScrollTop();$(".content-data-sec").scrollTop(0);$(".data-body-sec").scrollTop(0);}else if(res.templateType==="botAction"){// debugger;
res=res.template;var botResponse=res.webhookPayload.text;_self.sendMessageToSearch("bot",botResponse);}else if(res.templateType==="botActionError"){var errorMessage=res.template&&res.template.Error?res.template.Error:"Failed to connect to the bot";_self.sendMessageToSearch("bot",errorMessage);}else if(res.templateType==="liveSearchEmpty"){_self.sendMessageToSearch("bot","No results found");}if($("body").hasClass("top-down")){var conversationContainerHtml=$("#conversation-container");if($('#searchChatContainer').length){_self.bindPerfectScroll(conversationContainerHtml,"#searchChatContainer",null,"y","conversationContainer");}}$(".parent-search-live-auto-suggesition").hide();if(_self.vars.feedBackExperience){_self.getFeedBackResult();}};FindlySDK.prototype.bindFrequentData=function(){var _self=this;$("#suggestion").val("");if(_self.customSearchResult){var tmplData={// searchResults: _self.vars.searchObject.recentAPIResponse,
recents:_self.vars.searchObject.recents.length&&_self.vars.searchObject.recents.slice(0,5),recentTasks:_self.vars.searchObject.recentTasks.length&&_self.vars.searchObject.recentTasks.slice(0,2),popularSearches:_self.vars.searchObject.popularSearches.slice(0,5)};_self.pubSub.publish("sa-freq-data",tmplData);_self.pubSub.publish("sa-show-freq-data",tmplData);}else{setTimeout(function(){if(!_self.vars.enterIsClicked&&!($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val())){_self.pubSub.publish("sa-generate-recent-search");}},150);}setTimeout(function(){$(".search-body").scrollTop(2);},100);_self.deleteRecents();_self.recentClick();_self.bindSearchActionEvents();};FindlySDK.prototype.clickOutsideSearch=function(){var _this7=this;setTimeout(function(){var _self=_this7;$(document).on("click",function(event){if(!$(event.target).closest(".search-container").length){if($(".search-body").find(".pay-bill-container").length){return;}else{// $('.search-container').removeClass('active');
}}else{event.stopPropagation();if(searchConfigurationCopy&&searchConfigurationCopy.showSearchesEnabled){if(!window.isBotLocked){$(".search-body").removeClass("hide");// $('#searchChatContainer').addClass('bgfocus');
}}$(".suggestion-search-data-parent").css("display","block");}if($(event.target).closest("#searchChatContainer").length&&!$(event.target).closest("#search").length&&!$(event.target).closest(".default-data-show-not-loaded").length){event.stopPropagation();if($(".search-container").hasClass("conversation")){$(".search-body").addClass("hide");$("#searchChatContainer").removeClass("bgfocus");$(".search-body").removeClass("h-100");$(".parent-search-live-auto-suggesition").hide();$(".custom-header-container-center").css("visibility","visible");$(".suggestion-search-data-parent").css("display","none");}}else if($(event.target).closest(".heading").length){event.stopPropagation();$("#searchChatContainer").removeClass("bgfocus");$(".search-body").addClass("hide");$(".suggestion-search-data-parent").css("display","none");$(".parent-search-live-auto-suggesition").hide();// if (!$('#searchChatContainer').find('.messageBubble').length && !$('.search-container').hasClass('no-history')) {
//   $('.search-container').addClass('no-history');
// }
}else{if(!$(event.target).closest(".search-body").length&&!$(event.target).closest(".show-all-results-outer-wrap").length&&!$(event.target).closest("#search").length&&!$(event.target).closest(".default-data-show-not-loaded").length){if(searchConfigurationCopy&&searchConfigurationCopy.showSearchesEnabled){if(!window.isBotLocked){$(".search-body").addClass("hide");$("#searchChatContainer").removeClass("bgfocus");if(!window.isBotLocked){$(".parent-search-live-auto-suggesition").show();}}if(!$("#search").val()){$(".search-body").addClass("hide");$(".parent-search-live-auto-suggesition").hide();if(!$("#searchChatContainer").find(".messageBubble").length&&!$(".search-container").hasClass("no-history")&&!$(event.target).closest(".parent-search-live-auto-suggesition").length){$(".search-container").addClass("no-history");}}}$(".parent-search-live-auto-suggesition").hide();$(".suggestion-search-data-parent").css("display","none");if(!$("#searchChatContainer").find(".messageBubble").length&&!$(".search-container").hasClass("no-history")&&!$(event.target).closest(".parent-search-live-auto-suggesition")){$(".search-container").addClass("no-history");}}}if(!($(event.target).closest("#search-box-container").length||$(event.target).closest("#frequently-searched-box").length||$(event.target).closest("#live-search-result-box").length)){$("#frequently-searched-box").hide();if(!$("#conversation-container").is(":visible")){$("#live-search-result-box").hide();}}// out side click for live search and frequent search dropdown close//
$("#live-search-result-box").off("click").on("click",function(event){if($(event.target).closest("#live-search-result-box").length&&!$(event.target).closest(".carousel").length&&!$(event.target).closest(".data-container").length&&!$(event.target).closest(".accordion").length){if($("#live-search-result-box").height()<event.offsetY||event.offsetX<0||event.offsetX>$("#live-search-result-box").width()){$("#live-search-result-box").hide();}}});$("#frequently-searched-box").off("click").on("click",function(event){if($(event.target).closest("#frequently-searched-box").length){if($("#frequently-searched-box").height()<event.offsetY||event.offsetX<0||event.offsetX>$("#frequently-searched-box").width()){$("#frequently-searched-box").hide();}}});if(!$(event.target).closest(".dropdown_custom_filter").length){$(".dropdown-content").hide();$(".dropdown_custom_filter").find(".down-arrow").show();$(".dropdown_custom_filter").find(".up-arrow").hide();}if(!$(event.target).closest(".sdk-facet-filter-data").length){if($(".sdk-facet-filter-data").is(":visible")){$("#facetRightIconId").click();}}});$(".parent-search-live-auto-suggesition").off("click").on("click",function(event){if($(event.target).closest(".parent-search-live-auto-suggesition").length&&!$("#search").val()){$(".search-body").addClass("hide");}$(".parent-search-live-auto-suggesition").hide();if(!$("#searchChatContainer").find(".messageBubble").length&&!$(".search-container").hasClass("no-history")){$(".search-container").addClass("no-history");}});},3000);}();FindlySDK.prototype.setActionTitle=function(title,container){var actionTitleTmpl='<div><div class="action-chat-title">${title}</div></div>';var template=$(actionTitleTmpl).tmplProxy({title:title});$("#"+container).append(template);};FindlySDK.prototype.sendMessageToSearch=function(type,mesageData,data,isSearchResultsMessage){var _self=this;var messageData={text:"",from:type};var devMode=_self.isDev?"true":"false";var viewType=_self.vars.customizeView?"Customize":"Preview";$(".more-results").css("display","none");$('.feedback-template-positions.if-live-search-top-down.bottom-up-show-all').css('display','flex');if(type==="user"&&($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val())!==null&&($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val())!==undefined){messageData.text=$("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val();if(messageData.text&&messageData.text.trim()&&!_self.customSearchResult){if(isSearchResultsMessage){messageData.isSearchResultsMessage=true;}messageData.timeStamp=moment__WEBPACK_IMPORTED_MODULE_3___default()().format('LT');var template=$(_self.getSearchTemplate("messageBubbles")).tmplProxy({msgData:messageData,devMode:devMode,viewType:viewType,helpers:helpers});$("#searchChatContainer").append(template);var scrollBottom=$("#searchChatContainer").scrollTop()+$("#searchChatContainer").height();$("#searchChatContainer").animate({scrollTop:scrollBottom});if(!$("body").hasClass("top-down")){setTimeout(function(){if($(".searchAssist-kore-chat-window.search-container").hasClass("active")){$(".typingIndicatorContent").css("display","block");$("#searchChatContainer").off("scroll").on("scroll",function(event){if($(".userMessage").last().parent()&&$(".userMessage").last().parent().next().find(".messageBubble-content").length){$(".typingIndicatorContent").css("display","none");}});}else{_self.showTypingIndicator();}},200);}}}if(type==="user-conversation"&&$("#sa-conversation-box").val()!==null&&$("#sa-conversation-box").val()!==undefined){messageData.text=$("#sa-conversation-box").val();messageData.from="user";messageData.timeStamp=moment__WEBPACK_IMPORTED_MODULE_3___default()().format('LT');if(messageData.text&&messageData.text.trim()&&_self.customSearchResult&&!$("body").hasClass("top-down")){var template=$(_self.getSearchTemplate("messageBubbles")).tmplProxy({msgData:messageData,devMode:devMode,viewType:viewType,helpers:helpers});$("#searchChatContainer").append(template);}}if(type==="bot"){clearTimeout(indicatorTimer);$(".typingIndicatorContent").css("display","none");try{messageData=JSON.parse(mesageData);}catch(error){messageData.text=mesageData;}var messagemessageHtmlHtml="";var defaultBotMessage={type:"bot_response",from:"bot",message:[{type:"text",component:{}}]};if(messageData&&_typeof2(messageData.text)=="object"&&(messageData.text.type=="image"||messageData.text.type=="audio"||messageData.text.type=="video"||messageData.text.type=="link"||messageData.text.type=="message")){defaultBotMessage.message[0].component=messageData.text;if(messageData.text.cInfo){defaultBotMessage.message[0].cInfo=messageData.text.cInfo;}}else{defaultBotMessage.message[0].component=messageData;}defaultBotMessage.messageId=koreGenerateUUID();var messageHtml=_self.customTemplateObj.renderMessage(defaultBotMessage);if(!messageHtml||!messageHtml.length){if(messageData&&messageData.type&&messageData.type==="template"){//removed custom templates
}else{//simple text message
if(isSearchResultsMessage){messageData.isSearchResultsMessage=true;}if(messageData.text&&_typeof2(messageData.text)=="object"){messageData.text=messageData.text.text;}if(_typeof(messageData)=="number"){messageHtml=$(_self.getSearchTemplate("messageBubbles")).tmplProxy({msgData:{from:"bot",text:messageData},helpers:helpers});$("#searchChatContainer").append(messageHtml);}else{messageHtml=$(_self.getSearchTemplate("messageBubbles")).tmplProxy({msgData:messageData,helpers:helpers});// $('#searchChatContainer').append(template);
}}}if(messageData.payload&&messageData.payload.text&&!messageHtml){var template=$(_self.getSearchTemplate("messageBubbles")).tmplProxy({msgData:{from:"bot",text:messageData.payload.text},helpers:helpers});$("#searchChatContainer").append(template);}if($(messageHtml).find(".barchart").length||$(messageHtml).find(".linechart").length||$(messageHtml).find(".tableChart").length||$(messageHtml).find(".pieChart").length){$(messageHtml).find(".messageBubble").addClass("hide");}$("#searchChatContainer").append(messageHtml);setTimeout(function(){if($(".messageBubble").last().find(".messageBubble-content").length&&!$(".messageBubble-content").last().parent().prev().find(".userMessage").length&&!$(".messageBubble-content").last().parent().prev().find(".messageBubble-content").length){$("#searchChatContainer").animate({scrollTop:$("#searchChatContainer").scrollTop()+$(".messageBubble-content").last().parent().position().top-25},500);}else if($(".messageBubble").last().find(".messageBubble-content").length&&!$(".messageBubble-content").last().parent().prev().find(".userMessage").length&&$(".messageBubble-content").last().parent().prev().find(".messageBubble-content").length){$("#searchChatContainer").animate({scrollTop:$("#searchChatContainer").scrollTop()+$(".messageBubble-content").last().parent().position().top-25-$(".messageBubble-content").last().parent().prev().find(".messageBubble-content").height()},500);}else if($(".messageBubble").last().find(".fromOtherUsers").length&&!$(".messageBubble-content").last().parent().prev().find(".userMessage").length&&$(".fromOtherUsers").last().parent().prev().find(".messageBubble-content").length){$("#searchChatContainer").animate({scrollTop:$("#searchChatContainer").scrollTop()+$(".fromOtherUsers").last().parent().position().top-25-$(".fromOtherUsers").last().parent().prev().find(".messageBubble-content").height()},500);}else{if($(".userMessage").last().parent().position()&&($(".userMessage").last().parent().position().top>34||$(".userMessage").last().parent().position().top<34)){$("#searchChatContainer").animate({scrollTop:$("#searchChatContainer").scrollTop()+$(".userMessage").last().parent().position().top-25},500);}}},200);}if(type==="botAction"){messageData.text=_self.vars.searchObject.searchText;messageData.from="user";messageData.timeStamp=moment__WEBPACK_IMPORTED_MODULE_3___default()().format('LT');var template=$(_self.getSearchTemplate("messageBubbles")).tmplProxy({msgData:messageData,devMode:devMode,viewType:viewType,helpers:helpers});//$('#searchChatContainer').append(template);
$(".search-body").hide();$("#searchChatContainer").addClass("bgfocus-override");_self.bindLiveDataToChat(true);}setTimeout(function(){if(_self.isDev==false){// var scrollBottom = $('#searchChatContainer').scrollTop() + $('#searchChatContainer').height();
// $('#searchChatContainer').animate({ scrollTop: scrollBottom });
if($(".messageBubble").last().find(".messageBubble-content").length&&!$(".messageBubble-content").last().parent().prev().find(".userMessage").length&&!$(".messageBubble-content").last().parent().prev().find(".messageBubble-content").length){$("#searchChatContainer").animate({scrollTop:$("#searchChatContainer").scrollTop()+$(".messageBubble-content").last().parent().position().top-25},500);}else if($(".messageBubble").last().find(".messageBubble-content").length&&!$(".messageBubble-content").last().parent().prev().find(".userMessage").length&&$(".messageBubble-content").last().parent().prev().find(".messageBubble-content").length){$("#searchChatContainer").animate({scrollTop:$("#searchChatContainer").scrollTop()+$(".messageBubble-content").last().parent().position().top-25-$(".messageBubble-content").last().parent().prev().find(".messageBubble-content").height()},500);}else if($(".messageBubble").last().find(".fromOtherUsers").length&&!$(".messageBubble-content").last().parent().prev().find(".userMessage").length&&$(".fromOtherUsers").last().parent().prev().find(".messageBubble-content").length){$("#searchChatContainer").animate({scrollTop:$("#searchChatContainer").scrollTop()+$(".fromOtherUsers").last().parent().position().top-25-$(".fromOtherUsers").last().parent().prev().find(".messageBubble-content").height()},500);}else{if($(".userMessage").last().parent().position()&&($(".userMessage").last().parent().position().top>34||$(".userMessage").last().parent().position().top<34)){$("#searchChatContainer").animate({scrollTop:$("#searchChatContainer").scrollTop()+$(".userMessage").last().parent().position().top-25},500);}}}},200);};FindlySDK.prototype.userLogin=function(clickedAction){_self=this;var action=clickedAction;var userLogin=$(_self.getSearchTemplate("userLogin")).tmplProxy({});$(userLogin).off("keyup","#testFutureUserId").on("keyup","#testFutureUserId",function(event){$(".errorMsg").addClass("hide");if($("#testFuturePassword").val()&&$("#testFutureUserId").val()){$(".testFutureLoginBtn").removeAttr("disabled");$(".testFutureLoginBtn").css("cursor","pointer");$(".testFutureLoginBtn").css("opacity","1");}else{$(".testFutureLoginBtn").attr("disabled");$(".testFutureLoginBtn").css("cursor","auto");$(".testFutureLoginBtn").css("opacity","0.7");}});$(userLogin).off("keyup","#testFuturePassword").on("keyup","#testFuturePassword",function(event){$(".errorMsg").addClass("hide");if($("#testFuturePassword").val()&&$("#testFutureUserId").val()){$(".testFutureLoginBtn").removeAttr("disabled");$(".testFutureLoginBtn").css("cursor","pointer");$(".testFutureLoginBtn").css("opacity","1");}else{$(".testFutureLoginBtn").attr("disabled");$(".testFutureLoginBtn").css("cursor","auto");$(".testFutureLoginBtn").css("opacity","0.7");}});$(userLogin).off("click",".testFutureLoginBtn").on("click",".testFutureLoginBtn",function(event){event.stopPropagation();if($("#testFutureUserId").val()==="John"&&$("#testFuturePassword").val()==="1111"){_self.vars.loggedInUser="John";$(".menu-link.login").addClass("hide");$(".menu-link.loggedIn").removeClass("hide");$(".errorMsg").addClass("hide");//static pay bill removed
if(false){}else{_self.vars.searchObject.searchText=action;_self.sendMessageToSearch("botAction");}}else{$(".errorMsg").removeClass("hide");}});$(".search-body .finalResults").addClass("hide");$(".searchBox").addClass("hide");$(".search-body").append(userLogin);$(".search-body").removeClass("hide");// $('#searchChatContainer').addClass('bgfocus');
};FindlySDK.prototype.getFrequentlySearched=function(url,type,payload){var bearer="bearer "+this.bot.options.accessToken||0||0;var headers={};payload=JSON.parse(payload);headers["Authorization"]=bearer;headers["Content-Type"]="application/json";var currentDate=new Date();var dateTime=currentDate.getDate()+"/"+(currentDate.getMonth()+1)+"/"+currentDate.getFullYear()+", "+currentDate.getHours()+":"+currentDate.getMinutes()+":"+currentDate.getSeconds();payload.userId=this.bot.userInfo.userInfo.userId;payload.streamId=this.bot.options.botInfo.taskBotId;var _self=this;_self.vars.deselectedAutoFilters=[];if(!$("body").hasClass("demo")){payload.indexPipelineId=_self.API.indexpipelineId;payload.queryPipelineId=_self.API.pipelineId;}payload["messagePayload"]={clientMessageId:new Date().getTime(),message:{body:payload.query},resourceId:"/bot.message",timeDateDay:dateTime,currentPage:window.location.href,meta:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,locale:window.navigator.userLanguage||window.navigator.language},location:this.vars.locationObject.location,country:this.vars.locationObject.country};if(url!=this.API.livesearchUrl){if(!payload.maxNumOfResults){payload["maxNumOfResults"]=5;}if(!payload.pageNumber){payload["pageNumber"]=0;}}if(this.bot.options){payload.messagePayload["client"]=this.bot.options.client||"sdk";payload.messagePayload["botInfo"]={};payload.messagePayload["botInfo"].chatBot=this.bot.options.botInfo.chatBot;payload.messagePayload["botInfo"].taskBotId=this.bot.options.botInfo.taskBotId;payload.messagePayload["botInfo"].customData={};var contextObj=$("#contextjsonfield").val();if(contextObj){contextObj.trim();if(contextObj){try{contextObj=JSON.parse(contextObj);}catch(error){contextObj={};}}this.bot.options.botInfo.customData["userContext"]=contextObj;payload.messagePayload["botInfo"].customData=this.bot.options.botInfo.customData;}else{if(window.localStorage.getItem("userName")){this.bot.options.botInfo.customData["userContext"]={user_name:window.localStorage.getItem("userName"),location:window.localStorage.getItem("userLocation"),gender:window.localStorage.getItem("gender"),user_age:window.localStorage.getItem("userAge")};}payload.messagePayload["botInfo"].customData=_self.bot.options.botInfo.customData||{};}}payload=JSON.stringify(payload);if(!_self.isDev){if(_self.config.botOptions.assertion){headers.auth=_self.config.botOptions.assertion;}}return $.ajax({url:url,type:type,dataType:"json",/*headers: {
          "Authorization": bearer,
          "Content-Type": "application/json"
        },*/headers:headers,data:payload,success:function success(data){},error:function error(err){}});};FindlySDK.prototype.getPopularSearchList=function(url,type){var bearer=this.API.jstBarrer;var _self=this;var headers={Authorization:"bearer "+this.bot.options.accessToken,"Content-Type":"application/json"};if(!_self.isDev){if(_self.config.botOptions.assertion){headers.auth=_self.config.botOptions.assertion;}}return $.ajax({url:url,type:type,headers:headers,data:{},success:function success(data){},error:function error(err){}});};FindlySDK.prototype.newSearchFeedbackPost=function(url,type,payload){var bearer=this.API.jstBarrer||"bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.wrUCyDpNEwAaf4aU5Jf2-0ajbiwmTU3Yf7ST8yFJdqM";return $.ajax({url:url,type:type,dataType:"json",headers:{Authorization:bearer,"Content-Type":"application/json"},data:JSON.stringify(payload),success:function success(data){},error:function error(err){}});};FindlySDK.prototype.makeAPItoFindly=function(url,type,payload){return $.ajax({url:url,type:type,dataType:"json",headers:{Authorization:"bearer "+window.findlyAccessToken,AccountId:window.findlyAccountId,"Content-Type":"application/json"},data:payload,success:function success(data){},error:function error(err){}});};FindlySDK.prototype.dumpClickAnalyticsData=function(url,type,payload){var bearer="bearer "+this.bot.options.accessToken;var _self=this;var headers={Authorization:bearer,"Content-Type":"application/json"};if(!_self.isDev){if(_self.config.botOptions.assertion){headers.auth=_self.config.botOptions.assertion;}}return $.ajax({url:url,type:type,dataType:"json",headers:headers,data:payload,success:function success(data){},error:function error(err){}});};FindlySDK.prototype.bindCloseGreeting=function(){var _self=this;$(".search-greeting-close-container").off("click").on("click",function(e){_self.closeGreetingMsg();});};var final_transcript="";var recognizing=false;var recognition=null;var prevStr="";function getSIDToken(){// if (allowGoogleSpeech) {
if(recognition){// using webkit speech recognition
startGoogleWebKitRecognization();}else{// using google cloud speech API
micEnable();}}var two_line=/\n\n/g;var one_line=/\n/g;function linebreak(s){return s.replace(two_line,"<p></p>").replace(one_line,"<br>");}function capitalize(s){return s.replace(s.substr(0,1),function(m){return m.toUpperCase();});}function startGoogleWebKitRecognization(){if(recognizing){recognition.stop();return;}final_transcript="";recognition.lang="en-US";recognition.start();}function startGoogleSpeech(){if(rec){rec.record();$(".recordingMicrophone").css("display","block");$(".notRecordingMicrophone").css("display","none");intervalKey=setInterval(function(){rec.export16kMono(function(blob){if(allowGoogleSpeech){sendBlobToSpeech(blob,"LINEAR16",16000);}else{socketSend(blob);}rec.clear();},"audio/x-raw");},1000);}}// function startGoogleWebKitRecognization() {
//   if (recognizing) {
//     recognition.stop();
//     return;
//   }
//   final_transcript = '';
//   recognition.lang = 'en-US';
//   recognition.start();
// }
// function startGoogleSpeech() {
//   if (rec) {
//     rec.record();
//     $('.recordingMicrophone').css('display', 'block');
//     $('.notRecordingMicrophone').css('display', 'none');
//     intervalKey = setInterval(function () {
//       rec.export16kMono(function (blob) {
//         if (allowGoogleSpeech) {
//           sendBlobToSpeech(blob, 'LINEAR16', 16000);
//         }
//         else {
//           socketSend(blob);
//         }
//         rec.clear();
//       }, 'audio/x-raw');
//     }, 1000);
//   }
// }
function micEnable(){if(isRecordingStarted){return;}if(!navigator.getUserMedia){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;}if(navigator.getUserMedia){isRecordingStarted=true;navigator.getUserMedia({audio:true},success,function(e){isRecordingStarted=false;alert("Please enable the microphone permission for this page");return;});}else{isRecordingStarted=false;alert("getUserMedia is not supported in this browser.");}}function afterMicEnable(){if(navigator.getUserMedia){if(!rec){isRecordingStarted=false;console.error("Recorder undefined");return;}if(_connection){cancel();}try{_connection=createSocket();}catch(e){isRecordingStarted=false;console.error("Web socket not supported in the browser");}}}function stop(){$(".recordingMicrophone").css("display","none");$(".notRecordingMicrophone").css("display","block");if(recognizing){recognition.stop();recognizing=false;}}FindlySDK.prototype.initWebKitSpeech=function(){var _self=this;if("webkitSpeechRecognition"in window&&isChrome()){recognition=new window.webkitSpeechRecognition();final_transcript="";recognition.continuous=true;recognition.interimResults=true;recognition.onstart=function(){prevStr="";recognizing=true;$(".recordingMicrophone").css("display","block");$(".notRecordingMicrophone").css("display","none");};recognition.onerror=function(event){$(".recordingMicrophone").trigger("click");$(".recordingMicrophone").css("display","none");$(".notRecordingMicrophone").css("display","block");};recognition.onend=function(){recognizing=false;$(".recordingMicrophone").trigger("click");$(".recordingMicrophone").css("display","none");$(".notRecordingMicrophone").css("display","block");};recognition.onresult=function(event){final_transcript="";var interim_transcript="";for(var i=event.resultIndex;i<event.results.length;++i){if(event.results[i].isFinal){final_transcript+=event.results[i][0].transcript;}else{interim_transcript+=event.results[i][0].transcript;}}final_transcript=capitalize(final_transcript);final_transcript=linebreak(final_transcript);interim_transcript=linebreak(interim_transcript);if(final_transcript!==""){prevStr+=final_transcript;}if(recognizing){//$('.chatInputBox').html(prevStr + "" + interim_transcript);
$("#search").val(prevStr+""+interim_transcript);$("#search").focus().trigger({type:"keyup",which:32});//8
//$('.sendButton').removeClass('disabled');
}};}};function isChrome(){var isChromium=window.chrome,winNav=window.navigator,vendorName=winNav.vendor,isOpera=winNav.userAgent.indexOf("OPR")>-1,isIEedge=winNav.userAgent.indexOf("Edge")>-1,isIOSChrome=winNav.userAgent.match("CriOS");if(isIOSChrome){return true;}else if(isChromium!==null&&typeof isChromium!=="undefined"&&vendorName==="Google Inc."&&isOpera===false&&isIEedge===false){return true;}else{return false;}}FindlySDK.prototype.initializeCustomTemplate=function(findlyConfig){var _self=this;_self.customTemplateObj=new _templatemanager_templateManager__WEBPACK_IMPORTED_MODULE_11__["default"](_self);_self.customTemplateObj.helpers=helpers;_self.customTemplateObj.config=findlyConfig;var searchAssistTemplates=[new _templatemanager_templates_searchListViewTemplate_searchListViewTemplate__WEBPACK_IMPORTED_MODULE_12__["default"](),new _templatemanager_templates_searchGridViewTemplate_searchGridViewTemplate__WEBPACK_IMPORTED_MODULE_13__["default"](),new _templatemanager_templates_searchCarouselViewTemplate_searchCarouselViewTemplate__WEBPACK_IMPORTED_MODULE_14__["default"](),new _templatemanager_templates_finalResultsTemplate_finalResultsTemplate__WEBPACK_IMPORTED_MODULE_15__["default"](),new _templatemanager_templates_fullsearchResultsTemplate_fullsearchResultsTemplate__WEBPACK_IMPORTED_MODULE_16__["default"](),new _templatemanager_templates_fullsearchResultTopdownTemplate_fullsearchResultTopdownTemplate__WEBPACK_IMPORTED_MODULE_17__["default"]()];searchAssistTemplates.forEach(function(template){_self.customTemplateObj.installTemplate(template);});_self.initializeCustomTemplateEvent();};FindlySDK.prototype.initializeCustomTemplateEvent=function(){var _self=this;_self.onPostback=function(data){var viewType=_self.vars.customizeView?"Customize":"Preview";var devMode=_self.isDev?true:false;var messageData={};messageData.text=data.title;messageData.from="user";messageData.timeStamp=moment__WEBPACK_IMPORTED_MODULE_3___default()().format('LT');var templateBotMessageBubble=$(_self.getSearchTemplate("messageBubbles")).tmplProxy({msgData:messageData,devMode:devMode,viewType:viewType,helpers:helpers});$("#searchChatContainer").append(templateBotMessageBubble);var scrollBottom=$("#searchChatContainer").scrollTop()+$("#searchChatContainer").height()+34;if($(".messageBubble").last().find(".messageBubble-content").length){}else{if($(".userMessage").last().parent().position()&&($(".userMessage").last().parent().position().top>34||$(".userMessage").last().parent().position().top<34)){$("#searchChatContainer").animate({scrollTop:$("#searchChatContainer").scrollTop()+$(".userMessage").last().parent().position().top-25},300);}}_self.sendMessage(data.payload);};};FindlySDK.prototype.initialize=function(findlyConfig,fromTopDown){var _self=this;var _findlyConfig=findlyConfig;_self.vars.configuration=findlyConfig;_self.initializeCustomTemplate(findlyConfig);if(findlyConfig.botOptions){_findlyConfig=findlyConfig.botOptions;}_self.isDev=false;//window["KoreSDK"].findlyConfig.botOptions.assertionFn = this.getJWT;
if(_findlyConfig.searchIndexID){var _window;var searchData={_id:_findlyConfig.searchIndexID,pipelineId:_findlyConfig.queryPipelineId};window["selectedFindlyApp"]=searchData;(_window=window).appConfig||(_window.appConfig={});window.appConfig.API_SERVER_URL=_findlyConfig.koreAPIUrl;window.appConfig.API_SERVER_URL=window.appConfig.API_SERVER_URL.replace("/api","");}/*if (!$('body').hasClass('demo')) {
        _self.isDev = true;
      }*/if(window.appConfig.API_SERVER_URL){_self.baseAPIServer=window.appConfig.API_SERVER_URL;}if(fromTopDown){_self.baseAPIServer=window.appConfig.API_SERVER_URL+"/searchassistapi/businessapp/";}if(findlyConfig.autoConnect){_self.initWebKitSpeech();_self.setAPIDetails();if(fromTopDown){_self.initKoreSDK(_findlyConfig);}setTimeout(function(){_self.initWebKitSpeech();},1000);}window.koreWidgetSDKInstance=_self;};FindlySDK.prototype.initKorePicker=function(findlyConfig){var _this8=this;setTimeout(function(){if(window.KorePickers){_this8.config=findlyConfig;_this8.chatEle=$(".search-container");var pickerConfig={chatWindowInstance:_this8,chatConfig:_this8.config};var korePicker=new KorePickers(pickerConfig);korePicker.init();}function addBottomSlider(){$(".kore-chat-window").remove(".kore-action-sheet");var actionSheetTemplate='<div class="kore-action-sheet hide">\
            <div class="actionSheetContainer"></div>\
            </div>';$(".kore-chat-window").append(actionSheetTemplate);}addBottomSlider();},3000);};FindlySDK.prototype.enableRecent=function(){var _self=this;_self.pubSub.unsubscribe("sa-show-freq-data");_self.pubSub.subscribe("sa-show-freq-data",function(msg,data){var freqData=$(_self.getSearchTemplate("freqData")).tmplProxy(data);$(".search-body").html(freqData);_self.deleteRecents();});};FindlySDK.prototype.addFrequentlyUsedControl=function(config){var _self=this;_self.pubSub.unsubscribe("sa-freq-data");_self.pubSub.subscribe("sa-freq-data",function(msg,data){if(config.container){if(config.templateId){if(!$("body").hasClass("top-down")){var dataHTML=$("#"+config.templateId).tmplProxy(data);$("#"+config.container).empty().append(dataHTML);}else{var dataHTML=$(_self.getFrequentlySearchTemplate()).tmplProxy(_objectSpread(_objectSpread({},data),{searchConfig:config.searchConfig}));if(data.recents&&data.recents.length&&!$(".search-top-down").val()){if(config.searchConfig.showSearchesEnabled){$("#frequently-searched-box").show();setTimeout(function(){_self.frequentlySearchedRecentTextClickEvent();},150);}}else{$("#frequently-searched-box").hide();}$("#"+config.container).empty().append(dataHTML);}}else if(config.template){var dataHTML=$(config.template).tmplProxy(data);$("#"+config.container).empty().append(dataHTML);}else{var dataHTML=$(_self.getSearchTemplate("freqData")).tmplProxy(data);$("#"+config.container).empty().append(dataHTML);}_self.deleteRecents();_self.recentClick();_self.bindSearchActionEvents();}if(config.dataHandler){config.dataHandler(data);}});};function getFacetDisplayName(key){if(key.toLowerCase()==="faq"){return"FAQs";}else if(key.toLowerCase()==="web"){return"Web";}else if(key.toLowerCase()==="task"){return"Actions";}else if(key.toLowerCase()==="file"){return"Files";}else if(key.toLowerCase()==="data"){return"Data";}else if(key.toLowerCase()==="all results"){return"All";}else{return key;}}FindlySDK.prototype.addGreetingMsgControl=function(config){var _self=this;if(config.container){if($("body").hasClass("top-down")){var dataHTML=$(_self.getGreetingMsgTopDownTemplate()).tmplProxy({searchConfig:config.searchConfig});$("#"+config.container).empty().append(dataHTML);}}};FindlySDK.prototype.addSourceType=function(config){var _self=this;// _self.pubSub.unsubscribe("facet-selected");
// _self.pubSub.subscribe("facet-selected", (topic, data) => {
//   var doc_count = 0;
//   var isAction = false;
//   $(".active-tab .tab-count").show();
//   $(".active-tab .tab-count-right-bracket").show();
//   $(".no-templates-defined-full-results-container").hide();
//   $(".sdk-facet-count").show();
//   if ((((_self.vars || {}).searchObject || {}).liveData || {}).facets) {
//     var facets = _self.vars.searchObject.liveData.facets;
//     facets.forEach(function (facet) {
//       if (facet && facet.key) {
//         if (data.selectedFacet == facet.key) {
//           doc_count = facet.doc_count;
//         }
//         if (facet.key == "task") {
//           isAction = true;
//         }
//         $("." + facet.key.replaceAll(" ", "-"))
//           .removeClass(config.selectedClass)
//           .addClass(config.unSelectedClass);
//       }
//     });
//     $("." + data.selectedFacet.replaceAll(" ", "-"))
//       .removeClass(config.unSelectedClass)
//       .addClass(config.selectedClass);
//     if (!data.selectedFacet || data.selectedFacet === "all results") {
//       $(".facet:first").removeClass(config.unSelectedClass);
//       $(".facet:first").addClass(config.selectedClass);
//     }
//   }
//   if (
//     (!$(".full-search-data-container").children().length &&
//       doc_count &&
//       ((data.selectedFacet == "all results" && !isAction) ||
//         (data.selectedFacet !== "task" &&
//           data.selectedFacet !== "all results"))) ||
//     (!$(".full-search-data-container").children().length &&
//       doc_count &&
//       data.selectedFacet == "task" &&
//       !$(".actions-full-search-container").children().length)
//   ) {
//     if (_self.isDev) {
//       $(".no-templates-defined-full-results-container").show();
//     } else {
//       $(".empty-full-results-container").removeClass("hide");
//     }
//     if (data.selectedFacet) {
//       $("." + data.selectedFacet.replaceAll(" ", "-") + " .tab-count").hide();
//       $(
//         "." +
//         data.selectedFacet.replaceAll(" ", "-") +
//         " .tab-count-right-bracket"
//       ).hide();
//       $(".active-tab .sdk-facet-count").hide();
//     } else {
//       $(".all-results .tab-count").hide();
//       $(".all-results .tab-count-right-bracket").hide();
//       $(".active-tab .sdk-facet-count").hide();
//     }
//   } else if (
//     !$(".full-search-data-container").children().length &&
//     !doc_count
//   ) {
//     $(".empty-full-results-container").removeClass("hide");
//   } else {
//     if (!$(".empty-full-results-container").hasClass("hide")) {
//       $(".empty-full-results-container").addClass("hide");
//     }
//   }
// });
_self.pubSub.unsubscribe("sa-source-type");// _self.pubSub.subscribe("sa-source-type", (msg, data) => {
//   data.forEach((tab) => {
//     if (tab && tab.key) {
//       tab["className"] = tab.key.replaceAll(" ", "-");
//     }
//   });
//   var facets = data;
//   if (config.templateId) {
//     if (config.templateId === "top-down-tabs-template") {
//       var dataHTML = $(_self.getTopDownFacetsTabs()).tmplProxy({
//         facets: facets,
//         getFacetDisplayName: getFacetDisplayName,
//       });
//     } else {
//       var dataHTML = $("#" + config.templateId).tmplProxy({
//         facets: facets,
//         getFacetDisplayName: getFacetDisplayName,
//       });
//     }
//     $("#" + config.container)
//       .empty()
//       .append(dataHTML);
//   } else if (config.template) {
//     var dataHTML = $(config.template).tmplProxy({
//       facets: facets,
//       getFacetDisplayName: getFacetDisplayName,
//     });
//     $("#" + config.container)
//       .empty()
//       .append(dataHTML);
//   } else {
//     var dataHTML = $(_self.getSourceTypeTemplate()).tmplProxy({
//       facets: facets,
//       getFacetDisplayName: getFacetDisplayName,
//     });
//     $("#" + config.container)
//       .empty()
//       .append(dataHTML);
//   }
//   $("#openFacetFilterControl")
//     .off("click")
//     .on("click", function (event) {
//       if ($(".filters-container").css("display") == "block") {
//         $(".filters-container").hide();
//       } else {
//         $(".filters-container").show();
//       }
//     });
//   _self.bindFacetsToggle();
//   _self.bindAllResultsView();
//   if (!$("body").hasClass("top-down")) {
//     _self.markSelectedFilters();
//   }
// });
};FindlySDK.prototype.addSearchFacets=function(config){var _self=this;_self.pubSub.unsubscribe("sa-search-facets");_self.pubSub.subscribe("sa-search-facets",function(msg,data){});};FindlySDK.prototype.markSelectedFilters=function(){var _self=this;if(_self.vars.selectedFiltersArr.length>0){_self.vars.selectedFiltersArr.forEach(function(filter){$("#"+filter).prop("checked",true);if(!$('.filters-reset-anchor').hasClass('enabled')){$('.filters-reset-anchor').addClass('enabled');}});}else{if($('.filters-reset-anchor').hasClass('enabled')){$('.filters-reset-anchor').removeClass('enabled');}}};FindlySDK.prototype.addSearchResult=function(config){var _self=this;_self.customSearchResult=false;var structuredDataContainer="";if($("body").hasClass("top-down")){var actionsPosition="top";if(searchConfigurationCopy&&searchConfigurationCopy.botConfig){actionsPosition=searchConfigurationCopy.botConfig.botActionResultsExperience;}var actionParentContainer="<div id=\"actions-container\" class=\"quick-actions-container actions-full-search-container\"></div>";if(actionsPosition=="top"){$(".content-data-sec").prepend(actionParentContainer);}else{$(".full-search-data-container").after(actionParentContainer);}}_self.pubSub.unsubscribe("sa-search-result");_self.pubSub.subscribe("sa-search-result",function(msg,data){if(!data.selectedFacet){data.selectedFacet="all results";if(data.isFullResults){_self.pubSub.publish("facet-selected",{selectedFacet:"all results"});}}if(data.selectedFacet&&data.selectedFacet==="faq"){data.web=[];data.files=[];data.tasks=[];}if(data.selectedFacet&&data.selectedFacet==="web"){data.faqs=[];data.files=[];data.tasks=[];}if(data.selectedFacet&&data.selectedFacet==="file"){data.faqs=[];data.web=[];data.tasks=[];}if(data.selectedFacet&&data.selectedFacet==="task"){data.faqs=[];data.web=[];data.files=[];}var pageContainer="";var faqContainer="";var actionContainer="";if(config.container){pageContainer=faqContainer=actionContainer=config.container;}if(config.pageContainer){pageContainer=config.pageContainer;}if(config.faqContainer){faqContainer=config.faqContainer;}if(config.actionContainer){actionContainer=config.actionContainer;}if(pageContainer){if(config.pageTemplateId){var dataHTML=$("#"+config.pageTemplateId).tmplProxy(data);$("#"+pageContainer).empty().append(dataHTML);}else if(config.pageTemplate){var dataHTML=$(config.pageTemplate).tmplProxy(data);$("#"+pageContainer).empty().append(dataHTML);}}if(faqContainer){if(config.faqTemplateId){var dataHTML=$("#"+config.faqTemplateId).tmplProxy(data);if(faqContainer!==pageContainer&&faqContainer!==actionContainer){$("#"+faqContainer).empty();}$("#"+faqContainer).append(dataHTML);}else if(config.faqTemplate){var dataHTML=$(config.faqTemplate).tmplProxy(data);if(faqContainer!==pageContainer&&faqContainer!==actionContainer){$("#"+faqContainer).empty();}$("#"+faqContainer).append(dataHTML);}if(actionContainer){if(!$("body").hasClass("top-down")){if(data.tasks&&data.tasks.length>0){if(config.actionTemplateId){var dataHTML=$("#"+config.actionTemplateId).tmplProxy(data);if(actionContainer!==pageContainer&&actionContainer!==faqContainer){$("#"+actionContainer).empty();}$("#"+actionContainer).append(dataHTML);}else if(config.actionTemplate){var dataHTML=$(config.actionTemplate).tmplProxy(data);if(actionContainer!==pageContainer&&actionContainer!==faqContainer){$("#"+actionContainer).empty();}$("#"+actionContainer).append(dataHTML);}}else if(config.actionTemplate){var dataHTML=$(config.actionTemplate).tmplProxy(data);if(actionContainer!==pageContainer&&actionContainer!==faqContainer){$("#"+actionContainer).empty();}$("#"+actionContainer).append(dataHTML);}}else{if(!data.isLiveSearch&&$("body").hasClass("top-down")){if(config.actionTemplateId){if(config.actionTemplateId==="actions-template"){var viewType=_self.vars.customizeView?"Customize":"Preview";var devMode=_self.isDev?true:false;data=_objectSpread(_objectSpread({},data),{appearanceType:"task",devMode:devMode,viewType:viewType});var dataHTML=$(_self.getTopDownActionTemplate()).tmplProxy(data);if(actionContainer!==pageContainer&&actionContainer!==faqContainer){$("#"+actionContainer).empty();}$("#"+actionContainer).append(dataHTML);// _self.bindCarouselForActionsTemplate("#" + actionContainer);
}else{var dataHTML=$("#"+config.actionTemplateId).tmplProxy(data);if(actionContainer!==pageContainer&&actionContainer!==faqContainer){$("#"+actionContainer).empty();}$("#"+actionContainer).append(dataHTML);}}else if(config.actionTemplate){var dataHTML=$(config.actionTemplate).tmplProxy(data);if(actionContainer!==pageContainer&&actionContainer!==faqContainer){$("#"+actionContainer).empty();}$("#"+actionContainer).append(dataHTML);}}}if(config.actionHandler){_self.pubSub.subscribe("sa-action-clicked",function(topic,data){config.actionHandler(data);});}_self.bindSearchActionEvents();}else{$("#"+actionContainer).empty();}}if(config.searchHandler){config.searchHandler(data);}});if(config.structuredDataContainer){structuredDataContainer=config.structuredDataContainer;}if(structuredDataContainer){// _self.pubSub.subscribe("sa-register-all-template", (msg, data) => {
//   _self.registerAllTemplateConfig(data, _self.customConfig);
// });
}var handle=setInterval(function(){if(_self.bot.options.accessToken){_self.unlockBot();_self.getTabFacetList(_self.API.tabFacetUrl,"GET");_self.getSortableFacetList(_self.API.sortableFacetsUrl,'GET');_self.getSearchResultsConfig(_self.API.searchResultsViewConfigURL,"GET");_self.saveCustomizationConfig();clearInterval(handle);handle=0;}},1000);};FindlySDK.prototype.addConversationBox=function(config){var _self=this;$("#"+config.container).addClass("conversation-box");var conversationBox='<input type="text" class="conversation-box-input" placeholder="Type message..." id="sa-conversation-box"/>';$("#"+config.container).empty().append(conversationBox);if(config.classes){$(".conversation-box-input").addClass(config.classes);}var ccBox="#sa-conversation-box";$(ccBox).off("keydown").on("keydown",function(event){var code=event.keyCode||event.which;if(code==="13"||code===13){var msg=$(ccBox).val();_self.sendMessageToSearch("user-conversation");if(_self.config.viaSocket){_self.sendMessage(msg);}else{_self.bindLiveDataToChat();}$(ccBox).val("");if($("body").hasClass("top-down")){_self.vars.selectedFacetFromSearch="all results";_self.pubSub.publish("facet-selected",{selectedFacet:"all results"});$("#searchChatContainer .finalResults").addClass("hide");}}});};FindlySDK.prototype.addSearchText=function(config){var _self=this;if($("body").hasClass("demo")){$("body").removeClass("demo");$("body").addClass("top-down");$("body").addClass("sdk-top-down-interface");}else{$("body").addClass("top-down");$("body").addClass("sdk-top-down-interface");}_self.customSearchResult=false;window.koreWidgetSDKInstance=_self;if(config&&config.autoSuggest===true){_self.pubSub.unsubscribe("sa-auto-suggest");_self.pubSub.subscribe("sa-auto-suggest",function(msg,data){_self.getSuggestion(data);});}if(config&&config.showRecentSearches===true){_self.enableRecent();}if(config&&config.focusHandler){_self.pubSub.unsubscribe("sa-search-focus");_self.pubSub.subscribe("sa-search-focus",function(data){config.focusHandler();if(!$(".search-top-down").val()){if($("#search").is(":focus")){if($("#greeting-msg-top-down").length){$("#greeting-msg-top-down").hide();}if($("#auto-query-box").find(".suggestion-box").length){$(".suggestion-box").remove();}$(".top-down-suggestion").val("");$("#live-search-result-box").hide();}else{$("#frequently-searched-box").hide();}}});}var dataHTML=$(_self.getSearchControl()).tmplProxy(config);if(config.microphone){$(".notRecordingMicrophone").off("click").on("click",function(event){getSIDToken();});$(".recordingMicrophone").off("click").on("click",function(event){stop();});}_self.bindPlaceholderStyle(config);_self.bindContextVariable();_self.bindSearchAccordion();_self.bindFeedbackEvent();// debugger;
var container=$("#"+config.container);$(container).append(dataHTML);if(!$("body").hasClass("top-down")){_self.bindPerfectScroll(dataHTML,".search-body",null,"searchBody");_self.bindPerfectScroll(dataHTML,"#searchChatContainer",null,"searchChatContainer");}if(config.showGreeting){_self.showGreetingMsg=true;_self.vars.searchObject.clearGreetingTimeOut=setTimeout(function(){var greetingMsg=$(_self.getGreetingMsgTemplate()).tmplProxy(config);$(".greetingMsg").removeClass("hide");$(".greetingMsg").html(greetingMsg);if($(".search-container").find(".greetingMsg").length){$(".greetingMsg").parent().css("box-shadow","none");}_self.bindCloseGreeting();},1000);}$(".cancel-search").off("click").on("click",function(event){$("#search").val("");$("#suggestion").val("");$(".search-top-down").val("");$(".top-down-suggestion").val("");if($(".topdown-search-main-container").length){$(".cancel-search").hide();$("#live-search-result-box").hide();//$('#frequently-searched-box').show();
$("#search").trigger("click");}});_self.searchEventBinding(dataHTML,"search-container",{},config);};var overrideDefaultPoisition=false;// FindlySDK.prototype.showSearch = function () {
FindlySDK.prototype.showSearch=function(config,searchConfig,isDev){if(!$("body").hasClass("searchAssist-defaultTheme-kore")){$("body").addClass("searchAssist-defaultTheme-kore");}var overrideDefaultPoisition=true;var _self=this;if(!isDev){if(!$("body").hasClass("demo")){$("body").addClass("demo");}}else{this.initializeCustomTemplate(config);}_self.isDev=false;if(!$("body").hasClass("demo")){_self.isDev=true;}_self.initWebKitSpeech();// _self.initKoreSDK();
if(isDev){_self.initKoreSDK(config);}_self.setAPIDetails();// _self.pubSub.subscribe("sa-register-all-template", (msg, data) => {
//   _self.registerAllTemplateConfig(data, _self.customConfig);
// });
var handle=setInterval(function(){if(_self.bot.options.accessToken){_self.unlockBot();_self.getTabFacetList(_self.API.tabFacetUrl,"GET");_self.getSortableFacetList(_self.API.sortableFacetsUrl,'GET');_self.getSearchResultsConfig(_self.API.searchResultsViewConfigURL,"GET");_self.saveCustomizationConfig();clearInterval(handle);handle=0;}},1000);window.koreWidgetSDKInstance=_self;if(!_self.customSearchResult){_self.addSourceType({container:"sa-custom-nav-panel-container"});_self.addSearchFacets({container:"sa-facets-container"});_self.enableAutoSuggest();}var windowWidth=window.innerWidth;var left=windowWidth/2-250+"px";var searchConfiguration=_self.mapSearchConfiguration(searchConfig);var searchConfigTopDown={searchIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFYSURBVHgBlVJLTgJBEK2q8RNXwg2GGzBbiEIHNHEl3ABOMHICvQFHQE8grEwU0wgBt9xAjjAkLkSnq+xB6JAwwfAWXV3pev1eVxdCCp70u38Asf8J8bSuVJRWg5uJHk1CZrlbJoKRPfURcbAwX80rpWabteRIw3HHMDSYuV4pFbOVciFHfJI1ht+O6Pijrye1LcVXPW4A4a0tDJQKtqy96FGZyHskXuTUyvqfoiUxm2YaKcGFOhuA0CCGoxtnVdtG2JhZHu6CmB4C5h3xBzhjYwT/gIFngHjqiIfwPbPR11pndlOtmsjcEZPHJi3f9J8GIgoRpOvyZIkNt4gwfNbjfBpJDydtsc+pqOK9019v+npYQ/I6gNQVIz0BE5G1h553bYcig3YYDIu6VMWpU0xQVeddYgosaU6IIeHykpIYfqiWCwGwtDxCvXaFsAdWg9ImxgD2xerf4RflG5JZZafRoQAAAABJRU5ErkJggg==",placeholder:"Search here",autoComplete:true,borderColor:"blue",fillColor:"white",textColor:"black",addButton:true,btnFillColor:"blue",btnTextColor:"white",btnBorderColor:"gray",btnText:"Go"};var dataHTML=$(_self.getSearchTemplate("searchContainer")).tmplProxy({searchConfig:searchConfiguration});$(dataHTML).off("click",".notRecordingMicrophone").on("click",".notRecordingMicrophone",function(event){getSIDToken();//}
});$(dataHTML).off("click",".recordingMicrophone").on("click",".recordingMicrophone",function(event){stop();});_self.bindContextVariable();_self.bindSearchAccordion();_self.bindFeedbackEvent();$(dataHTML).css("left",left);// debugger;
var container=$(".search-background-div");if(!container.length&&!_self.customSearchResult){container=$("body");}$(container).append(dataHTML);_self.bindSearchContainerViewHadler();$(".search-container").off("click",".more-results").on("click",".more-results",function(e){$(".more-results").css("display","none");$('.feedback-template-positions.if-live-search-top-down.bottom-up-show-all').css('display','flex');$("#searchChatContainer").animate({scrollTop:$("#searchChatContainer").prop("scrollHeight")},300);});_self.bindPerfectScroll(dataHTML,".search-body",null,"searchBody");_self.bindPerfectScroll(dataHTML,"#searchChatContainer",null,"searchChatContainer");_self.bindPerfectScroll(dataHTML,".default-data-show-not-loaded",null,"default-data-show-not-loaded");_self.showGreetingMsg=true;_self.vars.searchObject.clearGreetingTimeOut=setTimeout(function(){var greetingMsg=$(_self.getGreetingMsgTemplate()).tmplProxy({searchConfig:searchConfiguration});$(".greetingMsg").removeClass("hide");$(".greetingMsg").html(greetingMsg);if($(".search-container").find(".greetingMsg").length){$(".greetingMsg").parent().css("box-shadow","none");}_self.bindCloseGreeting();},1000);if(!overrideDefaultPoisition){_self.overrideDefaultPoisition=false;$(dataHTML).css("left",left);$(".search-container").addClass("defaultPosition");}else{$(".search-container").addClass("overRidePosition");_self.overrideDefaultPoisition=true;}_self.searchEventBinding(dataHTML,"search-container",{},{});var livesearchAutoSuggestionHtml=$(".live-seach-auto-suggestion-parent");_self.bindPerfectScroll(livesearchAutoSuggestionHtml,".search-body",null,"searchBody");_self.bindPerfectScroll(livesearchAutoSuggestionHtml,"#autoSuggestionContainer",null,"suggestionContainer");if(_self.isDev){_self.initKorePicker(config);}if(!window.localStorage.getItem('userName')&&!_self.isDev){$(dataHTML).find('#histroybutton').css('display','block');}};FindlySDK.prototype.initSearchAssistSDK=function(findlyConfig){var _self=this;_self.vars.configuration=findlyConfig;$("body").addClass("sdk-body");setTimeout(function(){_self.configureSearchInterface(findlyConfig.botOptions).then(function(response){_self.vars.indexPipelineId=response.indexPipelineId;if(response.experienceConfig.searchBarPosition=="top"){_self.initializeTopDown(findlyConfig,null,response);}else{if(((response||{}).interactionsConfig||{}).defaultStatus=="avatar"){$("body").addClass("setDefaultSearchTemplate1");}else{$("body").addClass("setDefaultSearchTemplate");}_self.initialize(findlyConfig);_self.showSearch(null,response,_self.isDev);var searchConfig={avatarURL:"data:image/png;base64,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",welcomeMsg:((response||{}).interactionsConfig||{}).welcomeMsg||"Hello! How can I help you today?",welcomeMsgColor:((response||{}).interactionsConfig||{}).welcomeMsgColor||"#3C4043",welcomeMsgFillColor:((response||{}).interactionsConfig||{}).welcomeMsgFillColor||"#F8F9FA"};_self.configureSearchAvatar(searchConfig);}_self.initKorePicker(findlyConfig);});},1000);};var searchConfigurationCopy={};FindlySDK.prototype.mapSearchConfiguration=function(searchConfig){var _self=this;var searchConfiguration={};if(searchConfig&&Object.values(searchConfig).length){if(searchConfig.widgetConfig){searchConfiguration.buttonBorderColor=searchConfig.widgetConfig.buttonBorderColor;searchConfiguration.buttonFillColor=searchConfig.widgetConfig.buttonFillColor;searchConfiguration.buttonText=searchConfig.widgetConfig.buttonText;searchConfiguration.buttonTextColor=searchConfig.widgetConfig.buttonTextColor;searchConfiguration.searchBarBorderColor=searchConfig.widgetConfig.searchBarBorderColor;searchConfiguration.searchBarFillColor=searchConfig.widgetConfig.searchBarFillColor;searchConfiguration.searchBarPlaceholderText=searchConfig.widgetConfig.searchBarPlaceholderText;searchConfiguration.searchBarPlaceholderTextColor=searchConfig.widgetConfig.searchBarPlaceholderTextColor;searchConfiguration.searchButtonEnabled=searchConfig.widgetConfig.searchButtonEnabled;searchConfiguration.buttonPlacementPosition=searchConfig.widgetConfig.buttonPlacementPosition;}else{searchConfiguration.buttonBorderColor="#e5e8ec";searchConfiguration.buttonFillColor="#0D6EFD";searchConfiguration.buttonText="Go";searchConfiguration.buttonTextColor="#fff";searchConfiguration.searchBarBorderColor="#e5e8ec";searchConfiguration.searchBarFillColor="#00ffff00";searchConfiguration.searchBarPlaceholderText="Ask anything";searchConfiguration.searchBarPlaceholderTextColor="#21202447";searchConfiguration.searchButtonEnabled=true;searchConfiguration.buttonPlacementPosition="inside";}if(searchConfig.widgetConfig.searchBarIcon&&searchConfig.widgetConfig.searchBarIcon.length){searchConfiguration.searchBarIcon=searchConfig.widgetConfig.searchBarIcon;}else{searchConfiguration.searchBarIcon=searchConfig.experienceConfig.searchBarPosition=="top"?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFYSURBVHgBlVJLTgJBEK2q8RNXwg2GGzBbiEIHNHEl3ABOMHICvQFHQE8grEwU0wgBt9xAjjAkLkSnq+xB6JAwwfAWXV3pev1eVxdCCp70u38Asf8J8bSuVJRWg5uJHk1CZrlbJoKRPfURcbAwX80rpWabteRIw3HHMDSYuV4pFbOVciFHfJI1ht+O6Pijrye1LcVXPW4A4a0tDJQKtqy96FGZyHskXuTUyvqfoiUxm2YaKcGFOhuA0CCGoxtnVdtG2JhZHu6CmB4C5h3xBzhjYwT/gIFngHjqiIfwPbPR11pndlOtmsjcEZPHJi3f9J8GIgoRpOvyZIkNt4gwfNbjfBpJDydtsc+pqOK9019v+npYQ/I6gNQVIz0BE5G1h553bYcig3YYDIu6VMWpU0xQVeddYgosaU6IIeHykpIYfqiWCwGwtDxCvXaFsAdWg9ImxgD2xerf4RflG5JZZafRoQAAAABJRU5ErkJggg==":"data:image/png;base64,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";}if(searchConfig.interactionsConfig){searchConfiguration.welcomeMsg=searchConfig.interactionsConfig.welcomeMsg;searchConfiguration.welcomeMsgColor=searchConfig.interactionsConfig.welcomeMsgColor||"#3C4043";searchConfiguration.welcomeMsgFillColor=searchConfig.interactionsConfig.welcomeMsgFillColor||"#F8F9FA";searchConfiguration.defaultStatus=searchConfig.interactionsConfig.defaultStatus||"searchBar";searchConfiguration.showSearchesEnabled=searchConfig.interactionsConfig.showSearchesEnabled;searchConfiguration.showSearches=searchConfig.interactionsConfig.showSearches;searchConfiguration.autocompleteOpt=searchConfig.interactionsConfig.autocompleteOpt;searchConfiguration.querySuggestionsLimit=searchConfig.interactionsConfig.querySuggestionsLimit;searchConfiguration.liveSearchResultsLimit=searchConfig.interactionsConfig.liveSearchResultsLimit;searchConfiguration.feedbackExperience=searchConfig.interactionsConfig.feedbackExperience;_self.vars.feedBackExperience=searchConfig.interactionsConfig.feedbackExperience.queryLevel;}else{searchConfiguration.welcomeMsg="Hello! How can I help you today?";searchConfiguration.welcomeMsgFillColor="#3C4043";searchConfiguration.defaultStatus||"searchBar";searchConfiguration.welcomeMsgFillColor="#F8F9FA";searchConfiguration.showSearchesEnabled="#161928";searchConfiguration.showSearches="recent";searchConfiguration.autocompleteOpt=true;searchConfiguration.querySuggestionsLimit=2;searchConfiguration.liveSearchResultsLimit=2;searchConfiguration.feedbackExperience={resultLevel:true,queryLevel:false};}if(searchConfig.interactionsConfig.welcomeMsgEmoji&&searchConfig.interactionsConfig.welcomeMsgEmoji.length){searchConfiguration.welcomeMsgEmoji=searchConfig.interactionsConfig.welcomeMsgEmoji;}else{searchConfiguration.welcomeMsgEmoji="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJmSURBVHgBtVJLS5RhFH7O+10cZ2jmM5sgUfg0BAkq3VqhRrhx0biQ2ql7w7atnF2rsD8Q02XZQluGhhVBdIHGS4Q7JSOi0hk/57t/7+l1umCouzqr9+Wc5znP83CA/10rKyvmzcfexcFbbttBfdr78V7adiqFs+r5DHpjCazfm88sLTx4sd2ba9TFBaTnRvLt6VrgT2uJX2wcqqyLvQSGoXWzSM/CtCYhMjbM/MyluK/QdST7+sqZ9POeEVCU0Qp6Sh9L0FDYxYi925UeizTzNoy2IvT8GkR2DfqJuzdOD02c7yKnkyjQTbqspXTWGrTuvwh2twsjVQI0C5BPYeQLysYayNwCZYu8OjhV96wJW+gCrInufRnw8qkijJYpkFGGblnQsrYiK3Pw2SYEOSTeIyTfCzIMOHCiarr/Y9MfAn57chSGfh3G0UXox0chjAq0TC5xqyRMDYh3QOyoQY9l4FNY3Wa4sr1ugZlFJJPFenAk+iCrs+DISpwNEoYaSDzI0FV61T49T2Q0MyeC/DDsEfMfuPn+E6dpYvXNF8T+ACQssCxId2NLaDFIOpDepiKpMWSkWgTJJslEpcXIiaXlDXduHeeqntn68Nj71ST8Oo54Uw37yl9NAatKlKfk7yj8jhLmIXbVW+WQEK3XM7h6p9bS20HiWn/jJyJiftc5xoJKP0/NrEvn0EfkBsqvjsjxkYR+2Rre7CEcUtGrjqIimyLzKJga1PYAcVW5dF2WsVxUEgeahiuVQwl2y11onSQ2pmHmiJXn2PmGJHLL+AXedwcH1daMZZNmlCDJrt8Ex+O/wf+kfgAhFxenJ2BlUQAAAABJRU5ErkJggg==";}if(searchConfig.config){searchConfiguration.botConfig=searchConfig.config;}}else{searchConfiguration={searchBarIcon:"data:image/png;base64,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",buttonBorderColor:"#e5e8ec",buttonFillColor:"#0D6EFD",buttonText:"Go",buttonTextColor:"#fff",searchBarBorderColor:"#e5e8ec",searchBarFillColor:"#00ffff00",searchBarPlaceholderText:"Ask anything",searchBarPlaceholderTextColor:"#21202447",searchButtonEnabled:true,buttonPlacementPosition:"inside",welcomeMsg:"Hello! How can I help you today?",welcomeMsgEmoji:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJmSURBVHgBtVJLS5RhFH7O+10cZ2jmM5sgUfg0BAkq3VqhRrhx0biQ2ql7w7atnF2rsD8Q02XZQluGhhVBdIHGS4Q7JSOi0hk/57t/7+l1umCouzqr9+Wc5znP83CA/10rKyvmzcfexcFbbttBfdr78V7adiqFs+r5DHpjCazfm88sLTx4sd2ba9TFBaTnRvLt6VrgT2uJX2wcqqyLvQSGoXWzSM/CtCYhMjbM/MyluK/QdST7+sqZ9POeEVCU0Qp6Sh9L0FDYxYi925UeizTzNoy2IvT8GkR2DfqJuzdOD02c7yKnkyjQTbqspXTWGrTuvwh2twsjVQI0C5BPYeQLysYayNwCZYu8OjhV96wJW+gCrInufRnw8qkijJYpkFGGblnQsrYiK3Pw2SYEOSTeIyTfCzIMOHCiarr/Y9MfAn57chSGfh3G0UXox0chjAq0TC5xqyRMDYh3QOyoQY9l4FNY3Wa4sr1ugZlFJJPFenAk+iCrs+DISpwNEoYaSDzI0FV61T49T2Q0MyeC/DDsEfMfuPn+E6dpYvXNF8T+ACQssCxId2NLaDFIOpDepiKpMWSkWgTJJslEpcXIiaXlDXduHeeqntn68Nj71ST8Oo54Uw37yl9NAatKlKfk7yj8jhLmIXbVW+WQEK3XM7h6p9bS20HiWn/jJyJiftc5xoJKP0/NrEvn0EfkBsqvjsjxkYR+2Rre7CEcUtGrjqIimyLzKJga1PYAcVW5dF2WsVxUEgeahiuVQwl2y11onSQ2pmHmiJXn2PmGJHLL+AXedwcH1daMZZNmlCDJrt8Ex+O/wf+kfgAhFxenJ2BlUQAAAABJRU5ErkJggg==",showSearchesEnabled:"#161928",showSearches:"recent",autocompleteOpt:true,querySuggestionsLimit:2,liveSearchResultsLimit:2,feedbackExperience:{resultLevel:true,queryLevel:false}};}//default showsearches as recent
searchConfiguration.showSearches="recent";searchConfigurationCopy=searchConfiguration;return searchConfiguration;};FindlySDK.prototype.getGreetingMsgTemplate=function(){var greetingMsg='<script type="text/x-jqury-tmpl">\
      {{if searchConfig.welcomeMsg}}\
        <div class="search-greeting-box" style="background:${searchConfig.welcomeMsgFillColor};">\
          <span class="search-greeting-text" style="color : ${searchConfig.welcomeMsgColor}">\
            ${searchConfig.welcomeMsg}\
          </span>\
        </div>\
        <div class="search-greeting-close-container pointer" >\
          <span class="search-greeting-close-body">\
          <img src="./libs/images/close.svg" class="search-greeting-close-icon ">\
          </span>\
        </div>\
        {{/if}}\
      </script> ';return greetingMsg;};FindlySDK.prototype.getJWT=function(options,callback){var jsonData={clientId:options.clientId,clientSecret:options.clientSecret,identity:options.userIdentity,aud:"",isAnonymous:false};return $.ajax({url:options.JWTUrl,type:"post",data:jsonData,dataType:"json",success:function success(data){options.assertion=data.jwt;if(callback){callback(null,options);}},error:function error(err){}});};// FindlySDK.prototype.initKoreSDK = function () {
FindlySDK.prototype.initKoreSDK=function(config){var _self=this;config=config||_self.config.botOptions;_self.bot=(0,_base_sdk_kore_bot_sdk_client__WEBPACK_IMPORTED_MODULE_18__["default"])("/KoreBot.js").instance();_self.vars.botConfig=config||_self.config.botOptions;_self.bot.init(config,_self.config.messageHistoryLimit);_self.vars.isSocketInitialize=true;_self.bindSocketEvents();_self.resetSocketDisconnection();};FindlySDK.prototype.destroy=function(config){var _self=this;this.bot.destroy();_self.clearAllTimeoutTimer();};FindlySDK.prototype.clearAllTimeoutTimer=function(config){var _self=this;clearTimeout(_pingTimer);clearTimeout(_disconnectBotTimer);_self.vars.isSocketInitialize=false;_self.vars.isSocketReInitialize=false;_self.bot.initialized=false;$(".typingIndicatorContent").css("display","none");};FindlySDK.prototype.resetSocketDisconnection=function(){var _self=this;clearTimeout(_disconnectBotTimer);_disconnectBotTimer=setTimeout(function(){if(_self.vars.isSocketInitialize){_self.destroy();_self.vars.isSocketInitialize=false;_self.vars.isSocketReInitialize=false;$(".typingIndicatorContent").css("display","none");}},_disconnectTime);};FindlySDK.prototype.resetPingMessage=function(){var _self=this;clearTimeout(_pingTimer);_pingTimer=setTimeout(function(){if(_self.vars.isSocketInitialize){var messageToBot={};messageToBot["type"]="ping";_self.bot.sendMessage(messageToBot,function messageSent(){});_self.resetPingMessage();}},_pingTime);};FindlySDK.prototype.bindSocketEvents=function(){var _self=this;_self.bot.on("message",function(message){// debugger;
// if (me.popupOpened === true) {
//     $('.kore-auth-popup .close-popup').trigger("click");
// }
var tempData=JSON.parse(message.data);if(tempData.from==="bot"&&tempData.type==="bot_response"){if((tempData||{}).message&&(tempData||{}).message[0].component.payload){if(tempData.message[0].cInfo){tempData.message[0].component.payload.cInfo=tempData.message[0].cInfo;}_self.handleSearchRes(tempData.message[0].component.payload);if($("body").hasClass("top-down")){if(((tempData.message[0].component.payload||{}).template||{}).originalQuery){if($("#conversation-container").is(":visible")){$("#search").val(((tempData.message[0].component.payload||{}).template||{}).originalQuery);}else{$(".top-down-suggestion").val($(".searcj-top-down").val());$("#live-search-result-box").hide();}$("#conversation-container").hide();$("#action-title").empty();$("#searchChatContainer").empty();$(".skelton-load-img").hide();}}}}else if(tempData.from==="self"&&tempData.type==="user_message"){var tempmsg=tempData.message;var msgData={};if(tempmsg&&tempmsg.attachments&&tempmsg.attachments[0]&&tempmsg.attachments[0].fileId){msgData={type:"currentUser",message:[{type:"text",cInfo:{body:tempmsg.body,attachments:tempmsg.attachments},clientMessageId:tempData.id}],createdOn:tempData.id};}else{msgData={type:"currentUser",message:[{type:"text",cInfo:{body:tempmsg.body},clientMessageId:tempData.id}],createdOn:tempData.id};}// me.renderMessage(msgData);
}if(tempData.type==="appInvalidNotification"){setTimeout(function(){$(".trainWarningDiv").addClass("showMsg");},2000);}// setTimeout(function () {
//   $('.typingIndicatorContent').css('display', 'none');
// }, 300);
});};FindlySDK.prototype.sendMessage=function(chatInput,renderMsg,msgObject,isbotActionTrigger){var _self=this;if(!$(".topdown-search-main-container").length){$("#search").val("");$(".bottom-up-suggestion").val("");$(".bottom-up-search").val("");}else{$("#suggestion").val("");$(".top-down-suggestion").val("");if(!isbotActionTrigger){_self.appendTextToSearchContainer('user',chatInput);}}$("#frequently-searched-box").hide();if(!$("#conversation-container").is(":visible")){$("#live-search-result-box").hide();}// debugger;
var currentDate=new Date();var dateTime=currentDate.getDate()+"/"+(currentDate.getMonth()+1)+"/"+currentDate.getFullYear()+", "+currentDate.getHours()+":"+currentDate.getMinutes()+":"+currentDate.getSeconds();var clientMessageId=new Date().getTime();var msgData={};var fileUploaderCounter=0;var attachmentInfo;//to send \n to server for new lines
//chatInput.html(chatInput.html().replaceAll("<br>", "\n"));
if(false){}else{attachmentInfo={};msgData={type:"currentUser",message:[{type:"text",cInfo:{body:chatInput},clientMessageId:clientMessageId}],createdOn:clientMessageId};}var messageToBot={};messageToBot["clientMessageId"]=clientMessageId;if(Object.keys(attachmentInfo).length>0&&chatInput.text().trim().length){messageToBot["message"]={body:chatInput.text().trim(),attachments:[attachmentInfo]};}else if(Object.keys(attachmentInfo).length>0){messageToBot["message"]={attachments:[attachmentInfo]};}else{messageToBot["message"]={body:chatInput};}messageToBot["resourceid"]="/bot.message";messageToBot["location"]=_self.vars.locationObject.location;messageToBot["timeDateDay"]=dateTime;messageToBot["currentPage"]=window.location.href;messageToBot["country"]=_self.vars.locationObject.country;if(_self.vars.customizeView){messageToBot["customize"]=true;messageToBot["isDev"]=true;}if(_self.bot.options){messageToBot["client"]=_self.bot.options.client||"sdk";messageToBot["botInfo"]={};messageToBot["botInfo"].chatBot=_self.bot.options.botInfo.chatBot;messageToBot["botInfo"].taskBotId=_self.bot.options.botInfo.taskBotId;messageToBot["botInfo"].customData={};}if(_self.config.botOptions.searchIndexID){messageToBot["searchIndexId"]=_self.config.botOptions.searchIndexID;}if(renderMsg&&typeof renderMsg==="string"){messageToBot["message"].renderMsg=renderMsg;}if(msgObject&&msgObject.customdata){messageToBot["message"].customdata=msgObject.customdata;}if(msgObject&&msgObject.nlmeta){messageToBot["message"].nlmeta=msgObject.nlmeta;}if(msgObject&&msgObject.linkedBotNLMeta){_self.bot.options.botInfo.linkedBotNLMeta=msgObject.linkedBotNLMeta;}else if(_self.bot.options.botInfo.linkedBotNLMeta){delete _self.bot.options.botInfo.linkedBotNLMeta;}//advanced result template websocket payload added//
messageToBot["tabConfig"]={// required
filter:{}};messageToBot["resultGroups"]={// required
filter:{}};messageToBot["defaultGroups"]={// required
filter:{}};messageToBot["interface"]=$("body").hasClass("top-down")?"fullSearch":"conversationalSearch";messageToBot["maxNumOfResults"]=messageToBot["interface"]=="conversationalSearch"?2:5;//payload end//
if(!$("body").hasClass("demo")){messageToBot.indexPipelineId=_self.API.indexpipelineId;messageToBot.queryPipelineId=_self.API.pipelineId;}if(_self.bot.options){_self.bot.options.botInfo.linkedBotCustomData=_self.bot.options.botInfo.linkedBotCustomData?_self.bot.options.botInfo.linkedBotCustomData:{linkedBot:{}};if(!_self.bot.options.botInfo.customData){_self.bot.options.botInfo.customData={};}if(!_self.vars.isCustomDataInitialize){_self.vars.userContextData=_self.bot.options.botInfo.customData["userContext"]||{};_self.vars.isCustomDataInitialize=true;}var contextObj=$("#contextjsonfield").val();if(contextObj){contextObj.trim();if(contextObj){try{contextObj=JSON.parse(contextObj);}catch(error){contextObj={};}}_self.bot.options.botInfo.customData["userContext"]=contextObj;}else{if(!window.localStorage.getItem("userName")){_self.customData;_self.bot.options.botInfo.customData["userContext"]=_self.vars.userContextData||{};}else{_self.bot.options.botInfo.customData["userContext"]={user_name:window.localStorage.getItem("userName"),location:window.localStorage.getItem("userLocation"),gender:window.localStorage.getItem("gender"),user_age:window.localStorage.getItem("userAge")};}}}attachmentInfo={};websockeRrefreshed=false;_self.checkWbInitialized(messageToBot,clientMessageId);// if (_self.isDev == false) {
_self.resetPingMessage();_self.resetSocketDisconnection();// }
};FindlySDK.prototype.checkWbInitialized=function(messageToBot,clientMessageId){var _self=this;if(websockeRrefreshed){return;}var sendMsgTimeOut=_self.vars.isSocketReInitialize?2000:0;// $('.typingIndicatorContent').css('display', 'block');
_self.showTypingIndicator();setTimeout(function(){if(_self.bot.initialized){_self.vars.isSocketReInitialize=false;_self.bot.sendMessage(messageToBot,function messageSent(err){if(err&&err.message){setTimeout(function(){$("#msg_"+clientMessageId).find(".messageBubble").append('<div class="errorMsg">Send Failed. Please resend.</div>');$(".typingIndicatorContent").css("display","none");},350);}});}else{_self.vars.isSocketReInitialize=true;_self.checkWbInitialized(messageToBot,clientMessageId);}},sendMsgTimeOut);};FindlySDK.prototype.getTemplate=function(type){var menuTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl">\
        <div class="menuItemCntr">\
        <div class="sdkBotIcon" {{if botDetails && botDetails.name}}title="${botDetails.name}"{{/if}}>\
        <img class="menuIconMobile" onClick="openPanel(\'closePanel\',\''+" "+"','"+"true"+"')\"  src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDcwcHgiIGhlaWdodD0iNDcwcHgiIHZpZXdCb3g9IjAgMCA0NzAgNDcwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1My4yICg3MjY0MykgLSBodHRwczovL3NrZXRjaGFwcC5jb20gLS0+CiAgICA8dGl0bGU+bWVudS1pY29uPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Im1lbnUtaWNvbiIgZmlsbD0iIzc2NzY4OCIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICAgICAgPHBhdGggZD0iTTUzLjMzMywxMDYuNjY3IEw0MTYsMTA2LjY2NyBDNDQ1LjQxNywxMDYuNjY3IDQ2OS4zMzMsODIuNzQgNDY5LjMzMyw1My4zMzQgQzQ2OS4zMzMsMjMuOTI4IDQ0NS40MTcsMCA0MTYsMCBMNTMuMzMzLDAgQzIzLjkxNywwIDAsMjMuOTI3IDAsNTMuMzMzIEMwLDgyLjczOSAyMy45MTcsMTA2LjY2NyA1My4zMzMsMTA2LjY2NyBaIiBpZD0iUGF0aCI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNNDE2LDE4MS4zMzMgTDUzLjMzMywxODEuMzMzIEMyMy45MTcsMTgxLjMzMyAwLDIwNS4yNiAwLDIzNC42NjcgQzAsMjY0LjA3NCAyMy45MTcsMjg4IDUzLjMzMywyODggTDQxNiwyODggQzQ0NS40MTcsMjg4IDQ2OS4zMzMsMjY0LjA3MyA0NjkuMzMzLDIzNC42NjcgQzQ2OS4zMzMsMjA1LjI2MSA0NDUuNDE3LDE4MS4zMzMgNDE2LDE4MS4zMzMgWiIgaWQ9IlBhdGgiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTQxNiwzNjIuNjY3IEw1My4zMzMsMzYyLjY2NyBDMjMuOTE3LDM2Mi42NjcgMCwzODYuNTk0IDAsNDE2IEMwLDQ0NS40MDYgMjMuOTE3LDQ2OS4zMzMgNTMuMzMzLDQ2OS4zMzMgTDQxNiw0NjkuMzMzIEM0NDUuNDE3LDQ2OS4zMzMgNDY5LjMzMyw0NDUuNDA2IDQ2OS4zMzMsNDE2IEM0NjkuMzMzLDM4Ni41OTQgNDQ1LjQxNywzNjIuNjY3IDQxNiwzNjIuNjY3IFoiIGlkPSJQYXRoIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\" >\
        <img onClick=\"openPanel('closePanel','"+" "+"','"+"true"+'\')" src="https://dlnwzkim0wron.cloudfront.net/f-c1af9314-6121-5e4d-86d6-4c98d3f17a8e.png" class="iconBot" onerror="this.onerror=null;this.src="">\
        <span class="botName">${botDetails.name}</span>\
        </div>\
          <div class="menuItemBox" >\
              {{each(key, msgItem) panelData}}\
              <div onClick="openPanel(\'${msgItem._id}\')" class="menuItemContainer {{if msgItem && msgItem._id}}${msgItem._id}{{/if}}" {{if msgItem && msgItem.name}}title="${msgItem.name}"{{/if}}>\
                  <img src="${msgItem.icon}" class="menuItem" panels-menu-id="${msgItem._id}" id="${msgItem.name}"  onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';">\
                 <span class="panelNameTooltip">${msgItem.name}</span>\
              </div>\
              {{/each}}\
          </div>\
          <div class="sdkThemeContainer" title="Themes">\
          <i  class="icon-More dropbtnWidgt sdkThemeIcon"  onclick="showDropdown(this)"></i>\
          <ul class="dropdown-contentWidgt  rmpmW themeContent" style="list-style:none;">\
                  <li class="themeTitle">Theme</li>\
                  <li class="dropdown-item action themeName" id="defaultTheme-kore">Theme One<span></span></li>\
                  <li class="dropdown-item action themeName" id="darkTheme-kore">Theme Two<span></span></li>\
                  <li class="dropdown-item action themeName" id="defaultTheme-kora">Theme Three<span></span></li>\
                  <li class="dropdown-item action themeName" id="darkTheme-kora">Theme Four<span></span></li>\
          </ul>\
          </div>\
        </div>\
      </script>';var widgetHeader='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
          <div class="headerLeft">\
            <p class="headerWidgetTitle newHeader">${widgetData.title}</p>\
            {{if tempData && tempData.description}}\
            <p class="headerWidgetDesc" id="widgetDisc">${tempData.description}</p>\
            {{/if}}\
          </div>\
          {{if tempData && ((tempData.sortOptions && tempData.sortOptions.length)|| (tempData && tempData.headerOptions && (tempData.headerOptions.type==="text") && tempData.headerOptions.text) || (tempData.headerOptions && tempData.headerOptions.type==="menu" && tempData.headerOptions.menu && tempData.headerOptions.menu.length) || (tempData.headerOptions && tempData.headerOptions.type==="image" && tempData.headerOptions && tempData.headerOptions.image && tempData.headerOptions.image.image_src) || (tempData.filterOptions && tempData.filterOptions.length) || (tempData.headerOptions && tempData.headerOptions.type==="button" && tempData.headerOptions.button && tempData.headerOptions.button.title) || (tempData.headerOptions && tempData.headerOptions.type==="url" && tempData.headerOptions.url && tempData.headerOptions.url.title))}}\
            <div class="headerRight">\
                {{if tempData && tempData.sortOptions && tempData.sortOptions.length}}\
                  <div class="headerTitleSorting">\
                    <i class="icon-More dropbtnWidgt sortingIcon"  onclick="showDropdown(this)"></i>\
                    <ul  class="dropdown-contentWidgt  rmpmW moreValueContent" style="list-style:none;">\
                    {{each(key1, sort) tempData.sortOptions}} \
                            <li class="dropdown-item action {{if sort.isSelect}}selected{{/if}}" sort-obj ="${JSON.stringify(sort)}" action-type="sortOptions">${sort.title}<span class="selectedFilterTick"></span></li>\
                    {{/each}} \
                    </ul>\
                  </div>\
                {{/if}}\
                {{if tempData && tempData.filterOptions && tempData.filterOptions.length}}\
                  <div class="headerTitleFilters action" action-type="filter" filterObj= "${JSON.stringify(tempData)}"></div>\
                {{/if}}\
                {{if tempData && tempData.headerOptions && tempData.headerOptions.type==="button" && tempData.headerOptions.button && tempData.headerOptions.button.title}}\
                  <div class="headerTitleBTN action" action-type="default" actionObj="${JSON.stringify(tempData.headerOptions.button)}">${tempData.headerOptions.button.title}</div>\
                {{/if}}\
                {{if tempData && tempData.headerOptions && tempData.headerOptions.type==="text" && tempData.headerOptions.text}}\
                  <div class="headerTitleTEXT" action-type="default">${tempData.headerOptions.text}</div>\
                {{/if}}\
                {{if tempData && tempData.headerOptions && tempData.headerOptions.type==="url" && tempData.headerOptions.url && tempData.headerOptions.url.title}}\
                  <div class="headerTitleURL action" action-type="url" actionObj="${JSON.stringify(tempData.headerOptions.url)}">${tempData.headerOptions.url.title}</div>\
                {{/if}}\
                {{if tempData && tempData.headerOptions && tempData.headerOptions.type==="image" && tempData.headerOptions.image && tempData.headerOptions.image.image_src}}\
                <div class="headerTitleIMG action" action-type="default" actionObj="${JSON.stringify(tempData.headerOptions.image)}"><img src="${tempData.headerOptions.image.image_src}" class="headerIcon"></div>\
                {{/if}}\
                {{if tempData && tempData.headerOptions && tempData.headerOptions.type==="menu" && tempData.headerOptions.menu && tempData.headerOptions.menu.length}}\
                <div class="headerTitleMenu">\
                <i class="icon-More dropbtnWidgt moreValue"  onclick="showDropdown(this)"></i>\
                <ul  class="dropdown-contentWidgt  rmpmW moreValueContent" style="list-style:none;">\
                {{each(key1, menuBtn) tempData.headerOptions.menu}} \
                        <li class="dropdown-item action" actionObj="${JSON.stringify(menuBtn)}" action-type="default">${menuBtn.title}</li>\
                 {{/each}} \
                </ul>\
                </div>\
                {{/if}}\
            </div>\
          {{/if}}\
      </script>';var mainTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
          <div class="mainTemplateCntr" id="${widgetData._id}" {{if panelDetail}}panelDetail="${JSON.stringify(panelDetail)}{{/if}}">\
              <div class="widgetTitle">\
              <img class="menuIconMobile" onClick="openPanel(\'closePanel\',\''+" "+"','"+"true"+'\')"  src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDcwcHgiIGhlaWdodD0iNDcwcHgiIHZpZXdCb3g9IjAgMCA0NzAgNDcwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1My4yICg3MjY0MykgLSBodHRwczovL3NrZXRjaGFwcC5jb20gLS0+CiAgICA8dGl0bGU+bWVudS1pY29uPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Im1lbnUtaWNvbiIgZmlsbD0iIzc2NzY4OCIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICAgICAgPHBhdGggZD0iTTUzLjMzMywxMDYuNjY3IEw0MTYsMTA2LjY2NyBDNDQ1LjQxNywxMDYuNjY3IDQ2OS4zMzMsODIuNzQgNDY5LjMzMyw1My4zMzQgQzQ2OS4zMzMsMjMuOTI4IDQ0NS40MTcsMCA0MTYsMCBMNTMuMzMzLDAgQzIzLjkxNywwIDAsMjMuOTI3IDAsNTMuMzMzIEMwLDgyLjczOSAyMy45MTcsMTA2LjY2NyA1My4zMzMsMTA2LjY2NyBaIiBpZD0iUGF0aCI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNNDE2LDE4MS4zMzMgTDUzLjMzMywxODEuMzMzIEMyMy45MTcsMTgxLjMzMyAwLDIwNS4yNiAwLDIzNC42NjcgQzAsMjY0LjA3NCAyMy45MTcsMjg4IDUzLjMzMywyODggTDQxNiwyODggQzQ0NS40MTcsMjg4IDQ2OS4zMzMsMjY0LjA3MyA0NjkuMzMzLDIzNC42NjcgQzQ2OS4zMzMsMjA1LjI2MSA0NDUuNDE3LDE4MS4zMzMgNDE2LDE4MS4zMzMgWiIgaWQ9IlBhdGgiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTQxNiwzNjIuNjY3IEw1My4zMzMsMzYyLjY2NyBDMjMuOTE3LDM2Mi42NjcgMCwzODYuNTk0IDAsNDE2IEMwLDQ0NS40MDYgMjMuOTE3LDQ2OS4zMzMgNTMuMzMzLDQ2OS4zMzMgTDQxNiw0NjkuMzMzIEM0NDUuNDE3LDQ2OS4zMzMgNDY5LjMzMyw0NDUuNDA2IDQ2OS4zMzMsNDE2IEM0NjkuMzMzLDM4Ni41OTQgNDQ1LjQxNywzNjIuNjY3IDQxNiwzNjIuNjY3IFoiIGlkPSJQYXRoIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=">\
              <img class="widgetMobileIcon"src="${widgetData.icon}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';">\
              <span class="panelWidgetName">${widgetData.name}</span>\
              <span class="panelHeaderActions">\
                <span onClick="refreshElement(\'${JSON.stringify(panelDetail)}\',\'refreshPanel\')" class="panelRefresh"></span>\
                <span class="panelSetting"></span>\
                <span class="panelMin"></span>\
                <span onClick="openPanel(\'${widgetData._id}\')" class="panelClose"></span>\
              </span>\
              </div>\
              <div class="mainTemplateBdr {{if widgetData.widgets && widgetData.widgets.length > 1}}scroll{{else}}scroll{{/if}}">\
                  {{each(key1, widget) widgetData.widgets}} \
                      <div class="widgetPanel" id="${widget.id}">\
                      {{if widget && widget.title}}\
                      <div class="panelHeader" >\
                        <div class="headerLeft fullWidthTitle">\
                          <p class="headerWidgetTitle">${widget.title}</p>\
                        </div>\
                      </div>\
                      {{/if}}\
                          {{if widget && widget.filterOptions}}\
                              <div id="${widget.id}" class="widgetContParent">\
                                  <div class="filter">\
                                      <ul class="filterCntr">\
                                          {{each(key, widgetFilter) widget.filterOptions}} \
                                              <li class="{{if key === 0}}active{{else}}unActive{{/if}}" style="background: ${widgetData.theme};" id="${widgetFilter.id}" onclick="filterTabs(\'.mainTemplateCntr\',\'${widget.id}\',\'${widgetFilter.id}\')">${widgetFilter.title}</li>\
                                          {{/each}}\
                                      </ul>\
                                      <div class="progress"><div  class="slider"> <div class="line"></div><div class="subline inc"></div> <div class="subline dec"></div></div></div>\
                                      {{each(key, widgetFilter) widget.filterOptions}} \
                                          <div {{if widgetData.widgets && widgetData.widgets.length === 1}} onscroll="scrollData(\'${JSON.stringify(panelDetail)}\',\'${JSON.stringify(widgetFilter)}\',\'maintemplate\',this)" {{/if}}  class="widgetContentPanel ${widget.id}_content  {{if widgetData.widgets && widgetData.widgets.length === 1}}scroll{{/if}}" id="${widgetFilter.id}_content" {{if key > 0}}style="display: none;"{{/if}}><div class="loaderRing"><div></div><div></div><div></div><div></div></div></div>\
                                      {{/each}}\
                                  </div>\
                              </div>\
                          {{else}}\
                              <div id="${widget.id}" class="widgetContParent">\
                                  <div class="progress"><div  class="slider"> <div class="line"></div><div class="subline inc"></div> <div class="subline dec"></div></div></div>\
                                  <div {{if widgetData.widgets && widgetData.widgets.length === 1}} onscroll="scrollData(\'${JSON.stringify(panelDetail)}\',\'${JSON.stringify(widget)}\',\'maintemplate\', this)" {{/if}}    id="${widget.id}_content" class="widgetContentPanel {{if widgetData.widgets && widgetData.widgets.length === 1}}scroll{{/if}}"><div class="loaderRing"><div></div><div></div><div></div><div></div></div></div>\
                              </div>\
                          {{/if}}\
                      </div>\
                  {{/each}} \
                  <div class="bottomOverlayContainer" id="widgetSdkBottomOverlayContainer">\
                  </div>\
              </div>\
          </div>\
      </script>';var viewMoreTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
          <div class="viewMoreCntr" id="${widgetData._id}">\
              <div class="widgetTitle"><i class="icon-Arrow-Material viewMoreBack" onclick="removeViewMore()"></i> ${widgetData.name}</div>\
              <div class="taskSelectCntr"><i class="icon-Close1" onclick="removeTaskSelection()"></i> <span class="taskCount">1 task selected</span></div>\
              <div class="mainTemplateBdr">\
                  {{each(key, widget) widgetData.widgets}} \
                      <div class="widgetPanel">\
                      {{if widget && widget.title}}\
                          <div class="panelHeader padd10">${widget.title}</div>\
                      {{/if}}\
                          {{if widget && widget.filterOptions}}\
                              <div id="${widget.id}" class="panelCntr" style="border-bottom: 5px solid var(--sdk-primary-border-color);">\
                                  <div class="filter">\
                                      <ul class="filterCntr">\
                                          {{each(key, widgetFilter) widget.filterOptions}} \
                                              <li class="{{if (widgetData._id === panelDetail.panel && widget.id === panelDetail.subpanel && widgetFilter.id === panelDetail.filter)}}active{{else}}unActive{{/if}}" style="background: ${widgetData.theme};" id="${widgetFilter.id}" onclick="filterTabs(\'.viewMoreCntr\',\'${widget.id}\',\'${widgetFilter.id}\')">${widgetFilter.title}</li>\
                                          {{/each}}\
                                      </ul>\
                                      {{each(key, widgetFilter) widget.filterOptions}} \
                                          <div onscroll="scrollData(\'${JSON.stringify(panelDetail)}\', \'${JSON.stringify(widgetFilter)}\',\'viewmore\', this)" class="scroll widgetContentPanel ${widget.id}_content" id="${widgetFilter.id}_content" style="display:{{if (widgetData._id === panelDetail.panel && widget.id === panelDetail.subpanel && widgetFilter.id === panelDetail.filter)}}block{{else}}none{{/if}};"><div class="loaderRing"><div></div><div></div><div></div><div></div></div></div>\
                                      {{/each}}\
                                  </div>\
                              </div>\
                          {{else}}\
                              <div id="${widget.id}" class="scroll" style="border-bottom: 5px solid var(--sdk-primary-border-color);"><div class="loaderRing"><div></div><div></div><div></div><div></div></div></div>\
                          {{/if}}\
                      </div>\
                  {{/each}} \
              </div>\
              <div class="taskSelectFootCntr">\
                  <button class="btn complete" onclick="taskSend(\'complete\')">Complete</button>\
                  <button class="btn changeduedate" onclick="taskSend(\'changeduedate\')">Change due date</button>\
              </div>\
          </div>\
      </script>';var meetingTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
          <div class="meetingWidget_Root" > \
              <div class="meetingWidget_Box">\
                  {{each(key, myMsgItem) tempdata.elements}} \
                      {{if helpers.checkMeetingHeaderTimeline(tempdata.elements, key)}}\
                          <div class="timeline">{{html helpers.getTimeline(myMsgItem.data.duration.start, "fulldate", "meetings")}}</div> \
                      {{/if}}\
                      <div class="carosalItem eleCntr {{if helpers.compareCurntTimeAndTimln_minutes(myMsgItem.data.duration.start,myMsgItem.data.duration.end, null) <= 5}}timeactive{{/if}}" template-type="${myMsgItem.template_type}">\
                      <div class="carosalCntr">\
                          <div class="meetingCntr">\
                              <div class="smeetingLft" style="display:none;">\
                                  {{if myMsgItem.day}}\
                                      <div class="timeCntr">{{if myMsgItem.localDay.intial}}<div>${myMsgItem.localDay.intial}</div>{{/if}}{{if myMsgItem.localDay.time}}<div>${myMsgItem.localDay.time}</div>{{/if}}<div>${myMsgItem.localDay.last}</div></div>\
                                  {{else}}\
                                      <div class="timeCntr">{{html helpers.getTimeline(new Date(parseInt(myMsgItem.data.duration.start)), "time")}}<br>{{html helpers.getTimeline(new Date(parseInt(myMsgItem.data.duration.end)), "time")}}</div>\
                                  {{/if}}\
                              </div>\
                              {{if helpers.compareCurntTimeAndTimln_minutes(myMsgItem.data.duration.start,myMsgItem.data.duration.end, null) <= 5}}\
                              <div class="meetingRft" style="border: 1px solid ${myMsgItem.data.color}">\
                              <div class="meetingTitle" {{if myMsgItem.data.color}}style="background:${myMsgItem.data.color};color:#ffffff!important"{{/if}}><div class="titleAlign">${myMsgItem.title}\
                              {{else}}\
                              <div class="meetingRft" {{if myMsgItem.data.color}}style="border: 1px solid ${hexToRGBMeeting(myMsgItem.data.color)}"{{/if}}>\
                                  <div class="meetingTitle" {{if myMsgItem.data.color}}style="background:${hexToRGBMeeting(myMsgItem.data.color)};"{{/if}}{{if $("body").hasClass("darkTheme")}}style="color:#ffffff"{{else}}style="color:#000000"{{/if}}><div class="titleAlign">${myMsgItem.title}\
                              {{/if}}\
                                  <i  class="icon-More dropbtnWidgt hide"  onclick="showDropdown(this)"></i>\
                                          <ul  class="dropdown-contentWidgt  rmpmW" style="list-style:none;">\
                                          {{each(key1, actionbtnli) myMsgItem.actions}} \
                                              {{if actionbtnli.type !== "dial"}}\
                                              {{if actionbtnli.type === "postback"}}\
                                                      <li class="dropdown-item" actionObj="${JSON.stringify(actionbtnli)}" mainObj="${JSON.stringify(myMsgItem)}" onclick="passMeetingUtterances(this)">"${actionbtnli.title}"</li>\
                                                  {{else}}\
                                                      <li class="dropdown-item" actionObj="${JSON.stringify(actionbtnli)}" mainObj="${JSON.stringify(myMsgItem)}"  onclick="passMeetingUtterances(this)">${actionbtnli.title}</li>\
                                                  {{/if}}\
                                              {{/if}}\
                                          {{/each}}\
                                      </ul>\
                                  </div>\
                              </div>\
                              <div class="timeCountrCntr hide">\
                              {{if helpers.compareCurntTimeAndTimln_minutes(myMsgItem.data.duration.start,myMsgItem.data.duration.end, null) <= 0}}\
                                      <i class="redDot"></i>\
                               {{/if}}\
                                    <span  id="m_${key}"> {{html meetingTimer( tempdata.elements,myMsgItem, key)}}</span>   \
                               </div>\
                              {{if myMsgItem.day}}\
                              <div class="timeCntr"> <i class="icon-Time1 icon16Gray"></i>{{if myMsgItem.localDay.intial}}<span>${myMsgItem.localDay.intial}</span>{{/if}}{{if myMsgItem.localDay.time}}<span> ${myMsgItem.localDay.time}</span>{{/if}}<span>${myMsgItem.localDay.last}</span></div>\
                          {{else}}\
                              <div class="timeCntr"><i class="icon-Time1 icon16Gray"></i><span>{{html helpers.getTimeline(new Date(parseInt(myMsgItem.data.duration.start)), "time")}} - {{html helpers.getTimeline(new Date(parseInt(myMsgItem.data.duration.end)), "time")}}</span>\
                              {{if helpers.compareCurntTimeAndTimln_minutes(myMsgItem.data.duration.start,myMsgItem.data.duration.end, null) > 5}}\
                              <span class="timeCountrCntr" id="m_${key}">\
                                     {{html meetingTimer( tempdata.elements,myMsgItem, key)}}\
                               {{/if}}\
                               </span>\
                              </div>\
                          {{/if}}\
                              {{if myMsgItem.location}}<div class="meetingPlaceCntr"><i class="meetingPlace icon-Material---Location1"></i> {{if isURL(myMsgItem.location).status}}<a class="meetingUrlText" href="${isURL(myMsgItem.location).location}"  target="_blank">${myMsgItem.location}</a>{{else}}${myMsgItem.location}{{/if}}</div>{{/if}}\
                              {{if myMsgItem.data.attendees && myMsgItem.data.attendees.length}}\
                                  <div class="meetingMemberCntr">\
                                      <span><i class="meetingUser icon-Material-Person"></i></span><span class="meetingMemberCntrText">{{if myMsgItem.data.attendees[0].name}}${myMsgItem.data.attendees[0].name}{{else}}${myMsgItem.data.attendees[0].email}{{/if}}\
                                      {{if myMsgItem.data.attendees.length > 1}} and ${myMsgItem.data.attendees.length -1} {{if myMsgItem.data.attendees.length > 2}}others{{else}}other{{/if}}{{/if}}\
                                      </span>\
                                      {{if helpers.compareCurntTimeAndTimln_minutes(myMsgItem.data.duration.start,myMsgItem.data.duration.end, null) <= 5}}\
                                      <div {{if myMsgItem.data.color}}style="background: ${hexToRGBMeeting(myMsgItem.data.color,0.1)}"{{/if}} class="meetingIconToggle" onclick="toggelMeetingActionBtn(\'meetingbtns${key}\', this)"><i class="{{if helpers.getTimeline(myMsgItem.data.duration.start, "fulldate", "meetings") === "Happening Now"}}icon-Arrow_Drop_Down_Up{{else}}icon-Arrow_Drop_Down{{/if}}" {{if myMsgItem.data.color}}style="color: ${myMsgItem.data.color}"{{/if}} ></i></div>\
                                      {{else}}\
                                      <div {{if myMsgItem.data.color}}style="background: ${hexToRGBMeeting(myMsgItem.data.color,0.1)}"{{/if}} class="meetingIconToggle" onclick="toggelMeetingActionBtn(\'meetingbtns${key}\', this)"><i class="{{if helpers.getTimeline(myMsgItem.data.duration.start, "fulldate", "meetings") === "Happening Now"}}icon-Arrow_Drop_Down_Up{{else}}icon-Arrow_Drop_Down{{/if}}" {{if myMsgItem.data.color}}style="color: ${myMsgItem.data.color}"{{/if}} ></i></div>\
                                      {{/if}}\
                                      </div>\
                              {{/if}}\
                              {{if helpers.compareCurntTimeAndTimln_minutes(myMsgItem.data.duration.start,myMsgItem.data.duration.end, null) <= 5}}\
                              <div class="meetingActionButtons hide" style="font-size: 23px;margin-top:10px;">\
                                  {{each(key, actionbtn) myMsgItem.actions}} \
                                      {{if actionbtn.type === "open_form" || actionbtn.custom_type === "url"}}\
                                       <div class="actionBtns"  {{if myMsgItem.data.color}}style="color:${myMsgItem.data.color};border: 2px solid ${myMsgItem.data.color}"{{/if}}  actionObj="${JSON.stringify(actionbtn)}" mainObj="${JSON.stringify(myMsgItem)}" onclick="passMeetingUtterances(this)"> \
                                       <i class="${helpers.actionIcon(actionbtn)}"  ></i>&nbsp; ${actionbtn.title} </div> \
                                     {{/if}}  \
                                  {{/each}}\
                            </div>\
                          {{/if}}\
                        </div>\
                        <div class="meetingActionButtons"  id="meetingbtns${key}"  {{if helpers.getTimeline(myMsgItem.data.duration.start, "fulldate", "meetings") !== "Happening Now"}} style="display:none;{{/if}}">\
                            {{each(key, actionbtn) myMsgItem.actions}} \
                                {{if key < 2 }}\
                                {{if helpers.compareCurntTimeAndTimln_minutes(myMsgItem.data.duration.start,myMsgItem.data.duration.end, null) <= 5}}\
                                 <div class="actionBtns" {{if myMsgItem.data.color}}style="text-transform: uppercase;color:${myMsgItem.data.color};border: 2px solid ${myMsgItem.data.color}"{{/if}} actionObj="${JSON.stringify(actionbtn)}" mainObj="${JSON.stringify(myMsgItem)}" onclick="passMeetingUtterances(this)"> \
                                 {{else}}\
                                 <div class="actionBtns" {{if myMsgItem.data.color}}style="text-transform: uppercase;color:${myMsgItem.data.color};border: 2px solid ${hexToRGBMeeting(myMsgItem.data.color)}"{{/if}} actionObj="${JSON.stringify(actionbtn)}" mainObj="${JSON.stringify(myMsgItem)}" onclick="passMeetingUtterances(this)"> \
                                 {{/if}}\
                                 <i class="${helpers.actionIcon(actionbtn)}"></i> ${actionbtn.title} </div> \
                               {{/if}}  \
                            {{/each}}\
                            {{if myMsgItem.actions.length > 2}}\
                            {{if helpers.compareCurntTimeAndTimln_minutes(myMsgItem.data.duration.start,myMsgItem.data.duration.end, null) <= 5}}\
                            <div class="actionBtns dropdown" {{if myMsgItem.data.color}}style="color:${myMsgItem.data.color};text-transform: uppercase;border: 2px solid ${myMsgItem.data.color}"{{/if}}  style="vertical-align:middle;" >\
                            {{else}}\
                            <div class="actionBtns dropdown" {{if myMsgItem.data.color}}style="color:${myMsgItem.data.color};text-transform: uppercase;border: 2px solid ${hexToRGBMeeting(myMsgItem.data.color)}"{{/if}}  style="vertical-align:middle;" >\
                            {{/if}}\
                            <i class="dropbtnWidgt" style="margin:0;margin-top: 0px;top: unset;" onclick="showDropdown(this)">More</i>\
                            <ul  class="dropdown-contentWidgt  rmpmW" style="list-style:none;">\
                            {{each(key, actionbtn) myMsgItem.actions}} \
                            {{if key >= 2}}\
                            {{if actionbtn.type === "postback"}}\
                                    <li {{if myMsgItem.data.color}}style="color: ${myMsgItem.data.color};text-transform: uppercase;"{{/if}}  class="dropdown-item" href="javascript:void(0)" actionObj="${JSON.stringify(actionbtn)}" mainObj="${JSON.stringify(myMsgItem)}" onclick="passMeetingUtterances(this)">"${actionbtn.title}"</li>\
                                    {{else}}\
                                    <li {{if myMsgItem.data.color}}style="color: ${myMsgItem.data.color};text-transform: uppercase;"{{/if}}  class="dropdown-item" href="javascript:void(0)" actionObj="${JSON.stringify(actionbtn)}" mainObj="${JSON.stringify(myMsgItem)}" onclick="passMeetingUtterances(this)">${actionbtn.title}</li>\
                                {{/if}}\
                            {{/if}}\
                          {{/each}}\
                        </ul>\
                            </div> \
                            {{/if}}\
                      </div>\
                      </div>\
                    </div>\
                  </div>\
              {{/each}}\
              <div style="clear:both"></div>\
              {{if tempdata && tempdata.elements && tempdata.elements.length > 3 && panelDetail.viewmore}} \
                  <div class="viewMore" onclick="viewMorePanel(\'${JSON.stringify(panelDetail)}\')">View more <i class="moreArrow icon-Disclose1"></i></div>\
              {{/if}}\
              {{if tempdata && tempdata.elements && tempdata.elements.length === 0}}\
                  <div class="noContent">\
                      <img class="img img-fluid" src="/assets/images/widget/nodata.svg" width="118px" height="118px" style="margin-top:15px;">\
                      <div class="col-12 rmpmW nodataTxt">${tempdata.placeholder}</div>\
                  </div>\
              {{/if}}\
            </div>\
          </div>  \
      </scipt>';var tasksTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
          <div class="allTaskCntr"   payload="{{if tempdata && tempdata.buttons && tempdata.buttons.length && tempdata.buttons[0].api}}${tempdata.buttons[0].api}{{/if}}">\
              {{each(key, msgItem) tempdata.elements}} \
                  {{if panelDetail.viewmore}}\
                      {{if key<= 2}}\
                          <div class="viewTask{{if msgItem.data.status === "Close"}} closeTask{{/if}}" id="${msgItem.id}">\
                              {{if panelDetail.showAll}}\
                                  <div class="viewTaskLft">\
                                      <div class="roundCheckbox">\
                                          <input {{if msgItem.data.status === "Close"}}disabled="disabled"{{/if}} class="taskSel" type="checkbox" id="task_${msgItem.id}" onclick="taskkAction(\'${msgItem.id}\',\'${msgItem.title}\',this)" {{if taskCheckbox(msgItem.id)}}checked{{/if}} />\
                                          <label for="task_${msgItem.id}"></label>\
                                      </div>\
                                  </div>\
                              {{/if}}\
                              <div class="viewTaskRgtt{{if msgItem.data.status === "Close"}} closeTask{{/if}}"   {{if key === tempdata.elements.length - 1}}style="border-bottom:0"{{/if}}>\
                                  <div class="title">${msgItem.title}\
                                      <i  class="icon-More dropbtnWidgt" onclick="showDropdown(this)"></i>\
                                      <ul  class="dropdown-contentWidgt  rmpmW" style="list-style:none;">\
                                          {{each(key, actionbtnli) msgItem.actions}} \
                                              {{if actionbtnli.type === "postback"}}\
                                                  <li class="dropdown-item" payload="${JSON.stringify(msgItem)}"   onclick="passTaskUtterances(this, ${key})">"${actionbtnli.title}"</li>\
                                              {{/if}}\
                                          {{/each}}\
                                      </ul>\
                                  </div> \
                                  {{if checkOverDue(msgItem.data.status, msgItem.data.dueDate)}}\
                                      <div class="taskDateCntr" style="color: #fc4a61"> \
                                          <i class="icon-Time icon16Gray"></i> <span>{{html helpers.getTimeline(msgItem.data.dueDate, "fulldate")}}, {{html helpers.getTimeline(msgItem.data.dueDate, "time")}}</span>\
                                      </div> \
                                  {{else}} \
                                      <div class="taskDateCntr"> \
                                          <i class="icon16Gray icon-Time"></i> <span>{{html helpers.getTimeline(msgItem.data.dueDate, "fulldate")}}, {{html helpers.getTimeline(msgItem.data.dueDate, "time")}}</span>\
                                      </div> \
                                  {{/if}}\
                                  <div class="userCntr"> \
                                      <i class="icon16Gray icon-Material-Person"></i>\
                                      {{if checkCurrentUser(msgItem.data.owner._id, msgItem.data.assignee._id)}}\
                                          <div style="display: inline-block">You</div>\
                                      {{else}}\
                                          {{html helpers.checkTaskUser(msgItem.data.owner.fN, msgItem.data.owner.lN, msgItem.data.owner._id)}}\
                                          <i style="margin: 0px 5px;" class="fa fa-caret-right" aria-hidden="true"></i>\
                                          {{html helpers.checkTaskUser(msgItem.data.assignee.fN, msgItem.data.assignee.lN, msgItem.data.assignee._id)}}\
                                      {{/if}}\
                                  </div>\
                              </div>\
                          </div>\
                      {{/if}}\
                  {{else}}\
                      <div class="viewTask{{if msgItem.data.status === "Close"}} closeTask{{/if}}" id="${msgItem.id}">\
                          {{if panelDetail.showAll}}\
                              <div class="viewTaskLft">\
                                  <div class="roundCheckbox">\
                                      <input {{if msgItem.data.status === "Close"}}disabled="disabled"{{/if}} class="taskSel" type="checkbox" id="task_${msgItem.id}" onclick="taskkAction(\'${msgItem.id}\',\'${msgItem.title}\',this)" {{if taskCheckbox(msgItem.id)}}checked{{/if}}/>\
                                      <label for="task_${msgItem.id}"></label>\
                                  </div>\
                              </div>\
                          {{/if}}\
                          <div class="viewTaskRgtt{{if msgItem.data.status === "Close"}} closeTask{{/if}}" {{if key === tempdata.elements.length - 1}}style="border-bottom:0"{{/if}}>\
                              <div class="title">${msgItem.title}\
                                  <i  class="icon-More dropbtnWidgt" onclick="showDropdown(this)"></i>\
                                  <ul  class="dropdown-contentWidgt  rmpmW" style="list-style:none;">\
                                      {{each(key, actionbtnli) msgItem.actions}} \
                                          {{if actionbtnli.type === "postback"}}\
                                              <li class="dropdown-item" payload="${JSON.stringify(msgItem)}"   onclick="passTaskUtterances(this, ${key})">"${actionbtnli.title}"</li>\
                                          {{/if}}\
                                      {{/each}}\
                                  </ul>\
                              </div> \
                              {{if checkOverDue(msgItem.data.status, msgItem.data.dueDate)}}\
                                  <div class="taskDateCntr" style="color: #fc4a61"> \
                                      <i class="icon-Time icon16Gray"></i> <span>{{html helpers.getTimeline(msgItem.data.dueDate, "fulldate")}}, {{html helpers.getTimeline(msgItem.data.dueDate, "time")}}</span>\
                                  </div> \
                              {{else}} \
                                  <div class="taskDateCntr"> \
                                      <i class="icon16Gray icon-Time"></i> <span>{{html helpers.getTimeline(msgItem.data.dueDate, "fulldate")}}, {{html helpers.getTimeline(msgItem.data.dueDate, "time")}}</span>\
                                  </div> \
                              {{/if}}\
                              <div class="userCntr"> \
                                  <i class="icon16Gray icon-Material-Person"></i>\
                                  {{if checkCurrentUser(msgItem.data.owner._id, msgItem.data.assignee._id)}}\
                                      <div style="display: inline-block">You</div>\
                                  {{else}}\
                                      {{html helpers.checkTaskUser(msgItem.data.owner.fN, msgItem.data.owner.lN, msgItem.data.owner._id)}}\
                                      <i style="margin: 0px 5px;" class="fa fa-caret-right" aria-hidden="true"></i>\
                                      {{html helpers.checkTaskUser(msgItem.data.assignee.fN, msgItem.data.assignee.lN, msgItem.data.assignee._id)}}\
                                  {{/if}}\
                              </div>\
                          </div>\
                      </div>\
                  {{/if}}\
              {{/each}} \
              <div style="clear:both"></div>\
              {{if tempdata && tempdata.elements && tempdata.elements.length > 3 && panelDetail.viewmore}} \
                  <div class="viewMore" onclick="viewMorePanel(\'${JSON.stringify(panelDetail)}\')">View more <i class="moreArrow icon-Disclose1"></i></div>\
              {{/if}}\
              {{if tempdata && tempdata.elements && tempdata.elements.length === 0}}\
                  <div class="noContent">\
                      <img class="img img-fluid" src="/assets/images/widget/nodata.svg" width="118px" height="118px" style="margin-top:15px;">\
                      <div class="col-12 rmpmW nodataTxt">${tempdata.placeholder}</div>\
                  </div>\
              {{/if}}\
          </div>\
      </script>';var filesTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
          <div class="filesCntr" >\
              {{each(key, msgItem) tempdata.elements}} \
                  {{if panelDetail.viewmore}}\
                      {{if key<= 2}}\
                          <div class="carosalItem" onclick="openLink(\'${msgItem.default_action.url}\')">\
                              <div class="carpadding">\
                                  <div class="lftCntr">\
                                      <div class="fileCntr">{{html helpers.getFileIcon(msgItem.data.ext)}}</div>\
                                  </div>\
                                  <div class="rgtCntr" {{if key === tempdata.elements.length - 1}}style="border-bottom:0"{{/if}}>\
                                      <div class="fileName">${msgItem.title}</div>\
                                      {{if msgItem.sharedBy}}<div class="sharedBy">Shared by  ${msgItem.owners[0].displayName }</div>{{/if}}\
                                      <div class="lastModified">Last Edited ${helpers.getTimeline(msgItem.data.modifiedTime, "fulldate")}, ${helpers.getTimeline(msgItem.data.modifiedTime, "fullyear")}</div>\
                                  </div>\
                              </div>\
                          </div>\
                      {{/if}}\
                  {{else}}\
                      <div class="carosalItem" onclick="openLink(\'${msgItem.default_action.url}\')">\
                          <div class="carpadding">\
                              <div class="lftCntr">\
                                  <div class="fileCntr">{{html helpers.getFileIcon(msgItem.data.ext)}}</div>\
                              </div>\
                              <div class="rgtCntr" {{if key === tempdata.elements.length - 1}}style="border-bottom:0"{{/if}}>\
                                  <div class="fileName">${msgItem.title}</div>\
                                  {{if msgItem.sharedBy}}<div class="sharedBy">Shared by  ${msgItem.owners[0].displayName }</div>{{/if}}\
                                  <div class="lastModified">Last Edited ${helpers.getTimeline(msgItem.data.modifiedTime, "fulldate")}, ${helpers.getTimeline(msgItem.data.modifiedTime, "fullyear")}</div>\
                              </div>\
                          </div>\
                      </div>\
                  {{/if}}\
              {{/each}} \
              <div style="clear:both"></div>\
              {{if tempdata && tempdata.elements && tempdata.elements.length > 3 && panelDetail.viewmore}} \
                  <div class="viewMore" onclick="viewMorePanel(\'${JSON.stringify(panelDetail)}\')">View more <i class="moreArrow icon-Disclose1"></i></div>\
              {{/if}}\
              {{if tempdata && tempdata.elements && tempdata.elements.length === 0}}\
                  <div class="noContent">\
                      <img class="img img-fluid" src="/assets/images/widget/nodata.svg" width="118px" height="118px" style="margin-top:15px;">\
                      <div class="col-12 rmpmW nodataTxt">${tempdata.placeholder}</div>\
                  </div>\
              {{/if}}\
          </div>\
      </script>';var defaultFilesTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
          <div class="filesCntr" >\
              {{each(key, msgItem) tempdata.elements}} \
                  {{if panelDetail.viewmore}}\
                      {{if key<= 2}}\
                          <div class="carosalItem" style="margin: 0px 5px 0px 5px;width: 97%;border-bottom: 1px solid var(--sdk-primary-border-color);" {{if msgItem.default_action}}onclick="openLink(\'${msgItem.default_action.url}\')" {{/if}}>\
                              <div class="carpadding">\
                                  <div class="lftCntr" style="padding-top: 5px;">\
                                      {{if msgItem.icon}}<div class="fileCntr"><img class="common" style="height: 60px; width: 60px;border-radius: 30px;" src="${msgItem.icon}"></img></div>{{/if}}\
                                  </div>\
                                  <div class="rgtCntr" style="min-height: 50px;border-bottom: 0px;padding-top: 10px; padding-bottom: 0px;width: calc(100% - 75px);" {{if key === tempdata.elements.length - 1}}style="border-bottom:0"{{/if}}>\
                                      <div class="fileName" style="font-weight: 600;padding-right: 23px;">${msgItem.title}\
                                      {{if msgItem.actions}}<i  class="icon-More dropbtnWidgt"  style="margin:0;margin-top: 0px; top: unset;" onclick="showDropdown(this)"></i>\
                                      <ul  class="dropdown-contentWidgt  rmpmW" style="list-style:none;">\
                                          {{each(key1, actionbtnli) msgItem.actions}} \
                                              {{if actionbtnli.type === "postback"}}\
                                                  <li class="dropdown-item" actionObj="${JSON.stringify(actionbtnli)}" mainObj="${JSON.stringify(msgItem)}" onclick="passUtterances(\'\',\'${actionbtnli.payload}\',event)">"${actionbtnli.title}"</li>\
                                              {{else}}\
                                                  <li class="dropdown-item" actionObj="${JSON.stringify(actionbtnli)}" mainObj="${JSON.stringify(msgItem)}"  onclick="passUtterances(\'url\',\'${actionbtnli.url}\',event)">${actionbtnli.title}</li>\
                                              {{/if}}\
                                          {{/each}}\
                                      </ul>{{/if}}</div>\
                                      {{if msgItem.sub_title}}<div class="lastModified" style="font-size: 13px;">${msgItem.sub_title}</div>{{/if}}\
                                      {{if msgItem.text}}<div class="lastModified">${msgItem.text}</div>{{/if}}\
                                      {{if msgItem.modifiedTime}}<div class="lastModified">${msgItem.modifiedTime}</div>{{/if}}\
                                      {{if msgItem.button}}\
                                      {{each(key, actionbtn) msgItem.button}} \
                                          {{if actionbtn.type === "url"}}\
                                          <button class="btn actionBtns" style="background: none;border: 2px solid ${actionbtn.theme}; color: ${actionbtn.theme};" actionObj="${JSON.stringify(actionbtn)}" mainObj="${JSON.stringify(msgItem)}" onclick="passUtterances(\'url\',\'${actionbtn.title}\',event)">\
                                              ${actionbtn.title}\
                                          </button>\
                                      {{/if}}\
                                      {{if actionbtn.type === "postback"}}\
                                          <button class="btn actionBtns" style="background: none;border: 2px solid ${actionbtn.theme}; color: ${actionbtn.theme};" actionObj="${JSON.stringify(actionbtn)}" mainObj="${JSON.stringify(msgItem)}" onclick="passUtterances(\'\',\'${actionbtn.payload}\',event)">\
                                              ${actionbtn.title}\
                                          </button>\
                                      {{/if}}\
                                      {{/each}}\
                                      {{/if}}\
                                  </div>\
                              </div>\
                          </div>\
                      {{/if}}\
                  {{else}}\
                      <div class="carosalItem" style="margin: 0px 5px 0px 5px;width: 97%;border-bottom: 1px solid var(--sdk-primary-border-color);" {{if msgItem.default_action}} onclick="openLink(\'${msgItem.default_action.url}\')" {{/if}}>\
                          <div class="carpadding">\
                              <div class="lftCntr" style="padding-top: 5px;">\
                              {{if msgItem.icon}}<div class="fileCntr"><img class="common" style="height: 60px; width: 60px;border-radius: 30px;" src="${msgItem.icon}"></img></div>{{/if}}\
                              </div>\
                              <div class="rgtCntr" style="min-height: 50px;border-bottom: 0px;padding-top: 10px; padding-bottom: 0px;width: calc(100% - 75px);" {{if key === tempdata.elements.length - 1}}style="border-bottom:0"{{/if}}>\
                                  <div class="fileName" style="font-weight: 600;padding-right: 23px;">${msgItem.title}\
                                  {{if msgItem.actions}}<i  class="icon-More dropbtnWidgt" style="margin:0;margin-top: 0px; top: unset;" onclick="showDropdown(this)"></i>\
                                  <ul  class="dropdown-contentWidgt  rmpmW" style="list-style:none;">\
                                      {{each(key1, actionbtnli) msgItem.actions}} \
                                          {{if actionbtnli.type === "postback"}}\
                                              <li class="dropdown-item" actionObj="${JSON.stringify(actionbtnli)}" mainObj="${JSON.stringify(msgItem)}" onclick="passUtterances(\'\',\'${actionbtnli.payload}\',event)">"${actionbtnli.title}"</li>\
                                          {{else}}\
                                              <li class="dropdown-item" actionObj="${JSON.stringify(actionbtnli)}" mainObj="${JSON.stringify(msgItem)}"  onclick="passUtterances(\'url\',\'${actionbtnli.url}\',event)">${actionbtnli.title}</li>\
                                          {{/if}}\
                                      {{/each}}\
                                  </ul>{{/if}}</div>\
                                  {{if msgItem.sub_title}}<div class="lastModified" style="font-size: 13px;">${msgItem.sub_title}</div>{{/if}}\
                                  {{if msgItem.text}}<div class="lastModified">${msgItem.text}</div>{{/if}}\
                                  {{if msgItem.modifiedTime}}<div class="lastModified">${msgItem.modifiedTime}</div>{{/if}}\
                                  {{if msgItem.button}}\
                                  {{each(key, actionbtn) msgItem.button}} \
                                      {{if actionbtn.type === "url"}}\
                                      <button class="btn actionBtns" style="background: none;border: 2px solid ${actionbtn.theme}; color: ${actionbtn.theme};" actionObj="${JSON.stringify(actionbtn)}" mainObj="${JSON.stringify(msgItem)}"  onclick="passUtterances(\'url\',\'${actionbtn.url}\',event)">\
                                          ${actionbtn.title}\
                                      </button>\
                                     {{/if}}\
                                     {{if actionbtn.type === "postback"}}\
                                      <button class="btn actionBtns" style="background: none;border: 2px solid ${actionbtn.theme}; color: ${actionbtn.theme};" actionObj="${JSON.stringify(actionbtn)}" mainObj="${JSON.stringify(msgItem)}"  onclick="passUtterances(\'\',\'${actionbtn.payload}\',event)">\
                                          ${actionbtn.title}\
                                      </button>\
                                     {{/if}}\
                                  {{/each}}\
                                  {{/if}}\
                              </div>\
                          </div>\
                      </div>\
                  {{/if}}\
              {{/each}} \
              <div style="clear:both"></div>\
              {{if tempdata && tempdata.elements && tempdata.elements.length > 3 && panelDetail.viewmore}} \
                  <div class="viewMore" onclick="viewMorePanel(\'${JSON.stringify(panelDetail)}\')">View more <i class="moreArrow icon-Disclose1"></i></div>\
              {{/if}}\
              {{if tempdata && tempdata.elements && tempdata.elements.length === 0}}\
                  <div class="noContent">\
                      <img class="img img-fluid" src="/assets/images/widget/nodata.svg" width="118px" height="118px" style="margin-top:15px;">\
                      <div class="col-12 rmpmW nodataTxt">${tempdata.placeholder}</div>\
                  </div>\
              {{/if}}\
          </div>\
      </script>';var knowledgeTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
      <div class="knowledgeCntr"  >\
          {{each(key, msgItem) tempdata.elements}} \
              {{if panelDetail.viewmore}}\
                  {{if key<= 2 }}\
                      <div class="carosalItem" id="${msgItem.id}" onclick="openArticle(\'${msgItem.id}\')">\
                          <div class="carosalCntr">\
                              <div class="lftCntr" style="width:{{if msgItem.imageUrl && msgItem.imageUrl != null}} calc(100% - 90px) {{else}} 100%{{/if}};">\
                                  <div class="title">${msgItem.title}</div>\
                                  <div class="lastModified">Modified ${helpers.getTimeline(new Date(msgItem.lastMod), "fulldate")} at ${helpers.getTimeline(new Date(parseInt(msgItem.lastMod)), "time")}</div>\
                                  <div class="subtitle" style="-webkit-box-orient: vertical;">${msgItem.desc}</div>\
                              </div>\
                              {{if msgItem.imageUrl && msgItem.imageUrl != null}}\
                                  <div class="rgtCntr">\
                                      <img src="${msgItem.imageUrl}" class="knwImg">\
                                  </div>\
                              {{/if}}\
                              <div class="actionCntr">\
                                  <div class="viewsCntr">\
                                      <i class="iconConfig icon-Material-Eye"></i>\
                                      <span class="actionItemCount">${msgItem.nViews}</span>\
                                  </div>\
                                  {{if msgItem.nShares && msgItem.nShares > 0}}\
                                      <div class="commentCntr">\
                                          <i class="iconConfig icon-iOS---Comment"></i>\
                                          <span class="actionItemCount">${msgItem.nComments}</span>\
                                      </div>\
                                  {{/if}}\
                                  {{if msgItem.nShares && msgItem.nShares > 0}}\
                                      <div class="votesupCntr">\
                                          <i class="iconConfig icon-Like-Yes-Material-Filled"></i>\
                                          <span class="actionItemCount">{{if msgItem.nUpVotes}}${msgItem.nUpVotes}{{else}}0{{/if}}</span>\
                                      </div>\
                                  {{/if}}\
                                  {{if msgItem.nShares && msgItem.nShares > 0}}\
                                      <div class="votesdownCntr">\
                                          <i class="iconConfig icon-Dislike-Material"></i>\
                                          <span class="actionItemCount">{{if msgItem.nDownVotes}}${msgItem.nDownVotes}{{else}}0{{/if}}</span>\
                                      </div>\
                                  {{/if}}\
                              </div>\
                          </div>\
                      </div>\
                  {{/if}}\
                  {{else}}\
                      <div class="carosalItem" id="${msgItem.id}" onclick="openArticle(\'${msgItem.id}\')">\
                          <div class="carosalCntr" {{if key === tempdata.elements.length - 1}}style="border-bottom:0"{{/if}}>\
                              <div class="lftCntr" style="width:{{if msgItem.imageUrl && msgItem.imageUrl != null}} calc(100% - 90px) {{else}} 100%{{/if}};">\
                                  <div class="title">${msgItem.title}</div>\
                                  <div class="lastModified">Modified ${helpers.getTimeline(new Date(msgItem.lastMod), "fulldate")} at ${helpers.getTimeline(new Date(parseInt(msgItem.lastMod)), "time")}</div>\
                                  <div class="subtitle" style="-webkit-box-orient: vertical;">${msgItem.desc}</div>\
                              </div>\
                              {{if msgItem.imageUrl && msgItem.imageUrl != null}}\
                                  <div class="rgtCntr">\
                                      <img src="${msgItem.imageUrl}" class="knwImg">\
                                  </div>\
                              {{/if}}\
                              <div class="actionCntr">\
                                  <div class="viewsCntr">\
                                      <i class="iconConfig icon-Material-Eye"></i>\
                                      <span class="actionItemCount">${msgItem.nViews}</span>\
                                  </div>\
                                  {{if msgItem.nShares && msgItem.nShares > 0}}\
                                      <div class="commentCntr">\
                                          <i class="iconConfig icon-iOS---Comment"></i>\
                                          <span class="actionItemCount">${msgItem.nComments}</span>\
                                      </div>\
                                  {{/if}}\
                                  {{if msgItem.nShares && msgItem.nShares > 0}}\
                                      <div class="votesupCntr">\
                                          <i class="iconConfig icon-Like-Yes-Material-Filled"></i>\
                                          <span class="actionItemCount">{{if msgItem.nUpVotes}}${msgItem.nUpVotes}{{else}}0{{/if}}</span>\
                                      </div>\
                                  {{/if}}\
                                  {{if msgItem.nShares && msgItem.nShares > 0}}\
                                      <div class="votesdownCntr">\
                                          <i class="iconConfig icon-Dislike-Material"></i>\
                                          <span class="actionItemCount">{{if msgItem.nDownVotes}}${msgItem.nDownVotes}{{else}}0{{/if}}</span>\
                                      </div>\
                                  {{/if}}\
                              </div>\
                          </div>\
                      </div>\
                  {{/if}}\
          {{/each}}\
          <div style="clear:both"></div>\
          {{if tempdata && tempdata.elements && tempdata.elements.length > 3 && panelDetail.viewmore}} \
              <div class="viewMore" onclick="viewMorePanel(\'${JSON.stringify(panelDetail)}\')">View more <i class="moreArrow icon-Disclose1"></i></div>\
          {{/if}}\
          {{if tempdata && tempdata.elements && tempdata.elements.length === 0}}\
              <div class="noContent">\
                  <img class="img img-fluid" src="/assets/images/widget/nodata.svg" width="118px" height="118px" style="margin-top:15px;">\
                  <div class="col-12 rmpmW nodataTxt">${tempdata.placeholder}</div>\
              </div>\
          {{/if}}\
          </div>\
      </scipt>';var announcementTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
          <div class="announcementCntr" >\
              {{each(key, msgItem) tempdata.elements}} \
                  {{if panelDetail.viewmore}}\
                      {{if key<= 2 }}\
                          <div class="carosalItemAnnc" id="${msgItem.id}" onclick="openAnnouncement(\'${msgItem.id}\')">\
                              <div class="carosalCntr" {{if key === tempdata.elements.length - 1}}style="border-bottom:0"{{/if}}>\
                                  <div class="lftIconCntr"><div class="icon" style="background: ${msgItem.owner.color}">\
                                      <div class="icon" style="background: ${msgItem.owner.color}">\
                                          {{if msgItem && msgItem.owner.fN}}${msgItem.owner.fN[0]}{{/if}}{{if msgItem && msgItem.owner.lN}}${msgItem.owner.lN[0]}{{/if}}\
                                      </div>\
                                  </div>\
                              </div>\
                              <div class="lftCntr lftCntrAnnnc" style="width:{{if msgItem.imageUrl && msgItem.imageUrl != null}} calc(100% - 50px) {{else}} calc(100% - 36px) {{/if}};">\
                                  <div class="title titleAnnc">${msgItem.owner.fN} ${msgItem.owner.lN} <span class="lastModifiedAnnc pull-right">${helpers.getTimeLineNotification(msgItem.sharedOn)}</span></div>\
                                  <div class="col-12 rmpm sharedList" style="-webkit-box-orient: vertical;"> \
                                      {{each(index, list) msgItem.sharedList}}\
                                          {{if index == 0}}\
                                              <span>${list.name} </span> \
                                          {{/if}}\
                                          {{if index > 0}}\
                                              <span> , ${list.name} </span>\
                                          {{/if}}\
                                      {{/each}}\
                                  </div>\
                                  <div class="col-12 rmpm infoTitleA_NL" style="-webkit-box-orient: vertical;padding-bottom:3px;"> ${msgItem.title} </div>\
                                  <div class="subtitle" style="-webkit-box-orient: vertical;">${msgItem.subtitle}</div>\
                              </div>\
                              {{if msgItem.imageUrl && msgItem.imageUrl != null}}\
                                  <div class="rgtCntr">\
                                      <img src="${msgItem.imageUrl}" class="knwImg">\
                                  </div>\
                              {{/if}}\
                              <div class="actionCntr actionCntrAnnc">\
                                  {{if msgItem.nShares && msgItem.nShares > 0}}\
                                      <div class="commentCntr">\
                                          <i class="commentIcon icon-iOS---Comment"></i>\
                                          <span class="commentCount">${msgItem.nComments}</span>\
                                      </div>\
                                  {{/if}}\
                                  {{if msgItem.nShares && msgItem.nShares > 0}}\
                                      <div class="votesupCntr1">\
                                          <i class="votesupIcon icon-Like-Yes-Material-Filled"></i>\
                                          <span class="commentCount">{{if msgItem.nUpVotes}}${msgItem.nUpVotes}{{else}}0{{/if}}</span>\
                                      </div>\
                                  {{/if}}\
                              </div>\
                          </div>\
                      {{/if}}\
                      {{else}}\
                          <div class="carosalItem" id="${msgItem.id}"  onclick="openAnnouncement(\'${msgItem.id}\')">\
                              <div class="carosalCntr" {{if key === tempdata.elements.length - 1}}style="border-bottom:0"{{/if}}>\
                                  <div class="lftIconCntr">\
                                      <div class="icon" style="background: ${msgItem.owner.color}">\
                                          {{if msgItem && msgItem.owner.fN}}${msgItem.owner.fN[0]}{{/if}}{{if msgItem && msgItem.owner.lN}}${msgItem.owner.lN[0]}{{/if}}\
                                      </div>\
                                  </div>\
                                  <div class="lftCntr" style="width:{{if msgItem.imageUrl && msgItem.imageUrl != null}} calc(100% - 50px) {{else}} calc(100% - 36px) {{/if}};">\
                                      <div class="title titleAnnc">${msgItem.owner.fN} ${msgItem.owner.lN} <span class="lastModifiedAnnc pull-right">${helpers.getTimeLineNotification(msgItem.sharedOn)}</span></div>\
                                      <div class="col-12 rmpm sharedList" style="-webkit-box-orient: vertical;"> \
                                          {{each(index, list) msgItem.sharedList}}\
                                              {{if index == 0}}\
                                                  <span>${list.name} </span> \
                                              {{/if}}\
                                              {{if index > 0}}\
                                                  <span> , ${list.name} </span>\
                                              {{/if}}\
                                          {{/each}}\
                                      </div>\
                                      <div class="col-12 rmpm infoTitleA_NL" style="-webkit-box-orient: vertical;padding-bottom:3px;"> ${msgItem.title} </div>\
                                      <div class="subtitle" style="-webkit-box-orient: vertical;">${msgItem.desc}</div>\
                                  </div>\
                                  <div class="actionCntr">\
                                      {{if msgItem.nShares && msgItem.nShares > 0}}\
                                          <div class="commentCntr">\
                                              <i class="iconConfig icon-iOS---Comment"></i>\
                                              <span class="actionItemCount">${msgItem.nComments}</span>\
                                          </div>\
                                      {{/if}}\
                                      {{if msgItem.nShares && msgItem.nShares > 0}}\
                                          <div class="votesupCntr">\
                                              <i class="iconConfig icon-Like-Yes-Material-Filled"></i>\
                                              <span class="actionItemCount">{{if msgItem.nUpVotes}}${msgItem.nUpVotes}{{else}}0{{/if}}</span>\
                                          </div>\
                                      {{/if}}\
                                  </div>\
                              </div>\
                          </div>\
                      {{/if}}\
              {{/each}}\
              <div style="clear:both"></div>\
              {{if tempdata && tempdata.elements && tempdata.elements.length > 3 && panelDetail.viewmore}} \
                  <div class="viewMore" onclick="viewMorePanel(\'${JSON.stringify(panelDetail)}\')">View more <i class="moreArrow icon-Disclose1"></i></div>\
              {{/if}}\
              {{if tempdata && tempdata.elements && tempdata.elements.length === 0}}\
                  <div class="noContent">\
                      <img class="img img-fluid" src="/assets/images/widget/nodata.svg" width="118px" height="118px" style="margin-top:15px;">\
                      <div class="col-12 rmpmW nodataTxt">${tempdata.placeholder}</div>\
                  </div>\
              {{/if}}\
          </div>\
      </scipt>';var hashtagTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
          <div class="trendingHashtagCntr"  >\
              {{each(key, msgItem) tempdata.elements}} \
                  {{if panelDetail.viewmore}}\
                      {{if key<= 2 }}\
                          <div class="carosalItemHash" onclick="passHashTag(\'${msgItem.title}\')" {{if key === tempdata.elements.length - 1}}style="border-bottom:0"{{/if}}>\
                              <span>${msgItem.title}</span>\
                              <span class="hashCount">${msgItem.title_right}</span>\
                          </div>\
                      {{/if}}\
                  {{else}}\
                      <div class="carosalItemHash" onclick="passHashTag(\'${msgItem.title}\')" {{if key === tempdata.elements.length - 1}}style="border-bottom:0"{{/if}}>\
                          <span>${msgItem.title}</span>\
                          <span class="hashCount">${msgItem.title_right}</span>\
                      </div>\
                  {{/if}}\
              {{/each}}\
              <div style="clear:both"></div>\
              {{if tempdata && tempdata.elements && tempdata.elements.length > 2 && panelDetail.viewmore}} \
                  <div class="viewMore" onclick="viewMorePanel(\'${JSON.stringify(panelDetail)}\')">View more <i class="moreArrow icon-Disclose1"></i></div>\
              {{/if}}\
              {{if tempdata && tempdata.elements && tempdata.elements.length === 0}}\
                  <div class="noContent">\
                      <img class="img img-fluid" src="/assets/images/widget/nodata.svg" width="118px" height="118px" style="margin-top:15px;">\
                      <div class="col-12 rmpmW nodataTxt">${tempdata.placeholder}</div>\
                  </div>\
              {{/if}}\
          </div>\
      </scipt>';var skillsTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
          <div class="skillsCntr"  >\
              {{each(key, msgItem) tempdata.actions}} \
                  {{if panelDetail.viewmore}}\
                      {{if key<= 2 }}\
                          <div class="carosalItemHash" onclick="passUtterances(\'${msgItem.id}\',\'${payload}\')">\
                              <span title="${msgItem.title}">${msgItem.title}</span>\
                          </div>\
                      {{/if}}\
                  {{else}}\
                      <div class="carosalItemHash" onclick="passUtterances(\'${msgItem.id}\',\'${payload}\')">\
                          <span title="${msgItem.title}">${msgItem.title}</span>\
                      </div>\
                  {{/if}}\
              {{/each}}\
              <div style="clear:both"></div>\
              {{if tempdata && tempdata.elements && tempdata.actions.length > 3 && panelDetail.viewmore}} \
                  <div class="viewMore" onclick="viewMorePanel(\'${JSON.stringify(panelDetail)}\')">View more <i class="moreArrow icon-Disclose1"></i></div>\
              {{/if}}\
              {{if tempdata && tempdata.elements && tempdata.actions.length === 0}}\
                  <div class="noContent">\
                      <img class="img img-fluid" src="/assets/images/widget/nodata.svg" width="118px" height="118px" style="margin-top:15px;">\
                      <div class="col-12 rmpmW nodataTxt">${tempdata.placeholder}</div>\
                  </div>\
              {{/if}}\
          </div>\
      </scipt>';var chartListTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
          <div class="" style="margin-top: 11px;">\
              {{each(key, msgItem) tempdata.elements}} \
              <div style="position: relative; max-width: 25%; max-height: 25%; width: calc(100%/${tempdata.elements.length} - 5px);height: calc(100%/${tempdata.elements.length} - 5px);\
                  float : left; margin: 2px;">\
                  <div class="" style="border-radius: 100%; border: 1px solid #ddd; \
                      width: 100%;height: 100%;\
                      padding-bottom: 100%; background: ${msgItem.theme} ">\
                  </div>\
                  <div class="" style="text-align: center;font-weight: 600; word-break: break-word;">${msgItem.title}</div>\
                  <div class="" style="position: absolute;top:16%; color: #fff; margin-left: calc(125px/${tempdata.elements.length}); left: calc(key *100%/${tempdata.elements.length} + 5%)">${msgItem.text}</div>\
              </div>\
              {{/each}}\
              <div style="clear:both"></div>\
              {{if tempdata && tempdata.elements && tempdata.elements.length === 0}}\
                  <div class="noContent">\
                      <img class="img img-fluid" src="/assets/images/widget/nodata.svg" width="118px" height="118px" style="margin-top:15px;">\
                      <div class="col-12 rmpmW nodataTxt">${tempdata.placeholder}</div>\
                  </div>\
              {{/if}}\
          </div>\
      </scipt>';var popUpTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
          <div class="popupPreview" id="preview_${tempdata[0].id}"></div>\
          <div class="defaultPopupCntr" id="popup_${tempdata[0].id}">\
              <div class="popupContentCntr">\
                  {{if tempdata[0] && tempdata[0].title}} <div class="title">${tempdata[0].title}</div>{{/if}}\
                  {{if tempdata[0] && tempdata[0].desc}} <div class="desc">${tempdata[0].desc}</div>{{/if}}\
                  {{if tempdata[0] && tempdata[0].buttons && tempdata[0].buttons.length}}\
                      <div class="btnCntr">\
                          {{each(key, msgItem) tempdata[0].buttons}} \
                              <button class="btn" actionObj="${actionObj}" mainObj="${mainObj}" onclick="popupAction(\'${JSON.stringify(tempdata)}\',\'${msgItem.title}\', this)">\
                                  ${msgItem.title}\
                              </button>\
                          {{/each}}\
                      </div>\
                  {{/if}}\
              </div>\
          </div>\
      </scipt>';var defaultTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
          <div class="defaultTemplateCntr">\
              Panel need to define\
          </div>\
      </scipt>';var errorTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
          <div class="errorTemplateCntr">\
              <div class="imgCntr"> <img class="img img-fluid" src="assets/images/widget/widgetError.png"></div>\
              <div class="oopsErrorText">Oops!! Something went wrong!</div>\
          </div>\
      </scipt>';var ErrorTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
                            <div class="errorTemplateCntr {{if tempdata && !tempdata.templateType}}notFound{{/if}} {{if tempdata && tempdata.templateType}}${tempdata.templateType}{{/if}}">\
                                <div class="imgCntr"></div>\
                                {{if tempdata && tempdata.templateType && !tempdata.elements}}\
                                    {{if tempdata.errMsg}}\
                                      <div class="oopsErrorTitle">${tempdata.errMsg}</div>\
                                    {{else}}\
                                      <div class="oopsErrorTitle">No Data Available</div>\
                                    {{/if}}\
                                    {{if false && tempdata.errMsgDiscription}}\
                                      <div class="oopsErrorDesc">Looks like there is no data availble to show it to you.</div>\
                                    {{/if}}\
                                {{else}}\
                                     <div class="oopsErrorTitle">Page not found</div>\
                                {{/if}}\
                                <div class="oopsErrorBtns">\
                                    <button class="buttonSolid" onclick="refreshElement(\'${JSON.stringify(panelDetail)}\')" id="refreshData" {{if panelDetail}}panelDetail="${JSON.stringify(panelDetail)}"{{/if}}>Refresh</button>\
                                </div>\
                            </div>\
                          </scipt>';var AuthRequired='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
                            <div class="errorTemplateCntr authRequired">\
                                <div class="imgCntr"></div>\
                                <div class="oopsErrorTitle">Authorization Needed!</div>\
                                <div class="oopsErrorBtns">\
                                    <button class="buttonSolid action" {{if tempdata && tempdata.elements && tempdata.elements.length && tempdata.elements[0].defaultAction}}actionObj="${JSON.stringify(tempdata.elements[0].defaultAction)}"{{/if}} {{if panelDetail}}panelDetail="${JSON.stringify(panelDetail)}"{{/if}}>Login</button>\
                                </div>\
                            </div>\
                          </scipt>';var filterTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
        <div class="filterTemplateCntr">\
            <div class="wiz-filters">\
            <div class="wix-filter-header">Filters<span class="wid-filter-close"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAANlJREFUKBWdkkEKwjAQRWdSqBfwHDmEPYTgBVwXvIWCO8GlG6GHaA/hObxAC3Xan5AmrUkFZ1OY+S//Txo+3x6a6HPlbLM/HQ9vWqnL/bmVvq2IVKkAidBO+q7GIMVZqKuhBaPgxMwvEdEp2EOioTUMHL4HeeFip2bsosUEmCEF0lgnf+AEQrSEDRiB0J+BaISwEZidvBN6qPFW/6uZY+iGnXBkbD/0J3AJcZYXBly7nBj083esQXBExTQKby+1h8WI4I7o/oW11XirqmSmBgMXzwHh18PUgBkAXhfn47Oroz4AAAAASUVORK5CYII=" class="closeCross"></span></div>\
              {{each(index,filter) filterOptions}} \
                  {{if filter && filter.type==="enum"}}\
                      <div class="wiz-filter">\
                            <div class="title">${filter.title}</div>\
                            <div class="open-filters" id="${filter.field}">\
                                  <div class="filterInputTags">\
                                          {{if filter && filter.selected}} \
                                                {{each(index,selectItem) filter.data}} \
                                                        {{if selectItem && selectItem.isSelect}} \
                                                        <span field="${selectItem.title}" value="${selectItem.fieldValue}" >${selectItem.title}</span>\
                                                        {{/if}}\
                                                {{/each}}\
                                          {{/if}}\
                                          {{if filter && !filter.isSelect}} \
                                                <span>${"Select "+filter.title}</span>\
                                          {{/if}}\
                                  </div>\
                            </div>\
                      </div>\
                  {{/if}}\
                  {{if (filter && filter.type==="radio")}}\
                    <div class="wiz-filter {{if filter.view==="horizontal"}}horizontalView{{/if}}">\
                        <div class="title">${filter.title}</div>\
                        <div class="open-radiofilters">\
                            <div class="radiodivsdk" filter-type="radioFilter" filter-index="${index}">\
                                {{each(index,filterItem) filter.data}} \
                                    <label for="filterRadioHoriz_${filterItem.title}" class="radioItemContainer" field="${filterItem.field}">\
                                        <span>${filterItem.title}<span>\
                                          <input field="${filterItem.field}" {{if filterItem.isSelect}}checked{{/if}} name="radioFilterVertical" value-index="${index}" class="taskSelRadio" type="radio" value="${filterItem.isSelect}" id="filterRadioHoriz_${filterItem.title}"/>\
                                        <span class="checkmark"><span>\
                                    </label>\
                                {{/each}}\
                            </div>\
                        </div>\
                    </div>\
                 {{/if}}\
                 {{if  (filter && filter.type==="checkbox")}}\
                 <div class="wiz-filter {{if filter.view==="horizontal"}}horizontalView{{/if}}">\
                    <div class="title">${filter.title}</div>\
                    <div class="radiodivsdk" filter-type="checkBoxFilter" filter-index="${index}">\
                        {{each(index,filterItem) filter.data}} \
                            <label for="filterCheckHorixontal_${filterItem.value}" class="container checkContainer">\
                                <span>${filterItem.title}<span>\
                                <input filed="${filterItem.title}" {{if filterItem.isSelect}}checked{{/if}} name="${filterItem.title}" element="filterCheckbox" value-index="${index}"  class="taskSelRadio" type="checkbox" value="${filterItem.value}" id="filterCheckHorixontal_${filterItem.value}"/>\
                                <span class="checkmark"><span>\
                            </label>\
                        {{/each}}\
                    </div>\
                 </div>\
              {{/if}}\
              {{/each}}\
            </div>\
            <div class="action-bar">\
              <button class="btn apply-btn">Apply</button>\
            </div>\
        </div>\
     </scipt>';var filterOptionsTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
                  <div class="filterOptionsTemplateCtrl">\
                      <div class="sortBy">\
                            <div class="wix-filter-header">${"Select  "+ filterSelectedItems.title}<span class="wid-filter-close"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAANlJREFUKBWdkkEKwjAQRWdSqBfwHDmEPYTgBVwXvIWCO8GlG6GHaA/hObxAC3Xan5AmrUkFZ1OY+S//Txo+3x6a6HPlbLM/HQ9vWqnL/bmVvq2IVKkAidBO+q7GIMVZqKuhBaPgxMwvEdEp2EOioTUMHL4HeeFip2bsosUEmCEF0lgnf+AEQrSEDRiB0J+BaISwEZidvBN6qPFW/6uZY+iGnXBkbD/0J3AJcZYXBly7nBj083esQXBExTQKby+1h8WI4I7o/oW11XirqmSmBgMXzwHh18PUgBkAXhfn47Oroz4AAAAASUVORK5CYII=" class="closeCross"></span></div>\
                            {{if filterSelectedItems.isMulti === "Yes"}}\
                            <div class="radiodivsdk">\
                                {{each(index,filterItem) filterSelectedItems.data}} \
                                    <label for="filter_${filterItem.value}" class="container checkContainer">\
                                        <span>${filterItem.title}<span>\
                                        <input filed="${filterItem.title}" {{if filterItem.isSelect}}checked{{/if}} name="${filterItem.title}" class="taskSelRadio" type="checkbox" value="${filterItem.value}" id="filter_${filterItem.value}"/>\
                                        <span class="checkmark"><span>\
                                    </label>\
                                {{/each}}\
                            </div>\
                            {{else}}\
                            <div class="radiodivsdk" >\
                              {{each(index,filterItem) filterSelectedItems.data}} \
                              <div class="tickMarkContainer {{if filterItem.isSelect}}selected{{/if}}" field="${filterItem.title}">\
                                <span class="selectDropValue" valueObj="${JSON.stringify(filterItem)}">${filterItem.title}</span>\
                                <span class="selectedFilterTick "></span>\
                              </div>\
                              {{/each}}\
                            </div>\
                            {{/if}}\
                      </div>\
                      <div class="action-bar">\
                        <button class="btn apply-btn">Done</button>\
                      </div>\
                  </div>\
                </scipt>';var List='<script id="chat-window-listTemplate" type="text/x-jqury-tmpl">\
                <div class="tab-list-template" mainObj="${JSON.stringify(tempdata)}" panelDetail="${JSON.stringify(panelDetail)}">\
                   {{if tempdata}} \
                    <div class="sheetHeader hide">\
                        <div class="headerLeft">\
                        {{if panelDetail && panelDetail.widgetTitle}}\
                           <span class="choose">${panelDetail.widgetTitle}</span>\
                           {{else}}\
                             <span class="choose">${tempdata.widgetName}</span>\
                        {{/if}}\
                        {{if tempdata.description}}\
                        <p class="listViewItemSubtitle">${tempdata.description}</p>\
                        {{/if}}\
                        </div>\
                        {{if tempdata && tempdata.headerOptions && tempdata.headerOptions.type==="button" && tempdata.headerOptions.button && tempdata.headerOptions.button.title}}\
                        <div class="headerRight">\
                            <div actionObj="${JSON.stringify(tempdata.headerOptions.button)}" class="headerActionBTN action">${tempdata.headerOptions.button.title}</div>\
                        </div>\
                        {{/if}}\
                        {{if (tempdata.headerOptions && tempdata.headerOptions.type === "url" && tempdata.headerOptions.url && tempdata.headerOptions.url.title)}}\
                          <div class="headerRight">\
                             <div actionObj="${JSON.stringify(tempdata.headerOptions.url)}" class="headerActionLink action">${tempdata.headerOptions.url.title}</div>\
                         </div>\
                        {{/if}}\
                        <div class="headerRight" style="display:none;">\
                          <div class="headerActionEllipsis">\
                          <i class="icon-More dropbtnWidgt moreValue"  onclick="showDropdown(this)"></i>\
                          <ul  class="dropdown-contentWidgt  rmpmW moreValueContent" style="list-style:none;">\
                                  <li class="dropdown-item action"> one</li>\
                                  <li class="dropdown-item action"> two</li>\
                          </ul>\
                          </div>\
                        </div>\
                     </div>\
                    <div class="listTemplateContainer">\
                    {{if tempdata.tabs && tabs.length}} \
                      <div class="tabsContainer">\
                         {{each(key, tab) tabs}} \
                         <span class="tabs" data-tabid="${tab}" ><span class="btnBG">${tab}</span></span>\
                         {{/each}}\
                      </div>\
                    {{/if}} \
                      <ul class="displayListValues">\
                       {{each(key, msgItem) dataItems}} \
                       {{if ((viewmore && (key<=2)) || (!viewmore))}}\
                         <li class="listViewTmplContentChild"> \
                          <div class="listViewTmplContentChildRow">\
                          {{if msgItem.image && msgItem.image.image_type === "image" && msgItem.image.image_src}} \
                                  <div class="listViewRightContent {{if msgItem.image.size}}${msgItem.image.size}{{/if}}" {{if msgItem.image.radius}}style="border-radius:$(msgItem.image.radius)"{{/if}}>\
                                      <img alt="image" src="${msgItem.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                  </div> \
                          {{/if}} \
                              <div class="listViewLeftContent {{if (!msgItem.value) || (msgItem.value && msgItem.value.type==="text" && !msgItem.value.text) || (msgItem.value && msgItem.value.type==="button" && !msgItem.value.button)}}fullWidthTitle{{/if}} {{if msgItem.default_action}}handCursor{{/if}}" {{if msgItem && msgItem.default_action}}actionObj="${JSON.stringify(msgItem.default_action)}"{{/if}} {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize && ((msgItem.value && msgItem.value.type === "text" && msgItem.value.text) || (msgItem.value && msgItem.value.type === "url" && msgItem.value.url && msgItem.value.url.title) || (msgItem.value && msgItem.value.type=="button" && msgItem.value.button && (msgItem.value.button.title || (msgItem.value.button.image && msgItem.value.button.image.image_src))) || (msgItem.value && msgItem.value.type=="menu" && msgItem.value.menu && msgItem.value.menu.length))}} col-size="${msgItem.value.layout.colSize}"{{/if}}> \
                                    <span class="titleDesc ">\
                                      <div class="listViewItemTitle">${msgItem.title}</div> \
                                      {{if msgItem.subtitle}}\
                                        <div class="listViewItemSubtitle">${msgItem.subtitle}</div>\
                                      {{/if}} \
                                    </span>\
                              </div>\
                              {{if (msgItem.value && msgItem.value.type === "text" && msgItem.value.text)}}\
                                <div class="titleActions {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}} style="width:${msgItem.value.layout.colSize};"{{/if}}>\
                                    <div class="listViewItemValue {{if !msgItem.subtitle}}top10{{/if}}">${msgItem.value.text}</div>\
                                </div>\
                              {{/if}}\
                              {{if (msgItem.value && msgItem.value.type === "image" && msgItem.value.image && msgItem.value.image.image_src)}}\
                                <div actionObj="${JSON.stringify(msgItem.value.image)}" class="titleActions imageValue action {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}} style="width:${msgItem.value.layout.colSize};"{{/if}}>\
                                    {{if msgItem.value.image && msgItem.value.image.image_type === "image" && msgItem.value.image.image_src}}\
                                        <span class="wid-temp-btnImage"> \
                                            <img alt="image" src="${msgItem.value.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                        </span> \
                                    {{/if}}\
                                </div>\
                              {{/if}}\
                              {{if (msgItem.value && msgItem.value.type === "url" && msgItem.value.url && msgItem.value.url.title)}}\
                                <div class="titleActions {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}} style="width:${msgItem.value.layout.colSize};"{{/if}}>\
                                    <div actionObj="${JSON.stringify(msgItem.value.url)}" class="listViewItemValue actionLink action {{if !msgItem.subtitle}}top10{{/if}}">${msgItem.value.url.title}</div>\
                                </div>\
                              {{/if}}\
                              {{if msgItem.value && msgItem.value.type=="button" && msgItem.value.button && (msgItem.value.button.title || (msgItem.value.button.image && msgItem.value.button.image.image_src))}}\
                                <div class="titleActions {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}}style="width:${msgItem.value.layout.colSize};"{{/if}}>\
                                    <div class="actionBtns action singleBTN {{if !msgItem.value.button.title && (msgItem.value.button.image && msgItem.value.button.image.image_src)}}padding5{{/if}}" actionObj="${JSON.stringify(msgItem.value.button)}">\
                                        {{if msgItem.value.button.image && msgItem.value.button.image.image_type === "image" && msgItem.value.button.image.image_src}}\
                                                <span class="wid-temp-btnImage"> \
                                                    <img alt="image" src="${msgItem.value.button.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                                </span> \
                                        {{/if}}\
                                        {{if msgItem.value.button.title}}\
                                        ${msgItem.value.button.title}\
                                        {{/if}}\
                                    </div>\
                                </div>\
                              {{/if}}\
                              {{if msgItem.value && msgItem.value.type=="menu" && msgItem.value.menu && msgItem.value.menu.length}}\
                              <div class="titleActions {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}}style="width:${msgItem.value.layout.colSize};"{{/if}}>\
                                  <i class="icon-More dropbtnWidgt moreValue"  onclick="showDropdown(this)"></i>\
                                      <ul  class="dropdown-contentWidgt  rmpmW moreValueContent" style="list-style:none;">\
                                        {{each(key, actionbtnli) msgItem.value.menu}} \
                                              <li class="dropdown-item action" actionObj="${JSON.stringify(actionbtnli)}">\
                                            <i>\
                                            {{if actionbtnli.image && actionbtnli.image.image_type === "image" && msgItem.image.image_src}}\
                                            <span class="wid-temp-btnImage"> \
                                                <img alt="image" src="${actionbtnli.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                            </span> \
                                            {{/if}} \
                                            </i>${actionbtnli.title}</li>\
                                        {{/each}}\
                                      </ul>\
                              </div>\
                              {{/if}}\
                            </div>\
                          {{if msgItem.details && msgItem.details.length}} \
                          <div class="tabListViewDiscription">\
                            {{each(key, content) msgItem.details}} \
                              {{if key < 3 }}\
                                 <div class="wid-temp-contentDiv">\
                                   {{if content.image && content.image.image_type === "image" && content.image.image_src}} \
                                      <span class="wid-temp-discImage"> \
                                          <img alt="image" src="${content.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                      </span> \
                                   {{/if}} \
                                   {{if content.description}} \
                                     <span class="wid-temp-discription">${content.description}</span>\
                                   {{/if}} \
                                   {{if ((key===2) || ((msgItem.details.length < 3) && (key===msgItem.details.length-1))) && (msgItem.buttons && msgItem.buttons.length)}} \
                                   <span class="wid-temp-showActions">\
                                    </span>\
                                   {{/if}} \
                                 </div>\
                              {{/if}}\
                            {{/each}}\
                            {{if msgItem.details.length > 3}}\
                            <span class="wid-temp-showMore" id="showMoreContents">Show more <span class="show-more"></span></span>\
                            {{/if}}\
                          </div>\
                          <div class="wid-temp-showMoreBottom hide">\
                            <div class="showMoreContainer">\
                              <div class="headerTitleMore">MORE<span class="wid-temp-showMoreClose"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAANlJREFUKBWdkkEKwjAQRWdSqBfwHDmEPYTgBVwXvIWCO8GlG6GHaA/hObxAC3Xan5AmrUkFZ1OY+S//Txo+3x6a6HPlbLM/HQ9vWqnL/bmVvq2IVKkAidBO+q7GIMVZqKuhBaPgxMwvEdEp2EOioTUMHL4HeeFip2bsosUEmCEF0lgnf+AEQrSEDRiB0J+BaISwEZidvBN6qPFW/6uZY+iGnXBkbD/0J3AJcZYXBly7nBj083esQXBExTQKby+1h8WI4I7o/oW11XirqmSmBgMXzwHh18PUgBkAXhfn47Oroz4AAAAASUVORK5CYII=" class="closeCross"></span></div>\
                              <div class="moreItemsScroll">\
                                {{each(key, content) msgItem.details}} \
                                    <div class="wid-temp-contentDiv">\
                                      {{if content.image && content.image.image_type === "image" && content.image.image_src}}\
                                            <span class="wid-temp-discImage"> \
                                                <img alt="image" src="${content.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                            </span> \
                                      {{/if}} \
                                      {{if content.description}} \
                                          <span class="wid-temp-discription">${content.description}</span>\
                                      {{/if}} \
                                    </div>\
                                  {{/each}}\
                                </div>\
                            </div>\
                          </div>\
                          {{/if}}\
                          {{if (msgItem.buttons && msgItem.buttons.length)}} \
                          <div class="meetingActionButtons {{if ((msgItem.buttonsLayout && msgItem.buttonsLayout.style==="float"))}}float{{else}}fix{{/if}} {{if ((msgItem.details && msgItem.details.length))}}hide{{/if}}">\
                              {{each(key, actionbtn) msgItem.buttons}}\
                                      {{if (msgItem.buttonsLayout && msgItem.buttonsLayout.displayLimit && msgItem.buttonsLayout.displayLimit.count && (key < msgItem.buttonsLayout.displayLimit.count)) || (!msgItem.buttonsLayout && key < 2) || (msgItem.buttonsLayout && !msgItem.buttonsLayout.displayLimit && key < 2) || (msgItem.buttonsLayout && msgItem.buttonsLayout.displayLimit && !msgItem.buttonsLayout.displayLimit.count && key < 2)}}\
                                        {{if actionbtn.title}}\
                                          <div class="actionBtns action" actionObj="${JSON.stringify(actionbtn)}">\
                                          <i>\
                                          {{if actionbtn.image && actionbtn.image.image_type === "image" && actionbtn.image.image_src}}\
                                          <span class="wid-temp-btnImage"> \
                                              <img alt="image" src="${actionbtn.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                          </span> \
                                          {{/if}} \
                                          </i>${actionbtn.title}</div>\
                                        {{/if}}\
                                      {{/if}}\
                              {{/each}}\
                              {{if (msgItem.buttonsLayout && msgItem.buttonsLayout.displayLimit && msgItem.buttonsLayout.displayLimit.count && (msgItem.buttons.length > msgItem.buttonsLayout.displayLimit.count)) || (!msgItem.buttonsLayout && msgItem.buttons.length > 2) || (msgItem.buttonsLayout && !msgItem.buttonsLayout.displayLimit && msgItem.buttons.length > 2) || (msgItem.buttonsLayout && msgItem.buttonsLayout.displayLimit && !msgItem.buttonsLayout.displayLimit.count && msgItem.buttons.length > 2)}}\
                              {{if (msgItem.buttonsLayout && msgItem.buttonsLayout.displayLimit && msgItem.buttonsLayout.displayLimit.count && (msgItem.buttons.length > msgItem.buttonsLayout.displayLimit.count)) || (!msgItem.buttonsLayout && msgItem.buttons.length > 3) || (msgItem.buttonsLayout && !msgItem.buttonsLayout.displayLimit && msgItem.buttons.length > 3) || (msgItem.buttonsLayout && msgItem.buttonsLayout.displayLimit && !msgItem.buttonsLayout.displayLimit.count && msgItem.buttons.length > 3)}}\
                                <div class="dropbtnWidgt actionBtns" style="margin:0;margin-top: 0px;top: unset;" onclick="showDropdown(this)">... More</div>\
                                <ul  class="dropdown-contentWidgt" style="list-style:none;">\
                                  {{each(key, actionbtn) msgItem.buttons}} \
                                   {{if key >= 2}}\
                                          <li class="dropdown-item action" href="javascript:void(0)" actionObj="${JSON.stringify(actionbtn)}">\
                                          <i>\
                                          {{if actionbtn.image && actionbtn.image.image_type === "image" && actionbtn.image.image_src}}\
                                          <span class="wid-temp-btnImage"> \
                                              <img alt="image" src="${actionbtn.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                          </span> \
                                          {{/if}} \
                                          </i>${actionbtn.title}</li>\
                                   {{/if}}\
                                  {{/each}}\
                                </ul>\
                              {{/if}}\
                              {{if ((msgItem.buttonsLayout && msgItem.buttonsLayout.displayLimit && !msgItem.buttonsLayout.displayLimit.count) || (!msgItem.buttonsLayout) ) && msgItem.buttons.length === 3}}\
                              {{each(key, actionbtn) msgItem.buttons}}\
                               {{if key === 2 }}\
                                {{if actionbtn.title}}\
                                  <div class="actionBtns action" actionObj="${JSON.stringify(actionbtn)}">\
                                  <i>\
                                  {{if actionbtn.image && actionbtn.image.image_type === "image" && actionbtn.image.image_src}}\
                                  <span class="wid-temp-btnImage"> \
                                      <img alt="image" src="${actionbtn.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                  </span> \
                                  {{/if}} \
                                  </i>${actionbtn.title}</div>\
                                {{/if}}\
                                 {{/if}}\
                               {{/each}}\
                              {{/if}}\
                            {{/if}}\
                          </div>\
                          {{/if}}\
                        </li> \
                        {{/if}}\
                       {{/each}} \
                      </ul> \
              <div style="clear:both"></div>\
              {{if dataItems && dataItems.length > 3 && viewmore}} \
                  <div class="listViewMore" onclick="viewMorePanel(\'${JSON.stringify(panelDetail)}\')"><span class="seeMoreText">See more <span class="see-more"></span></span></div>\
              {{/if}}\
              {{if dataItems && dataItems.length === 0}}\
                  <div class="noContent">\
                      <img class="img img-fluid" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNzEiIGhlaWdodD0iNjMiIHZpZXdCb3g9IjAgMCAxNzEgNjMiPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBmaWxsPSIjRTVFOEVDIj4KICAgICAgICAgICAgPHJlY3Qgd2lkdGg9IjEzMSIgaGVpZ2h0PSIxMiIgeD0iMzkiIHk9IjUiIHJ4PSIyIi8+CiAgICAgICAgICAgIDxyZWN0IHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgcng9IjIiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgZmlsbD0iI0U1RThFQyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCA0MSkiPgogICAgICAgICAgICA8cmVjdCB3aWR0aD0iMTMxIiBoZWlnaHQ9IjEyIiB4PSIzOSIgeT0iNSIgcng9IjIiLz4KICAgICAgICAgICAgPHJlY3Qgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiByeD0iMiIvPgogICAgICAgIDwvZz4KICAgICAgICA8cGF0aCBzdHJva2U9IiNFNUU4RUMiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIHN0cm9rZS13aWR0aD0iLjciIGQ9Ik0uNSAzMS41aDE3MCIvPgogICAgPC9nPgo8L3N2Zz4K" width="118px" height="118px" style="margin-top:15px;">\
                      <div class="col-12 rmpmW nodataTxt">No Data</div>\
                  </div>\
              {{/if}}\
                    </div>\
                 {{/if}}\
                </div>\
             </script>';var barChartTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
             <div class="bar-chart-template">\
               <div class="tab-list-template" mainObj="${JSON.stringify(tempdata)}">\
                 {{if tempdata}} \
                   <div class="listTemplateContainer">\
                   {{if tempdata.tabs && tabs.length}} \
                     <div class="tabsContainer">\
                       {{each(key, tab) tabs}} \
                       <span class="tabs" data-tabid="${tab}" ><span class="btnBG">${tab}</span></span>\
                       {{/each}}\
                     </div>\
                   {{/if}} \
                     <ul class="displayListValues">\
                       <li class="listViewTmplContentChild"> \
                         <div class="listViewTmplContentChildRow">\
                         {{if tempdata.image && tempdata.image.image_type === "image"}} \
                                 <div class="listViewRightContent"> \
                                     <img alt="image" src="${tempdata.image.namespace}" onerror="this.onerror=null;this.src=\'../libs/img/no_image.png\';"/> \
                                 </div> \
                         {{/if}} \
                         <div class="listViewLeftContent"> \
                               <div class="barchartDiv">\
                                       <div class="wiz-header-buttons hide">\
                                         {{if tempdata.buttons && tempdata.buttons.length > 1}} \
                                           <i  class="icon-More dropbtnWidgt moreValue"  onclick="showDropdown(this)">... More</i>\
                                           <ul  class="dropdown-contentWidgt  rmpmW moreValueContent" style="list-style:none;">\
                                             {{each(key, actionbtnli) tempdata.buttons}} \
                                                   <li class="dropdown-item action" actionObj="${JSON.stringify(actionbtnli)}">\
                                                 <i>\
                                                 {{if actionbtnli.image && actionbtnli.image.image_type === "image" && actionbtnli.image.image_src}}\
                                                 <span class="wid-temp-btnImage"> \
                                                 <img alt="image" src="${actionbtnli.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                                 </span> \
                                                 {{/if}} \
                                                 </i>${actionbtnli.title}</li>\
                                             {{/each}}\
                                           </ul>\
                                         {{/if}}\
                                         {{if tempdata.buttons && tempdata.buttons.length === 1}} \
                                             {{each(key, actionbtnli) tempdata.buttons}} \
                                                 <a class="dropdown-item action" actionObj="${JSON.stringify(actionbtnli)}">\
                                                     {{if actionbtnli.image && actionbtnli.image.image_type === "image" && actionbtnli.image.image_src}}\
                                                       <i>\
                                                         <span class="wid-temp-btnImage"> \
                                                             <img alt="image" src="${actionbtnli.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                                         </span> \
                                                       </i>\
                                                     {{/if}} \
                                                     {{if actionbtnli.title}}\
                                                       ${actionbtnli.title}\
                                                     {{/if}}\
                                                 </a>\
                                             {{/each}}\
                                         {{/if}}\
                                       </div>\
                               </div>\
                               <div class="" id="barchart"></div>\
                               {{if tempdata.value && tempdata.value.type=="text"}}<div class="listViewItemValue">${tempdata.value.text}</div>{{/if}} \
                               {{if tempdata.value && tempdata.value.type=="button"}}\
                                   {{if tempdata.value && tempdata.value.buttons && tempdata.value.buttons.length > 1}} \
                                     <i  class="icon-More dropbtnWidgt moreValue"  onclick="showDropdown(this)">... More</i>\
                                     <ul  class="dropdown-contentWidgt  rmpmW moreValueContent" style="list-style:none;">\
                                       {{each(key, actionbtnli) tempdata.value.buttons}} \
                                             <li class="dropdown-item action" actionObj="${JSON.stringify(actionbtnli)}">\
                                           <i>\
                                           {{if actionbtnli.image && actionbtnli.image.image_type === "image" && actionbtnli.image.image_src}}\
                                           <span class="wid-temp-btnImage"> \
                                               <img alt="image" src="${actionbtnli.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                           </span> \
                                           {{/if}} \
                                           </i>${actionbtnli.title}</li>\
                                       {{/each}}\
                                     </ul>\
                                   {{/if}}\
                                   {{if tempdata.value && tempdata.value.buttons && tempdata.value.buttons.length === 1}} \
                                     <div class="viewMore action" actionObj="${JSON.stringify(tempdata.value.buttons[0])}" >${tempdata.value.buttons[0].title}</div>\
                                   {{/if}}\
                               {{/if}} \
                         </div>\
                         </div>\
                         {{if tempdata.content && tempdata.content.length}} \
                         <div class="tabListViewDiscription">\
                           {{each(key, content) tempdata.content}} \
                             {{if key < 3 }}\
                               <div class="wid-temp-contentDiv">\
                                 {{if content.image && content.image.image_type === "image"}} \
                                     <span class="wid-temp-discImage"> \
                                         <img alt="image" src="${content.image.image_src}" onerror="this.onerror=null;this.src=\'../libs/img/no_image.png\';"/> \
                                     </span> \
                                 {{/if}} \
                                 {{if content.description}} \
                                   <span class="wid-temp-discription">${content.description}</span>\
                                 {{/if}} \
                                 {{if ((key===2) || ((tempdata.content.length < 3) && (key===tempdata.content.length-1))) && (tempdata.buttons && tempdata.buttons.length)}} \
                                 <span class="wid-temp-showActions">\
                                 </span>\
                                 {{/if}} \
                               </div>\
                             {{/if}}\
                           {{/each}}\
                           {{if tempdata.content.length > 3}}\
                           <span class="wid-temp-showMore" id="showMoreContents">Show more <img src="libs/images/show-more.svg" class="show-more"></span>\
                           {{/if}}\
                         </div>\
                         <div class="wid-temp-showMoreBottom hide">\
                         <div class="headerTitleMore">MORE<span class="wid-temp-showMoreClose"><img src="libs/images/closeCross.png" class="closeCross"></span></div>\
                           {{each(key, content) tempdata.content}} \
                             <div class="wid-temp-contentDiv">\
                               {{if content.image && content.image.image_type === "image"}}\
                                     <span class="wid-temp-discImage"> \
                                         <img alt="image" src="${content.image.image_src}" onerror="this.onerror=null;this.src=\'../libs/img/no_image.png\';"/> \
                                     </span> \
                               {{/if}} \
                               {{if content.description}} \
                                   <span class="wid-temp-discription">${content.description}</span>\
                               {{/if}} \
                             </div>\
                           {{/each}}\
                         </div>\
                         {{/if}}\
                         {{if (tempdata.buttons && tempdata.buttons.length)}} \
                         <div class="meetingActionButtons {{if ((tempdata.content && tempdata.content.length))}}hide{{/if}}">\
                             {{each(key, actionbtn) tempdata.buttons}}\
                                     {{if key < 2 }}\
                                       {{if actionbtn.title}}\
                                         <div class="actionBtns action" actionObj="${JSON.stringify(actionbtn)}">\
                                         <i>\
                                         {{if actionbtn.image && actionbtn.image.image_type === "image" && actionbtn.image.image_src}}\
                                         <span class="wid-temp-btnImage"> \
                                             <img alt="image" src="${actionbtn.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                         </span> \
                                         {{/if}} \
                                         </i>${actionbtn.title}</div>\
                                       {{/if}}\
                                     {{/if}}\
                             {{/each}}\
                             {{if tempdata.buttons && (tempdata.buttons.length > 2)}}\
                             {{if tempdata.buttons && tempdata.buttons.length > 2}}\
                               <div class="dropbtnWidgt actionBtns" style="margin:0;margin-top: 0px;top: unset;" onclick="showDropdown(this)">... More</div>\
                               <ul  class="dropdown-contentWidgt" style="list-style:none;">\
                                 {{each(key, actionbtn) tempdata.buttons}} \
                                 {{if key >= 2}}\
                                         <li class="dropdown-item action" href="javascript:void(0)" actionObj="${JSON.stringify(actionbtn)}">\
                                         <i>\
                                         {{if actionbtn.image && actionbtn.image.image_type === "image" && actionbtn.image.image_src}}\
                                         <span class="wid-temp-btnImage"> \
                                             <img alt="image" src="${actionbtn.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                         </span> \
                                         {{/if}} \
                                         </i>${actionbtn.title}</li>\
                                 {{/if}}\
                                 {{/each}}\
                               </ul>\
                             {{/if}}\
                             {{if tempdata.buttons && tempdata.buttons.length === 7}}\
                             {{if key === 7}}\
                                 <div  class="actionBtns action" href="javascript:void(0)" actionObj="${JSON.stringify(actionbtn)}" mainObj="${JSON.stringify(msgItem)}">\
                                 <i>\
                                   {{if actionbtn.image && actionbtn.image.image_type === "image" && actionbtn.image.image_src}}\
                                         <span class="wid-temp-btnImage"> \
                                             <img alt="image" src="${actionbtn.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                         </span> \
                                   {{/if}} \
                                   </i>${actionbtn.title}</div>\
                             {{/if}}\
                             {{/if}}\
                           {{/if}}\
                         </div>\
                         {{/if}}\
                       </li> \
                     </ul> \
                   </div>\
               {{/if}}\
               </div>\
             </div>\
           </scipt>';var lineChartTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
            <div class="line-chart-template">\
              <div class="tab-list-template" mainObj="${JSON.stringify(tempdata)}">\
                {{if tempdata}} \
                  <div class="listTemplateContainer">\
                  {{if tempdata.tabs && tabs.length}} \
                    <div class="tabsContainer">\
                      {{each(key, tab) tabs}} \
                      <span class="tabs" data-tabid="${tab}" ><span class="btnBG">${tab}</span></span>\
                      {{/each}}\
                    </div>\
                  {{/if}} \
                    <ul class="displayListValues">\
                      <li class="listViewTmplContentChild"> \
                        <div class="listViewTmplContentChildRow">\
                        {{if tempdata.image && tempdata.image.image_type === "image"}} \
                                <div class="listViewRightContent"> \
                                    <img alt="image" src="${tempdata.image.image_src}" onerror="this.onerror=null;this.src=\'../libs/img/no_image.png\';"/> \
                                </div> \
                        {{/if}} \
                        <div class="listViewLeftContent"> \
                              <div class="linechartDiv">\
                                      <div class="wiz-header-buttons hide">\
                                        {{if tempdata.buttons && tempdata.buttons.length > 1}} \
                                          <i  class="icon-More dropbtnWidgt moreValue"  onclick="showDropdown(this)">... More</i>\
                                          <ul  class="dropdown-contentWidgt  rmpmW moreValueContent" style="list-style:none;">\
                                            {{each(key, actionbtnli) tempdata.buttons}} \
                                                  <li class="dropdown-item action" actionObj="${JSON.stringify(actionbtnli)}">\
                                                <i>\
                                                {{if actionbtnli.image && actionbtnli.image.image_type === "image" && actionbtnli.image.image_src}}\
                                                <span class="wid-temp-btnImage"> \
                                                <img alt="image" src="${actionbtnli.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                                </span> \
                                                {{/if}} \
                                                </i>${actionbtnli.title}</li>\
                                            {{/each}}\
                                          </ul>\
                                        {{/if}}\
                                        {{if tempdata.buttons && tempdata.buttons.length === 1}} \
                                            {{each(key, actionbtnli) tempdata.buttons}} \
                                                <a class="dropdown-item action" actionObj="${JSON.stringify(actionbtnli)}">\
                                                    {{if actionbtnli.image && actionbtnli.image.image_type === "image" && actionbtnli.image.image_src}}\
                                                      <i>\
                                                        <span class="wid-temp-btnImage"> \
                                                            <img alt="image" src="${actionbtnli.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                                        </span> \
                                                      </i>\
                                                    {{/if}} \
                                                    {{if actionbtnli.title}}\
                                                      ${actionbtnli.title}\
                                                    {{/if}}\
                                                </a>\
                                            {{/each}}\
                                        {{/if}}\
                                      </div>\
                              </div>\
                              <div class="" id="linechart"></div>\
                              {{if tempdata.value && tempdata.value.type=="text"}}<div class="listViewItemValue">${tempdata.value.text}</div>{{/if}} \
                              {{if tempdata.value && tempdata.value.type=="button"}}\
                                  {{if tempdata.value && tempdata.value.buttons && tempdata.value.buttons.length > 1}} \
                                    <i  class="icon-More dropbtnWidgt moreValue"  onclick="showDropdown(this)">... More</i>\
                                    <ul  class="dropdown-contentWidgt  rmpmW moreValueContent" style="list-style:none;">\
                                      {{each(key, actionbtnli) tempdata.value.buttons}} \
                                            <li class="dropdown-item action" actionObj="${JSON.stringify(actionbtnli)}">\
                                          <i>\
                                          {{if actionbtnli.image && actionbtnli.image.image_type === "image" && actionbtnli.image.image_src}}\
                                          <span class="wid-temp-btnImage"> \
                                              <img alt="image" src="${actionbtnli.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                          </span> \
                                          {{/if}} \
                                          </i>${actionbtnli.title}</li>\
                                      {{/each}}\
                                    </ul>\
                                  {{/if}}\
                                  {{if tempdata.value && tempdata.value.buttons && tempdata.value.buttons.length === 1}} \
                                    <div class="viewMore action" actionObj="${JSON.stringify(tempdata.value.buttons[0])}" >${tempdata.value.buttons[0].title}</div>\
                                  {{/if}}\
                              {{/if}} \
                        </div>\
                        </div>\
                        {{if tempdata.details && tempdata.details.length}} \
                        <div class="tabListViewDiscription">\
                          {{each(key, content) tempdata.details}} \
                            {{if key < 3 }}\
                              <div class="wid-temp-contentDiv">\
                                {{if content.image && content.image.image_type === "image"}} \
                                    <span class="wid-temp-discImage"> \
                                        <img alt="image" src="${content.image.image_src}" onerror="this.onerror=null;this.src=\'../libs/img/no_image.png\';"/> \
                                    </span> \
                                {{/if}} \
                                {{if content.description}} \
                                  <span class="wid-temp-discription">${content.description}</span>\
                                {{/if}} \
                                {{if ((key===2) || ((tempdata.details.length < 3) && (key===tempdata.details.length-1))) && (tempdata.buttons && tempdata.buttons.length)}} \
                                <span class="wid-temp-showActions">\
                                </span>\
                                {{/if}} \
                              </div>\
                            {{/if}}\
                          {{/each}}\
                          {{if tempdata.details.length > 3}}\
                          <span class="wid-temp-showMore" id="showMoreContents">Show more <img src="libs/images/show-more.svg" class="show-more"></span>\
                          {{/if}}\
                        </div>\
                        <div class="wid-temp-showMoreBottom hide">\
                        <div class="headerTitleMore">MORE<span class="wid-temp-showMoreClose"><img src="libs/images/closeCross.png" class="closeCross"></span></div>\
                          {{each(key, content) tempdata.details}} \
                            <div class="wid-temp-contentDiv">\
                              {{if content.image && content.image.image_type === "image"}}\
                                    <span class="wid-temp-discImage"> \
                                        <img alt="image" src="${content.image.image_src}" onerror="this.onerror=null;this.src=\'../libs/img/no_image.png\';"/> \
                                    </span> \
                              {{/if}} \
                              {{if content.description}} \
                                  <span class="wid-temp-discription">${content.description}</span>\
                              {{/if}} \
                            </div>\
                          {{/each}}\
                        </div>\
                        {{/if}}\
                        {{if (tempdata.buttons && tempdata.buttons.length)}} \
                        <div class="meetingActionButtons {{if ((tempdata.details && tempdata.details.length))}}hide{{/if}}">\
                            {{each(key, actionbtn) tempdata.buttons}}\
                                    {{if key < 2 }}\
                                      {{if actionbtn.title}}\
                                        <div class="actionBtns action" actionObj="${JSON.stringify(actionbtn)}">\
                                        <i>\
                                        {{if actionbtn.image && actionbtn.image.image_type === "image" && actionbtn.image.image_src}}\
                                        <span class="wid-temp-btnImage"> \
                                            <img alt="image" src="${actionbtn.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                        </span> \
                                        {{/if}} \
                                        </i>${actionbtn.title}</div>\
                                      {{/if}}\
                                    {{/if}}\
                            {{/each}}\
                            {{if tempdata.buttons && (tempdata.buttons.length > 2)}}\
                            {{if tempdata.buttons && tempdata.buttons.length > 2}}\
                              <div class="dropbtnWidgt actionBtns" style="margin:0;margin-top: 0px;top: unset;" onclick="showDropdown(this)">... More</div>\
                              <ul  class="dropdown-contentWidgt" style="list-style:none;">\
                                {{each(key, actionbtn) tempdata.buttons}} \
                                {{if key >= 2}}\
                                        <li class="dropdown-item action" href="javascript:void(0)" actionObj="${JSON.stringify(actionbtn)}">\
                                        <i>\
                                        {{if actionbtn.image && actionbtn.image.image_type === "image" && actionbtn.image.image_src}}\
                                        <span class="wid-temp-btnImage"> \
                                            <img alt="image" src="${actionbtn.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                        </span> \
                                        {{/if}} \
                                        </i>${actionbtn.title}</li>\
                                {{/if}}\
                                {{/each}}\
                              </ul>\
                            {{/if}}\
                            {{if tempdata.buttons && tempdata.buttons.length === 7}}\
                            {{if key === 7}}\
                                <div  class="actionBtns action" href="javascript:void(0)" actionObj="${JSON.stringify(actionbtn)}" mainObj="${JSON.stringify(msgItem)}">\
                                <i>\
                                  {{if actionbtn.image && actionbtn.image.image_type === "image" && actionbtn.image.image_src}}\
                                        <span class="wid-temp-btnImage"> \
                                            <img alt="image" src="${actionbtn.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                        </span> \
                                  {{/if}} \
                                  </i>${actionbtn.title}</div>\
                            {{/if}}\
                            {{/if}}\
                          {{/if}}\
                        </div>\
                        {{/if}}\
                      </li> \
                    </ul> \
                  </div>\
              {{/if}}\
              </div>\
            </div>\
         </scipt>';var pieChartTemplate='<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \
                <div class="pie-chart-template">\
                  <div class="tab-list-template" mainObj="${JSON.stringify(tempdata)}">\
                    {{if tempdata}} \
                      <div class="listTemplateContainer">\
                      {{if tempdata.tabs && tabs.length}} \
                        <div class="tabsContainer">\
                          {{each(key, tab) tabs}} \
                          <span class="tabs" data-tabid="${tab}" ><span class="btnBG">${tab}</span></span>\
                          {{/each}}\
                        </div>\
                      {{/if}} \
                        <ul class="displayListValues">\
                          <li class="listViewTmplContentChild"> \
                            <div class="listViewTmplContentChildRow">\
                            {{if tempdata.image && tempdata.image.image_type === "image"}} \
                                    <div class="listViewRightContent"> \
                                        <img alt="image" src="${tempdata.image.image_src}" onerror="this.onerror=null;this.src=\'../libs/img/no_image.png\';"/> \
                                    </div> \
                            {{/if}} \
                            <div class="listViewLeftContent"> \
                                  <div class="piechartDiv">\
                                          <div class="wiz-header-buttons hide">\
                                            {{if tempdata.buttons && tempdata.buttons.length > 1}} \
                                              <i  class="icon-More dropbtnWidgt moreValue"  onclick="showDropdown(this)">... More</i>\
                                              <ul  class="dropdown-contentWidgt  rmpmW moreValueContent" style="list-style:none;">\
                                                {{each(key, actionbtnli) tempdata.buttons}} \
                                                      <li class="dropdown-item action" actionObj="${JSON.stringify(actionbtnli)}">\
                                                    <i>\
                                                    {{if actionbtnli.image && actionbtnli.image.image_type === "image" && actionbtnli.image.image_src}}\
                                                    <span class="wid-temp-btnImage"> \
                                                    <img alt="image" src="${actionbtnli.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                                    </span> \
                                                    {{/if}} \
                                                    </i>${actionbtnli.title}</li>\
                                                {{/each}}\
                                              </ul>\
                                            {{/if}}\
                                            {{if tempdata.buttons && tempdata.buttons.length === 1}} \
                                                {{each(key, actionbtnli) tempdata.buttons}} \
                                                    <a class="dropdown-item action" actionObj="${JSON.stringify(actionbtnli)}">\
                                                        {{if actionbtnli.image && actionbtnli.image.image_type === "image" && actionbtnli.image.image_src}}\
                                                          <i>\
                                                            <span class="wid-temp-btnImage"> \
                                                                <img alt="image" src="${actionbtnli.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                                            </span> \
                                                          </i>\
                                                        {{/if}} \
                                                        {{if actionbtnli.title}}\
                                                          ${actionbtnli.title}\
                                                        {{/if}}\
                                                    </a>\
                                                {{/each}}\
                                            {{/if}}\
                                          </div>\
                                  </div>\
                                  <div class="" id="piechart"></div>\
                                  {{if tempdata.value && tempdata.value.type=="text"}}<div class="listViewItemValue">${tempdata.value.text}</div>{{/if}} \
                                  {{if tempdata.value && tempdata.value.type=="button"}}\
                                      {{if tempdata.value && tempdata.value.buttons && tempdata.value.buttons.length > 1}} \
                                        <i  class="icon-More dropbtnWidgt moreValue"  onclick="showDropdown(this)">... More</i>\
                                        <ul  class="dropdown-contentWidgt  rmpmW moreValueContent" style="list-style:none;">\
                                          {{each(key, actionbtnli) tempdata.value.buttons}} \
                                                <li class="dropdown-item action" actionObj="${JSON.stringify(actionbtnli)}">\
                                              <i>\
                                              {{if actionbtnli.image && actionbtnli.image.image_type === "image" && actionbtnli.image.image_src}}\
                                              <span class="wid-temp-btnImage"> \
                                                  <img alt="image" src="${actionbtnli.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                              </span> \
                                              {{/if}} \
                                              </i>${actionbtnli.title}</li>\
                                          {{/each}}\
                                        </ul>\
                                      {{/if}}\
                                      {{if tempdata.value && tempdata.value.buttons && tempdata.value.buttons.length === 1}} \
                                        <div class="viewMore action" actionObj="${JSON.stringify(tempdata.value.buttons[0])}" >${tempdata.value.buttons[0].title}</div>\
                                      {{/if}}\
                                  {{/if}} \
                            </div>\
                            </div>\
                            {{if tempdata.details && tempdata.details.length}} \
                            <div class="tabListViewDiscription">\
                              {{each(key, content) tempdata.details}} \
                                {{if key < 3 }}\
                                  <div class="wid-temp-contentDiv">\
                                    {{if content.image && content.image.image_type === "image"}} \
                                        <span class="wid-temp-discImage"> \
                                            <img alt="image" src="${content.image.image_src}" onerror="this.onerror=null;this.src=\'../libs/img/no_image.png\';"/> \
                                        </span> \
                                    {{/if}} \
                                    {{if content.description}} \
                                      <span class="wid-temp-discription">${content.description}</span>\
                                    {{/if}} \
                                    {{if ((key===2) || ((tempdata.details.length < 3) && (key===tempdata.details.length-1))) && (tempdata.buttons && tempdata.buttons.length)}} \
                                    <span class="wid-temp-showActions">\
                                    </span>\
                                    {{/if}} \
                                  </div>\
                                {{/if}}\
                              {{/each}}\
                              {{if tempdata.details.length > 3}}\
                              <span class="wid-temp-showMore" id="showMoreContents">Show more <img src="libs/images/show-more.svg" class="show-more"></span>\
                              {{/if}}\
                            </div>\
                            <div class="wid-temp-showMoreBottom hide">\
                            <div class="headerTitleMore">MORE<span class="wid-temp-showMoreClose"><img src="libs/images/closeCross.png" class="closeCross"></span></div>\
                            <div class="moreItemsScroll">\
                            {{each(key, content) tempdata.details}} \
                                <div class="wid-temp-contentDiv">\
                                  {{if content.image && content.image.image_type === "image"}}\
                                        <span class="wid-temp-discImage"> \
                                            <img alt="image" src="${content.image.image_src}" onerror="this.onerror=null;this.src=\'../libs/img/no_image.png\';"/> \
                                        </span> \
                                  {{/if}} \
                                  {{if content.description}} \
                                      <span class="wid-temp-discription">${content.description}</span>\
                                  {{/if}} \
                                </div>\
                              {{/each}}\
                            </div>\
                            </div>\
                            {{/if}}\
                            {{if (tempdata.buttons && tempdata.buttons.length)}} \
                            <div class="meetingActionButtons {{if ((tempdata.details && tempdata.details.length))}}hide{{/if}}">\
                                {{each(key, actionbtn) tempdata.buttons}}\
                                        {{if key < 2 }}\
                                          {{if actionbtn.title}}\
                                            <div class="actionBtns action" actionObj="${JSON.stringify(actionbtn)}">\
                                            <i>\
                                            {{if actionbtn.image && actionbtn.image.image_type === "image" && actionbtn.image.image_src}}\
                                            <span class="wid-temp-btnImage"> \
                                                <img alt="image" src="${actionbtn.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                            </span> \
                                            {{/if}} \
                                            </i>${actionbtn.title}</div>\
                                          {{/if}}\
                                        {{/if}}\
                                {{/each}}\
                                {{if tempdata.buttons && (tempdata.buttons.length > 2)}}\
                                {{if tempdata.buttons && tempdata.buttons.length > 2}}\
                                  <div class="dropbtnWidgt actionBtns" style="margin:0;margin-top: 0px;top: unset;" onclick="showDropdown(this)">... More</div>\
                                  <ul  class="dropdown-contentWidgt" style="list-style:none;">\
                                    {{each(key, actionbtn) tempdata.buttons}} \
                                    {{if key >= 2}}\
                                            <li class="dropdown-item action" href="javascript:void(0)" actionObj="${JSON.stringify(actionbtn)}">\
                                            <i>\
                                            {{if actionbtn.image && actionbtn.image.image_type === "image" && actionbtn.image.image_src}}\
                                            <span class="wid-temp-btnImage"> \
                                                <img alt="image" src="${actionbtn.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                            </span> \
                                            {{/if}} \
                                            </i>${actionbtn.title}</li>\
                                    {{/if}}\
                                    {{/each}}\
                                  </ul>\
                                {{/if}}\
                                {{if tempdata.buttons && tempdata.buttons.length === 7}}\
                                {{if key === 7}}\
                                    <div  class="actionBtns action" href="javascript:void(0)" actionObj="${JSON.stringify(actionbtn)}" mainObj="${JSON.stringify(msgItem)}">\
                                    <i>\
                                      {{if actionbtn.image && actionbtn.image.image_type === "image" && actionbtn.image.image_src}}\
                                            <span class="wid-temp-btnImage"> \
                                                <img alt="image" src="${actionbtn.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                            </span> \
                                      {{/if}} \
                                      </i>${actionbtn.title}</div>\
                                {{/if}}\
                                {{/if}}\
                              {{/if}}\
                            </div>\
                            {{/if}}\
                          </li> \
                        </ul> \
                      </div>\
                  {{/if}}\
                  </div>\
                </div>\
             </scipt>';var ActionItems='<script> \
              {{if tempdata && tempdata.displayLimit && tempdata.displayLimit.displayAs === "inline" }} \
                <div class="actionItemsParentDiv" mainObj="${JSON.stringify(tempdata)}"> \
                  <div class="actionItemsHeader"> \
                    <div class="actionItemHeading">${tempdata.heading}</div> \
                    {{if tempdata && tempdata.text}} \
                      <span class="actionItemText">${tempdata.text}</span> \
                    {{/if}} \
                  </div> \
                  {{if tempdata && tempdata.buttons && tempdata.buttons.length}} \
                    <div class="actionItemBody"> \
                      {{each(key, actionbtn) tempdata.actionItems}} \
                        <span class = "actionBtnTitle {{if key<tempdata.displayLimit.count}} show {{else}} hide {{/if}}" actionObj="${JSON.stringify(actionbtn)}">${actionbtn.title}</span> \
                      {{/each}} \
                      <span class="hasMoreActionItems"> + ${tempdata.actionItems.length - tempdata.displayLimit.count} More</span> \
                    </div> \
                  {{/if}} \
                </div> \
              {{/if}} \
            </script>';var TableList='<script> \
                        <div class="listTableContainerDiv">\
                        <div class="listTableContainerDivRepet">\
                        <div class="listTableContainer">\
                        {{each(index,record) tempdata.records}}\
                                <div class="listTableDetailsBorderDiv">\
                                        <div class="listTableDetails">\
                                            <p class="listTableDetailsTitle">${record.sectionHeader}</p>\
                                {{each(index,msgItem) record.elements}}\
                                            <div class="listTableDetailsDesc {{if msgItem.image && msgItem.image.size==="medium"}}mediumImg{{/if}}" {{if msgItem.image && msgItem.image.size==="large"}}mediumImg{{/if}}" {{if msgItem.image && msgItem.image.size==="small"}}smallImg{{/if}}">\
                                              {{if msgItem && msgItem.image && msgItem.image.image_type && msgItem.image.image_src}}\
                                                <div class="listTableBigImgConytainer">\
                                                  {{if msgItem.image.image_type === "image"}}\
                                                      <img src="${msgItem.image.image_src}">\
                                                  {{/if}}\
                                                  {{if msgItem.image.image_type === "fontawesome"}}\
                                                      <i class="fa {{msgItem.image.image_src}}" ></i>\
                                                  {{/if}}\
                                                </div>\
                                              {{/if}}\
                                                <div class="listTableDetailsDescSub ">\
                                                    <p class="listTableDetailsDescName">${msgItem.title}</p>\
                                                    <p class="listTableDetailsDescValue">${msgItem.subtitle}</p>\
                                                </div>\
                                                  {{if (msgItem.value && msgItem.value.type === "text" && msgItem.value.text)}}\
                                                    <div class="titleActions {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}} style="width:${msgItem.value.layout.colSize};"{{/if}} {{if msgItem.value && msgItem.value.layout && msgItem.value.color}} style="color:${msgItem.value.layout.color};"{{/if}}>\
                                                        <div class="listViewItemValue {{if !msgItem.subtitle}}top10{{/if}}">${msgItem.value.text}</div>\
                                                    </div>\
                                                  {{/if}}\
                                                  {{if (msgItem.value && msgItem.value.type === "image" && msgItem.value.image && msgItem.value.image.image_src)}}\
                                                    <div actionObj="${JSON.stringify(msgItem.value.image)}" class="titleActions imageValue action {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}} style="width:${msgItem.value.layout.colSize};"{{/if}}>\
                                                        {{if msgItem.value.image && msgItem.value.image.image_type === "image" && msgItem.value.image.image_src}}\
                                                            <span class="wid-temp-btnImage"> \
                                                                <img alt="image" src="${msgItem.value.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                                            </span> \
                                                        {{/if}}\
                                                    </div>\
                                                  {{/if}}\
                                                  {{if (msgItem.value && msgItem.value.type === "url" && msgItem.value.url && msgItem.value.url.title)}}\
                                                    <div class="titleActions {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}} style="width:${msgItem.value.layout.colSize};"{{/if}}>\
                                                        <div actionObj="${JSON.stringify(msgItem.value.url)}" class="listViewItemValue actionLink action {{if !msgItem.subtitle}}top10{{/if}}">${msgItem.value.url.title}</div>\
                                                    </div>\
                                                  {{/if}}\
                                                  {{if msgItem.value && msgItem.value.type=="button" && msgItem.value.button && (msgItem.value.button.title || (msgItem.value.button.image && msgItem.value.button.image.image_src))}}\
                                                    <div class="titleActions {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}}style="width:${msgItem.value.layout.colSize};"{{/if}}>\
                                                        <div class="actionBtns action singleBTN {{if !msgItem.value.button.title && (msgItem.value.button.image && msgItem.value.button.image.image_src)}}padding5{{/if}}" actionObj="${JSON.stringify(msgItem.value.button)}">\
                                                            {{if msgItem.value.button.image && msgItem.value.button.image.image_type === "image" && msgItem.value.button.image.image_src}}\
                                                                    <span class="wid-temp-btnImage"> \
                                                                        <img alt="image" src="${msgItem.value.button.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                                                    </span> \
                                                            {{/if}}\
                                                            {{if msgItem.value.button.title}}\
                                                            ${msgItem.value.button.title}\
                                                            {{/if}}\
                                                        </div>\
                                                    </div>\
                                                  {{/if}}\
                                                  {{if msgItem.value && msgItem.value.type=="menu" && msgItem.value.menu && msgItem.value.menu.length}}\
                                                  <div class="titleActions {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}}style="width:${msgItem.value.layout.colSize};"{{/if}}>\
                                                      <i class="icon-More dropbtnWidgt moreValue"  onclick="showDropdown(this)"></i>\
                                                          <ul  class="dropdown-contentWidgt  rmpmW moreValueContent" style="list-style:none;">\
                                                            {{each(key, actionbtnli) msgItem.value.menu}} \
                                                                  <li class="dropdown-item action" actionObj="${JSON.stringify(actionbtnli)}">\
                                                                <i>\
                                                                {{if actionbtnli.image && actionbtnli.image.image_type === "image" && msgItem.image.image_src}}\
                                                                <span class="wid-temp-btnImage"> \
                                                                    <img alt="image" src="${actionbtnli.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \
                                                                </span> \
                                                                {{/if}} \
                                                                </i>${actionbtnli.title}</li>\
                                                            {{/each}}\
                                                          </ul>\
                                                  </div>\
                                                  {{/if}}\
                                            </div>\
                                {{/each}}\
                                        </div>\
                                </div>\
                        {{/each}}\
                        </div>\
                        {{if tempdata.records && tempdata.records.length > 3 && viewmore}} \
                            <div class="seeMoreFooter">\
                                <span class="seeMoreLink" onclick="viewMorePanel(\'${JSON.stringify(panelDetail)}\')">Show more</span>\
                            </div>\
                        {{/if}}\
                        </div>\
                    </div>\
          </sript>';switch(type){case"menu":return menuTemplate;case"meetingTemplate":return meetingTemplate;case"tasksTemplate":return tasksTemplate;case"filesTemplate":return filesTemplate;case"defaultFilesTemplate":return defaultFilesTemplate;case"mainTemplate":return mainTemplate;case"viewMoreTemplate":return viewMoreTemplate;case"knowledgeTemplate":return knowledgeTemplate;case"announcementTemplate":return announcementTemplate;case"hashtagTemplate":return hashtagTemplate;case"skillsTemplate":return skillsTemplate;case"defaultTemplate":return defaultTemplate;case"popUpTemplate":return popUpTemplate;case"chartListTemplate":return chartListTemplate;case"errorTemplate":return errorTemplate;case"filterTemplate":return filterTemplate;case"filterOptionsTemplate":return filterOptionsTemplate;case"List":return List;case"pieChartTemplate":return pieChartTemplate;case"TabbedList":return List;case"ActionItems":return ActionItems;case"barChartTemplate":return barChartTemplate;case"lineChartTemplate":return lineChartTemplate;case"ErrorTemplate":return ErrorTemplate;case"AuthRequired":return AuthRequired;case"widgetHeader":return widgetHeader;case"TableList":return TableList;}};//********************original widgetTemplate.js ends */
//********************original widgetEvents.js end */
window.menuActiveTab="";var panel=["meetings","tasks","files","knowledge","announcement"];var oldPanelName;var editComponent={editComponentList:["AnnouncementformComponent","InfoshowformComponent","CreateNotesComponent"],editComponentSelector:{AnnouncementformComponent:"app-announcementform",InfoshowformComponent:"app-infoshowform",CreateNotesComponent:"app-createnotes"},selector:["app-announcementform","app-infoshowform","app-createnotes"]};var intializeOffset=0,pollingTimer="",viewMoreCntrScroll="",meetingTimeRef=[];var meetingArray=[];var _pingTimer,_pingTime=30000;var _disconnectBotTimer,_disconnectTime=900000;var indicatorTimer;var websockeRrefreshed=false;var mainTemplateBdr,localPanelDetail={},makeAPICall=true;var helpers={actionIcon:function actionIcon(actionbtndata){if(actionbtndata.type==="open_form"){return"icon-Take-notes";}else if(actionbtndata.type==="url"){return"icon-Go-out";}},updateMeetingTimer:function updateMeetingTimer(strTime,endDate,index,id){return true;},compareCurntTimeAndTimln_minutes:function compareCurntTimeAndTimln_minutes(strTime,endDate,type){if(strTime){var startDate=strTime;var sysDate=new Date().getTime();var stTimeline=startDate-sysDate;var minStartTime=Math.ceil(stTimeline/60000);var entTimeline;if(endDate){entTimeline=endDate-sysDate;}if(type==="textFormat"){var dayType=helpers.getTimeline(strTime,"fulldate","meetings");// today
if(dayType==="Happening Now"||dayType==="Later Today"||dayType==="Today"){if(minStartTime>0){//meeting is yet to start
var hoursTime=Math.floor(minStartTime/60);var minutePartsTime=minStartTime%60;if(minStartTime>60){return"In "+hoursTime+"h  "+minutePartsTime+"m";}else if(minStartTime<60){return"In "+minutePartsTime+"m";}}else if(minStartTime<=0){//meeting is in progress
return"Now";}}else if(dayType==="Tomorrow"){return"Tomorrow";}else if(dayType==="Yesterday"){if(minStartTime<0&&entTimeline>0){//meeting is in progress
return"Now";}return"xcac";}else{var givenDate=new Date(strTime);var timLnDateFormt=givenDate.getMonth()+"/"+(givenDate.getDate()+1)+"/"+givenDate.getFullYear();var currentDate=new Date();var currentDateFormt=currentDate.getMonth()+"/"+(currentDate.getDate()+1)+"/"+currentDate.getFullYear();var date1=new Date(timLnDateFormt);var date2=new Date(currentDateFormt);var diffTime=Math.abs(date2-date1);var diffDays=Math.ceil(diffTime/(1000*60*60*24));return"In "+diffDays+" days";}}return minStartTime;}},callMeetingTimer:function callMeetingTimer(strTime,endDate,type){helpers.compareCurntTimeAndTimln_minutes(strTime,endDate,type);},getWidgetIcon:function getWidgetIcon(iconId){// menu icon for menu panel
iconId=iconId?iconId.toLowerCase():"";if(iconId=="meetings"||iconId==="meeting"){return"icon-MeetingCalendar";}if(iconId=="task"||iconId==="tasks"){return"icon-Tasks";}if(iconId=="file"||iconId==="files"){return"icon-iOS---Folder";}if(iconId=="knowledge"||iconId==="knowledges"){return"icon-Knowledge-Cap";}if(iconId=="announcement"||iconId==="announcements"){return"icon-Announcements";}return"";},checkMeetingHeaderTimeline:function checkMeetingHeaderTimeline(data,key){// meeting header checks for ('Happening Now' and 'Later Today') for the same day and 'Tomorrow' then day/month/year
if(key===0){return true;}else{var preDate=new Date(parseInt(data[key-1].data["duration"]["start"]));var currDate=new Date(parseInt(data[key].data["duration"]["start"]));// meetings of same date
if(preDate.toDateString()===currDate.toDateString()||new Date().toDateString()===currDate.toDateString()){// difference between current system time and meeting start time
var cmpareTimelinIn_MinutsStart=helpers.compareCurntTimeAndTimln_minutes(data[key].data.duration.start,null,null);var previousTmStamp=helpers.compareCurntTimeAndTimln_minutes(data[key-1].data.duration.start,null,null);var currentTmStamp=helpers.compareCurntTimeAndTimln_minutes(data[key].data.duration.start,null,null);if(previousTmStamp<=5&&currentTmStamp<=5||previousTmStamp<=5&&currentTmStamp<=0||previousTmStamp<0&&currentTmStamp<0||previousTmStamp<=5&&currentTmStamp<0||previousTmStamp<0&&currentTmStamp<=5){return false;}else if((previousTmStamp<=5||previousTmStamp<0)&&currentTmStamp>5){return true;}return false;}else{return true;}}},checkForlineWidget:function checkForlineWidget(arr,key){var dayTypeTracker=[];for(var k=0;k<arr.length;k++){dayTypeTracker[k]=helpers.getTimeline(arr[k].data.duration.start,"fulldate","meetings");}var curredayType=helpers.getTimeline(arr[key].data.duration.start,"fulldate","meetings");if(dayTypeTracker[key]===curredayType&&dayTypeTracker[key+1]===curredayType){return false;}else{return true;}},getTimeline:function getTimeline(timeline,type,widgetType){// For all normal timeline
/* day - Sun, Mon, etc,
        numberdate - 12/4/2019
        date - 25 MAR
        fulldate Mon, 25 MAR
        year - 19
        fullyear - 2019
        time - 12 AM*/type=type?type.toLowerCase():"";var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var givenDate=new Date(timeline);var day=days[givenDate.getDay()];var month=months[givenDate.getMonth()];var date=givenDate.getDate();var currentDate=new Date();var todayDay=days[currentDate.getDay()];var todayMonth=months[currentDate.getMonth()];var todayDate=currentDate.getDate();var yesterday=new Date(new Date().valueOf()-1000*60*60*24);var yesterdayDay=days[yesterday.getDay()];var yesterdayMonth=months[yesterday.getMonth()];var yesterdayDate=yesterday.getDate();var tomorrow=new Date(new Date().valueOf()+1000*60*60*24);var tomorrowDay=days[tomorrow.getDay()];var tomorrowMonth=months[tomorrow.getMonth()];var tomorrowDate=tomorrow.getDate();if(type==="day"){return day;}else if(type==="numberdate"){if(day+month+date===todayDay+todayMonth+todayDate){return"Today";}else if(day+month+date===yesterdayDay+yesterdayMonth+yesterdayDate){return"Yesterday";}else if(day+month+date===tomorrowDay+tomorrowMonth+tomorrowDate){return"Tomorrow";}else{month=givenDate.getMonth()+1;return givenDate.getDate()+"/"+month+"/"+givenDate.getFullYear();}}else if(type==="date"){if(day+month+date===todayDay+todayMonth+todayDate){return"Today";}else if(day+month+date===yesterdayDay+yesterdayMonth+yesterdayDate){return"Yesterday";}else if(day+month+date===tomorrowDay+tomorrowMonth+tomorrowDate){return"Tomorrow";}else{return month+" "+date;}}else if(type==="fulldate"){if(day+month+date===todayDay+todayMonth+todayDate){if(widgetType==="meetings"){// var comparedMinutes = helpers.compareCurntTimeAndTimln_minutes(timeline, null, null);
var startDate=timeline;var sysDate=new Date().getTime();var stTimeline=startDate-sysDate;var comparedMinutes=Math.ceil(stTimeline/60000);if(comparedMinutes<=5&&comparedMinutes>0||comparedMinutes<0){return"Happening Now";}return"Later Today";}else{return"Today";}}else if(day+month+date===yesterdayDay+yesterdayMonth+yesterdayDate){return"Yesterday";}else if(day+month+date===tomorrowDay+tomorrowMonth+tomorrowDate){return"Tomorrow";}else{return day+", "+month+" "+date;}}else if(type==="year"){return givenDate.getYear().toString().substring(1,3);}else if(type==="fullyear"){return givenDate.getFullYear();}else if(type==="time"){var hours=givenDate.getHours();var minutes=givenDate.getMinutes();var ampm=hours>=12?"PM":"AM";hours=hours%12;hours=hours?hours:12;minutes=minutes<10?"0"+minutes:minutes;hours=hours<10?"0"+hours:hours;var strTime=hours+":"+minutes+" "+ampm;return strTime;}},getFileIcon:function getFileIcon(fileType){// File panel icon
if(docType.indexOf(fileType.toUpperCase())!==-1){return'<i class="common fileTypeDoc"></i>';}else if(slideType.indexOf(fileType.toUpperCase())!==-1){return'<i class="common fileTypeSlide"></i>';}else if(audioType.indexOf(fileType.toUpperCase())!==-1){return'<i class="common fileTypeAudio"></i>';}else if(videoType.indexOf(fileType.toUpperCase())!==-1){return'<i class="common fileTypeVideo"></i>';}else if(imageType.indexOf(fileType.toUpperCase())!==-1){return'<i class="common fileTypeImage"></i>';}else if(vectorType.indexOf(fileType.toUpperCase())!==-1){return'<i class="common fileTypeVector"></i>';}else if(pdfType.indexOf(fileType.toUpperCase())!==-1){return'<i class="common fileTypePDF"></i>';}else if(sheetType.indexOf(fileType.toUpperCase())!==-1){return'<i class="common fileTypeSheet"></i>';}else if(databaseType.indexOf(fileType.toUpperCase())!==-1){return'<i class="common fileTypeDatabase"></i>';}else if(execType.indexOf(fileType.toUpperCase())!==-1){return'<i class="common fileTypeExec"></i>';}else if(fontType.indexOf(fileType.toUpperCase())!==-1){return'<i class="common fileTypeFont"></i>';}else if(systemType.indexOf(fileType.toUpperCase())!==-1){return'<i class="common fileTypeSystem"></i>';}else if(zipType.indexOf(fileType.toUpperCase())!==-1){return'<i class="common fileTypeZip"></i>';}else if(devpType.indexOf(fileType.toUpperCase())!==-1){return'<i class="common fileTypeDevp"></i>';}else if(dobjType.indexOf(fileType.toUpperCase())!==-1){return'<i class="common fileTypeDObject"></i>';}else if(sketchType.indexOf(fileType.toUpperCase())!==-1){return'<i class="common fileTypeSketch"></i>';}else{return'<i class="common fileTypeNone"></i>';}},checkTaskUser:function checkTaskUser(fN,lN,id){// Check current user in task
//#TODO :needs to remove koreWidgetSDKInstance refs
var uId=koreWidgetSDKInstance.userInfo.id;//$.jStorage.get('currentAccount').userInfo.id;
if(uId==id){return"You";}else{return fN+" "+lN.charAt(0);}},getTimeLineNotification:function getTimeLineNotification(timeline){// For announcement time line
var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var inputDate=new Date(timeline);var currDate=new Date();if(currDate.getFullYear()-inputDate.getFullYear()>=1){return days[inputDate.getDay()]+", "+months[inputDate.getMonth()]+" "+inputDate.getDate()+", "+inputDate.getFullYear();}else{if(currDate.getMonth()-inputDate.getMonth()>=1){return days[inputDate.getDay()]+", "+months[inputDate.getMonth()]+" "+inputDate.getDate()+", "+inputDate.getFullYear();}else{if(currDate.getDate()-inputDate.getDate()===0){var minutes="";var myDatedate=parseInt(timeline);var d=new Date(myDatedate);var hours=d.getHours();minutes=d.getMinutes().toString();var ampm=hours>=12?"PM":"AM";hours=hours%12;hours=hours?hours:12;minutes=parseInt(minutes)<10?"0"+minutes:minutes;var strTime=hours+":"+minutes+" "+ampm;return strTime;}else if(currDate.getDate()-inputDate.getDate()===1){return"Yesterday";}else{return days[inputDate.getDay()]+", "+months[inputDate.getMonth()]+" "+inputDate.getDate()+", "+inputDate.getFullYear();}}}}};FindlySDK.prototype.bindWidgetEvent=function(){};FindlySDK.prototype.openDropdown=function(data){};FindlySDK.prototype.openPanel=function(panelName,resPopUp,heightToggle){if(panelName&&panelName!=="closePanel"){$(".kore-chat-window").removeClass("selectedHeight");}if(heightToggle){$(".kore-chat-window").toggleClass("selectedHeight");}var _self=this;var popUpStatus;if(panelName===oldPanelName||panelName==="closePanel"){//todo:deviation:toggle fuctionality on panel click
oldPanelName="";if($(".menuItemContainer")&&$(".menuItemContainer").removeClass("selected")){$(".menuItemContainer").removeClass("selected");}$(".sdkBotIcon").addClass("selected");localPanelDetail[panelName]="";_self.clearWidgetPolling();$(_self.config.container.content).hide("slide",{direction:_self.config.direction==="left"?"left":"right"},500);return false;}if(resPopUp){if(!resPopUp.btnresponse){return;}}else{popUpStatus=_self.checkWidgetSwitchEditor(panelName,oldPanelName);}if(popUpStatus){return;}makeAPICall=true;if(localPanelDetail[panelName]!==undefined){var currTime=new Date().getTime();var deffTime=currTime-localPanelDetail[panelName];var seconds=Math.floor(deffTime/1000);if(seconds<10){makeAPICall=false;}}localPanelDetail[panelName]=new Date().getTime();oldPanelName=panelName;panelName=panelName?panelName.toLowerCase():"";clearInterval(pollingTimer);if(meetingTimeRef.length>0){for(var k=0;k<meetingTimeRef.length;k++){clearInterval(meetingTimeRef[k]);}}if(panelName==="kora"){menuActiveTab="";_self.setChatFocus();$(".menuItem").removeClass("active");$(".menuItemCntr #"+panelName).addClass("active");// $('.menuItemCntr #' + oldPanelName).addClass('active');
$(".centerWindow").children().not(".kore-chat-window").not(".koraPanelHeader").not(".centralLoader").remove();}else if(panelName==="profile"){window.angularComponentReference.zone.run(function(){window.angularComponentShowProfile.componentFn();});}else if(panelName==="notification"){window.angularComponentReference.zone.run(function(){window.angularCmptRefNotification.componentFn();});}else{_self.resetTask();menuActiveTab=panelName;$(".menuItem").removeClass("selected");$(".menuItemContainer").removeClass("selected");$(".sdkBotIcon").removeClass("selected");$(".menuItemContainer."+panelName).addClass("selected");// $('.menuItemCntr #' + oldPanelName).addClass('active');
$(".centerWindow").children().not(".kore-chat-window").not(".koraPanelHeader").not(".centralLoader").remove();mainTemplateBdr="";if($(_self.config.container.content).is(":visible")){$(_self.config.container.content).hide();}$(_self.config.container.content).show("slide",{direction:_self.config.direction//$.jStorage.get('menuPosition')
},250);$(_self.config.container.content).html('<div class="loaderRing"><div></div><div></div><div></div><div></div></div>');_self.prepareRenderData(panelName,true);}};FindlySDK.prototype.checkWidgetSwitchEditor=function(newPanel,oldPanel){var _self=this;if(newPanel!==oldPanel){var componentSelectorsArray=Array.from(document.querySelectorAll(".centerWindow *")).map(function(el){return el.tagName.toLowerCase();}).filter(function(selector){return selector.startsWith("app-");});var commonKeys=editComponent.selector.filter(function(obj){return componentSelectorsArray.indexOf(obj)!==-1;});if(componentSelectorsArray.length&&commonKeys.length>0){var content=[{id:"skillSwitche",title:"Are you sure?",desc:"All changes made will be lost.",buttons:[{title:"YES"},{title:"NO"}]}];var actionObj={newPanel:newPanel,oldPanel:oldPanel};_self.createPopup(content,JSON.stringify(actionObj),"");return true;}}return false;};FindlySDK.prototype.prepareRenderData=function(panelName){var mainPanel=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var _self=this;var initialWidgetData=_self.vars.initialWidgetData;var config=_self.config;clearInterval(pollingTimer);// if (meetingTimeRef.length > 0) {
//     for (var k = 0; k < meetingTimeRef.length; k++) {
//         clearInterval(meetingTimeRef[k]);
//     }
//     meetingTimeRef = [];
// }
for(var i=0;i<initialWidgetData.panels.length;i++){if(initialWidgetData.panels[i]._id.toLowerCase()===panelName.toLowerCase()){if(mainPanel){if(initialWidgetData.panels[i].widgets.length===1){initialWidgetData.panels[i].widgets[0].templateType=initialWidgetData.panels[i].widgets[0].templateType==undefined?"Sushanth":initialWidgetData.panels[i].widgets[0].templateType;var panelDetailLocal={panel:initialWidgetData.panels[i]._id,subpanel:initialWidgetData.panels[i].widgets[0].id,widgetTitle:initialWidgetData.panels[i].widgets[0].title||initialWidgetData.panels[i].widgets[0].name,widgetTemplate:initialWidgetData.panels[i].widgets[0].templateType,viewmore:false};var dataHTML=$(_self.getTemplate("mainTemplate")).tmplProxy({widgetData:initialWidgetData.panels[i],helpers:helpers,panelDetail:panelDetailLocal});_self.bindTemplateEvents(dataHTML,"mainTemplate");}else{var panelDetailLocal={panel:initialWidgetData.panels[i]._id,viewmore:false};var dataHTML=$(_self.getTemplate("mainTemplate")).tmplProxy({widgetData:initialWidgetData.panels[i],helpers:helpers,panelDetail:panelDetailLocal});_self.bindTemplateEvents(dataHTML,"mainTemplate");}$(_self.config.container.content).addClass("kr-wiz-content-css");if($(_self.config.container.menu).hasClass("darkTheme-kore")){$(_self.config.container.content).addClass("darkTheme-kore");$(_self.config.container.content).removeClass("defaultTheme-kore");$(_self.config.container.content).removeClass("defaultTheme-kora");$(_self.config.container.content).removeClass("darkTheme-kora");}else if($(_self.config.container.menu).hasClass("defaultTheme-kore")){$(_self.config.container.content).addClass("defaultTheme-kore");$(_self.config.container.content).removeClass("darkTheme-kore");$(_self.config.container.content).removeClass("darkTheme-kora");$(_self.config.container.content).removeClass("defaultTheme-kora");}else if($(_self.config.container.menu).hasClass("darkTheme-kora")){$(_self.config.container.content).addClass("darkTheme-kora");$(_self.config.container.content).removeClass("darkTheme-kore");$(_self.config.container.content).removeClass("defaultTheme-kore");$(_self.config.container.content).removeClass("defaultTheme-kora");}else if($(_self.config.container.menu).hasClass("defaultTheme-kora")){$(_self.config.container.content).addClass("defaultTheme-kora");$(_self.config.container.content).removeClass("darkTheme-kora");$(_self.config.container.content).removeClass("defaultTheme-kore");$(_self.config.container.content).removeClass("darkTheme-kore");}$(_self.config.container.content).html(dataHTML);}// var refreshInterval = initialWidgetData.panels[i].widgets[0].autoRefresh.interval * 60;
// _self.refreshData(panelName, refreshInterval);
for(var j=0;j<initialWidgetData.panels[i].widgets.length;j++){initialWidgetData.panels[i].widgets[j].templateType=initialWidgetData.panels[i].widgets[j].templateType==undefined?"Sushanth":initialWidgetData.panels[i].widgets[j].templateType;clearInterval(initialWidgetData.panels[i].widgets[j].pollingTimer);if(initialWidgetData.panels[i].widgets[j].type==="List"){var panelDetail={panel:initialWidgetData.panels[i]._id,subpanel:initialWidgetData.panels[i].widgets[j].id,widgetTitle:initialWidgetData.panels[i].widgets[j].title||initialWidgetData.panels[i].widgets[j].name,widgetTemplate:initialWidgetData.panels[i].widgets[j].templateType,viewmore:initialWidgetData.panels[i].widgets.length===1?false:true};_self.getServerData(initialWidgetData.panels[i].widgets[j].hook.api,initialWidgetData.panels[i].widgets[j].hook.method,initialWidgetData.panels[i].widgets[j].hook.body,initialWidgetData.panels[i].widgets[j].hook.params,panelDetail);}else if(initialWidgetData.panels[i].widgets[j].type==="FilteredList"){for(var k=0;k<initialWidgetData.panels[i].widgets[j].filters.length;k++){var panelDetail={panel:initialWidgetData.panels[i]._id,subpanel:initialWidgetData.panels[i].widgets[j].id,widgetTitle:initialWidgetData.panels[i].widgets[j].title||initialWidgetData.panels[i].widgets[j].name,widgetTemplate:initialWidgetData.panels[i].widgets[j].templateType,viewmore:initialWidgetData.panels[i].widgets.length===1?false:true,filter:initialWidgetData.panels[i].widgets[j].filters[k].id};_self.getServerData(initialWidgetData.panels[i].widgets[j].filters[k].hook.api,initialWidgetData.panels[i].widgets[j].filters[k].hook.method,initialWidgetData.panels[i].widgets[j].filters[k].hook.body,initialWidgetData.panels[i].widgets[j].filters[k].hook.params,panelDetail);}}else if(initialWidgetData.panels[i].widgets[j].type==="UtterancesList"){if(initialWidgetData.panels[i].widgets[j].actions){var panelDetail={panel:initialWidgetData.panels[i]._id,subpanel:initialWidgetData.panels[i].widgets[j].id,widgetTitle:initialWidgetData.panels[i].widgets[j].title||initialWidgetData.panels[i].widgets[j].name,widgetTemplate:initialWidgetData.panels[i].widgets[j].templateType,viewmore:initialWidgetData.panels[i].widgets.length===1?false:true};var dataHTML=$(_self.getTemplate("skillsTemplate")).tmplProxy({tempdata:initialWidgetData.panels[i].widgets[j],helpers:helpers,panelDetail:panelDetail});$(_self.config.container.content).find(".mainTemplateCntr#"+panelDetail.panel+" #"+panelDetail.subpanel).html(dataHTML);}}else{var panelDetail={panel:initialWidgetData.panels[i]._id,subpanel:initialWidgetData.panels[i].widgets[j].id,widgetTitle:initialWidgetData.panels[i].widgets[j].title||initialWidgetData.panels[i].widgets[j].name,widgetTemplate:initialWidgetData.panels[i].widgets[j].templateType,viewmore:initialWidgetData.panels[i].widgets.length===1?false:true};_self.getServerData("widgetsdk/"+config.botOptions.botInfo._id+"/widgets/"+initialWidgetData.panels[i].widgets[j]._id,"post",{from:config.botOptions.userIdentity||"user-name"},{},panelDetail);}}}}};FindlySDK.prototype.getServerDataGen=function(url,method,payload,_params){var _self=this;var config=_self.config;url=_self.resolveUrl(url,{userId:config.botOptions.botInfo.customData.kmUId},false);if(_params)url=url+"?"+$.param(_params);var apiConfigs={url:_self.config.botOptions.koreAPIUrl+url,type:method,data:payload,async:true,beforeSend:function beforeSend(xhr){xhr.setRequestHeader("Authorization","bearer "+config.botOptions.botInfo.customData.kmToken);},success:function success(data){},error:function error(err){// errorPopup(err);
}};if(_self.config.botOptions.botInfo&&_self.config.botOptions.botInfo.botState){apiConfigs.headers={state:_self.config.botOptions.botInfo.botState};}return $.ajax(apiConfigs);};FindlySDK.prototype.getServerData=function(url,method,payload,_params,passedJson){var _self=this;var initialWidgetData=_self.vars.initialWidgetData;var cacheData=_self.vars.cacheData;var config=_self.config;var userInputs={};if(passedJson&&passedJson.subpanel){var widgetInfo=_self.getWidgetDataByWidgetId(passedJson.subpanel);if(widgetInfo&&widgetInfo.fields&&widgetInfo.fields.length){for(var i=0;i<widgetInfo.fields.length;i++){if(widgetInfo.fields[i].label){if(!userInputs[widgetInfo.fields[i].label]){userInputs[widgetInfo.fields[i].label]=widgetInfo.fields[i].defaultValue;}}}}}payload.inputs=$.extend(payload.inputs,userInputs);if(_params)url=url+"?"+$.param(_params);for(var i=0;i<cacheData.length;i++){if(cacheData[i].api===url){var xhrObject={};xhrObject.passedkey={};xhrObject.passedkey=passedJson;_self.renderTemplate(cacheData[i].response,xhrObject);// need to implement this later //
$(".mainTemplateCntr .progress").show();// progress meter show
}}url=_self.resolveUrl(url,{userId:config.botOptions.botInfo.customData.kmUId},false);if(makeAPICall===false){$(".mainTemplateCntr .progress").hide();return;}return $.ajax({url:baseUrl+"/"+url,type:method,data:JSON.stringify(payload),myData:passedJson,contentType:"application/json",async:true,beforeSend:function beforeSend(xhr,passedkey){xhr.setRequestHeader("Authorization","bearer "+config.botOptions.botInfo.customData.kmToken);xhr.passedkey=passedkey.myData;},success:function success(responseData,status,xhrObject){//todo:#deviation :need to correct from server
if(responseData&&responseData.data&&responseData.data.length){responseData=responseData.data[0];}if(responseData&&responseData.responseJSON){responseData=responseData.responseJSON;}//todo:#deviation:reading widgetTemplate from execure api
if(responseData&&_typeof(responseData)==="object"){if(responseData.isAuthElement&&responseData.elements&&responseData.elements.length===1){responseData.templateType="AuthRequired";xhrObject.passedkey.widgetTemplate=responseData.templateType;}else{if(responseData&&responseData.templateType){xhrObject.passedkey.widgetTemplate=responseData.templateType;}else{xhrObject.passedkey.widgetTemplate="standard";// fallback for default templates
}}}for(var i=0;i<initialWidgetData.panels.length;i++){// to update widgetType//
if(initialWidgetData.panels[i].widgets&&initialWidgetData.panels[i].widgets.length&&initialWidgetData.panels[i]._id===passedJson.panel){initialWidgetData.panels[i].widgets.forEach(function(widget){if(widget.id===passedJson.subpanel){if(responseData&&responseData.templateType){widget.templateType=responseData.templateType;}widget.hook={};widget.hook.api=url;widget.hook.method=method;widget.hook.body=payload;widget.hook.params=_params;var refreshInterval=widget.autoRefresh.interval*60;if(widget.pollingTimer){clearInterval(widget.pollingTimer);}if(widget.autoRefresh&&widget.autoRefresh.enabled){_self.refreshWidgetData(widget,refreshInterval,passedJson);}}});}}$(".mainTemplateCntr .progress").hide();// progress meter hide
if(!responseData||responseData&&_typeof(responseData)!=="object"||_typeof(responseData)==="object"&&responseData.data&&!responseData.data.length){// if response is not an object //
responseData.templateType="somthingWentWrong";responseData.errMsg="Oops! Something went wrong.";if(typeof responseData==="string"){var responseCopy=responseData;responseData={};responseData.templateType="somthingWentWrong";responseData.errMsg="Oops! Something went wrong.";// responseData.errMsgDiscription = responseCopy;
}var dataHTML=$(_self.getTemplate("ErrorTemplate")).tmplProxy({tempdata:responseData,panelDetail:xhrObject.passedkey});if(xhrObject.passedkey.panel&&xhrObject.passedkey.subpanel&&xhrObject.passedkey.filter){$(_self.config.container.content).find(".mainTemplateCntr#"+xhrObject.passedkey.panel+" #"+xhrObject.passedkey.subpanel+" #"+xhrObject.passedkey.filter+"_content").html(dataHTML);}else if(xhrObject.passedkey.panel&&xhrObject.passedkey.subpanel){$(_self.config.container.content).find(".mainTemplateCntr#"+xhrObject.passedkey.panel+" #"+xhrObject.passedkey.subpanel+" #"+xhrObject.passedkey.subpanel+"_content").html(dataHTML);}if(KRPerfectScrollbar){_self.vars.contentPSObj=null;if(!_self.vars.contentPSObj){_self.vars.contentPSObj=new KRPerfectScrollbar($(_self.config.container.content).find(".mainTemplateBdr").get(0),{suppressScrollX:true});}else{_self.vars.contentPSObj.update();}}return;}_self.renderTemplate(responseData,xhrObject);var localCount=0;for(var i=0;i<cacheData.length;i++){if(cacheData[i].api===url){localCount=localCount+1;cacheData[i].response=responseData;}}if(localCount===0){cacheData.push({api:url,response:responseData});}},error:function error(err){$(".mainTemplateCntr .progress").hide();if(false){ var content; }else{var xhrObject={};xhrObject.passedkey={};xhrObject.passedkey=err.passedkey;var dataHTML=$(_self.getTemplate("ErrorTemplate")).tmplProxy({tempdata:xhrObject,panelDetail:xhrObject.passedkey});if(xhrObject.passedkey.panel&&xhrObject.passedkey.subpanel&&xhrObject.passedkey.filter){$(_self.config.container.content).find(".mainTemplateCntr#"+xhrObject.passedkey.panel+" #"+xhrObject.passedkey.subpanel+" #"+xhrObject.passedkey.filter+"_content").html(dataHTML);}else if(xhrObject.passedkey.panel&&xhrObject.passedkey.subpanel){$(_self.config.container.content).find(".mainTemplateCntr#"+xhrObject.passedkey.panel+" #"+xhrObject.passedkey.subpanel+" #"+xhrObject.passedkey.subpanel+"_content").html(dataHTML);}// if (!mainTemplateBdr) {
//   mainTemplateBdr = new PerfectScrollbar('.scroll', { suppressScrollX: true });
// } else {
//   mainTemplateBdr.update();
// }
$(".mainTemplateCntr .progress").hide();// progress meter hide
}}});};FindlySDK.prototype.getCacheDataByWidgetId=function(widgetId){var _self=this;//var cacheData=cacheData;
var cacheData=_self.vars.cacheData;var key="widgetsdk/"+_self.config.botOptions.botInfo._id+"/widgets/"+widgetId+"?";var resIndex=cacheData.findIndex(function(item){return item.api===key;});if(resIndex>-1){return cacheData[resIndex].response;}else{return false;}};FindlySDK.prototype.getPanelDataByPanelId=function(panelId){var _self=this;var panelIndex=-1;var initialWidgetData=_self.vars.initialWidgetData;for(var i=0;i<initialWidgetData.panels.length;i++){if(initialWidgetData.panels&&initialWidgetData.panels.length){panelIndex=initialWidgetData.panels.findIndex(function(item){return item._id===panelId;});}}if(panelIndex>-1){return initialWidgetData.panels[panelIndex];}};FindlySDK.prototype.getWidgetDataByWidgetId=function(widgetId){var _self=this;var widgetInfo=null;var initialWidgetData=_self.vars.initialWidgetData;for(var i=0;i<initialWidgetData.panels.length;i++){if(initialWidgetData.panels[i].widgets&&initialWidgetData.panels[i].widgets.length){initialWidgetData.panels[i].widgets.forEach(function(item){if(item.id===widgetId){widgetInfo=item;}});}}if(widgetInfo){return widgetInfo;}};FindlySDK.prototype.openCloseBottomOverlayContainer=function(open,htmlData){var _self=this;if(open&&htmlData){$("#widgetSdkBottomOverlayContainer").html(htmlData);$("#widgetSdkBottomOverlayContainer").show();}else{$("#widgetSdkBottomOverlayContainer").hide();}setTimeout(function(){if(KRPerfectScrollbar){_self.vars.contentPSObj=null;if(!_self.vars.contentPSObj){_self.vars.contentPSObj=new KRPerfectScrollbar($("#widgetSdkBottomOverlayContainer").find(".filterTemplateCntr").get(0),{suppressScrollX:true});}else{_self.vars.contentPSObj.update();}}},100);};FindlySDK.prototype.applySortingAndFilter=function(e,bindingData,sortInputs){_self=this;if(!bindingData.inputsPayload){bindingData.inputsPayload={};}if(bindingData&&bindingData.filterOptions&&bindingData.filterOptions.length){// applying filters for filter payload //
bindingData.filterOptions.forEach(function(item){if(item.data&&item.field&&item.data.length&&(item.type=="enum"&&item.isMulti==="Yes"||item.type=="checkbox")){item.data.forEach(function(filterValue){if(filterValue&&filterValue.isSelect&&filterValue.value&&filterValue.value.trim()!==""){if(!bindingData.inputsPayload[item.field]){bindingData.inputsPayload[item.field]=[];}bindingData.inputsPayload[item.field].push(filterValue.value);}});}if(item.data&&item.field&&item.data.length&&(item.type=="enum"&&item.isMulti==="No"||item.type=="radio")){item.data.forEach(function(filterValue){if(filterValue&&filterValue.isSelect&&filterValue.value&&filterValue.value.trim()!==""){if(!bindingData.inputsPayload[item.field]){bindingData.inputsPayload[item.field]={};}bindingData.inputsPayload[item.field]=filterValue.value;}});}});}if(sortInputs&&_typeof2(sortInputs)==="object"){bindingData.inputsPayload=$.extend(bindingData.inputsPayload,sortInputs);}_self.openCloseBottomOverlayContainer();var panelDetail=$(e.target).closest("[paneldetail]").attr("paneldetail");panelDetail=JSON.parse(panelDetail);var widgetId=panelDetail.subpanel;_self.getServerData("widgetsdk/"+_self.config.botOptions.botInfo._id+"/widgets/"+widgetId,"post",{from:_self.config.botOptions.userIdentity||"user-name",inputs:bindingData.inputsPayload},{},panelDetail);_self.openCloseBottomOverlayContainer();};FindlySDK.prototype.applySorting=function(e,$ele,templateType,bindingData){var _self=this;var allSorts=$(e.currentTarget).closest("dropdown-contentWidgt").find("dropdown-item");if(allSorts&&allSorts.length){allSorts.removeClass("selected");}$(e.currentTarget).addClass("selected");var selectedSort=$(e.currentTarget).attr("sort-obj");var selectedSortObj=JSON.parse(selectedSort);var sortInputs={};sortInputs[selectedSortObj.field]=selectedSortObj.fieldValue;_self.applySortingAndFilter(e,bindingData,sortInputs);};FindlySDK.prototype.openWidgetFilters=function(e,ele,templateType,bindingData){var _self=this;var widgetId=$(e.target).closest(".widgetContParent").attr("id");var res=bindingData||_self.getCacheDataByWidgetId(widgetId);if(res.filterOptions&&res.filterOptions.length){for(var i=0;i<res.filterOptions.length;i++){res.filterOptions[i].selected=false;if(res.filterOptions[i]&&res.filterOptions[i].data&&res.filterOptions[i].data.length){for(var j=0;j<res.filterOptions[i].data.length;j++){if(res.filterOptions[i].data[j].isSelect){res.filterOptions[i].selected=true;}}}}var templateData={filterOptions:res.filterOptions,sortOptions:res.sortOptions,inputsPayload:{}};var filterHTML=$(_self.getTemplate("filterTemplate")).tmplProxy(templateData);_self.bindTemplateEvents(filterHTML,"filterTemplate",templateData);_self.openCloseBottomOverlayContainer(true,filterHTML);}};FindlySDK.prototype.bindTemplateEvents=function(ele,templateType,bindingData){var _self=this;var initialWidgetData=_self.vars.initialWidgetData;var initialWidgetData=initialWidgetData;var $ele=$(ele);if(templateType==="mainTemplate"){$ele.off("click").on("click",function(e){e.stopPropagation();e.stopImmediatePropagation();});}else if(templateType==="widgetHeader"){$ele.off("click",".action").on("click",".action",function(e){e.stopPropagation();var actionObjString=$(e.currentTarget).attr("actionObj");var actionObj={};if(actionObjString){actionObj=JSON.parse(actionObjString);}var actionType=$(e.currentTarget).attr("action-type");if(_typeof2(actionObj)=="object"&&actionObj.link){window.open(actionObj.link);}else if(actionObj&&actionType==="filter"){_self.openWidgetFilters(e,$ele,templateType,bindingData);}else if(actionObj&&actionType==="sortOptions"){_self.applySorting(e,$ele,templateType,bindingData);}else{_self.triggerAction(actionObj);}});}else if(templateType==="defaultFilesTemplate"){$ele.on("click",".filter-btn",function(e){var widgetId=$(e.target).closest(".widgetContParent").attr("id");var res=_self.getCacheDataByWidgetId(widgetId);// var templateData={
var templateData={filterOptions:res.filterOptions,sortOptions:res.sortOptions,inputsPayload:{}};var appliedFilters=res.appliedFilters;var appliedSortBy=res.appliedSort;//for applying  appliedFilters
appliedFilters.forEach(function(appliedFilter){var filterIndex=templateData.filters.findIndex(function(item){return item.field=appliedFilter.field;});if(filterIndex>-1){var targetFilter=templateData.filters[filterIndex];if(appliedFilter&&appliedFilter.fieldValue&&appliedFilter.fieldValue.length){appliedFilter.fieldValue.forEach(function(apliedFilterValue){var targetFilterItemIndex=-1;targetFilterItemIndex=targetFilter.data.findIndex(function(item){return item.value===apliedFilterValue;});if(targetFilterItemIndex>-1){templateData.filters[filterIndex].data[targetFilterItemIndex].selected=true;templateData.filters[filterIndex].selected=true;}});}}});//for applying appliedSortBy
if(appliedSortBy&&appliedSortBy.fieldValue){var sortByItemIndex=templateData.sortOptions.findIndex(function(item){return item.field===appliedSortBy.field;});if(sortByItemIndex>-1){var targetSortByItem=templateData.sortOptions[sortByItemIndex];templateData.sortOptions[sortByItemIndex].selected=true;}}var filterHTML=$(_self.getTemplate("filterTemplate")).tmplProxy(templateData);_self.bindTemplateEvents(filterHTML,"filterTemplate",templateData);var listContainer=$(e.target).closest(".filesCntr");filterHTML.insertAfter(listContainer);setTimeout(function(){if(KRPerfectScrollbar){_self.vars.contentPSObj=null;if(!_self.vars.contentPSObj){_self.vars.contentPSObj=new KRPerfectScrollbar($("#widgetSdkBottomOverlayContainer").find(".filterTemplateCntr").get(0),{suppressScrollX:true});}else{_self.vars.contentPSObj.update();}}},100);listContainer.hide();});}else if(templateType==="filterTemplate"){$ele.on("click",".open-filters",function(e){selectedFilter=$(e.currentTarget).attr("id");if(selectedFilter){var selectedFilterIndex=bindingData.filterOptions.findIndex(function(item){return item.field===selectedFilter;});if(selectedFilterIndex>-1){bindingData.filterSelectedItems=bindingData.filterOptions[selectedFilterIndex];}}var filterOptionsHTML=$(_self.getTemplate("filterOptionsTemplate")).tmplProxy(bindingData);_self.bindTemplateEvents(filterOptionsHTML,"filterOptionsTemplate",bindingData);var filterContainer=$(e.target).closest(".filterTemplateCntr");filterOptionsHTML.insertAfter(filterContainer);filterContainer.remove();// setTimeout(function(){
if(KRPerfectScrollbar){_self.vars.contentPSObj=null;if(!_self.vars.contentPSObj){_self.vars.contentPSObj=new KRPerfectScrollbar($("#widgetSdkBottomOverlayContainer").find(".filterOptionsTemplateCtrl").get(0),{suppressScrollX:true});}else{_self.vars.contentPSObj.update();}}// },100);
});$ele.on("click",".radiodivsdk",function(e){var filterType=$(e.currentTarget).attr("filter-type");var filterIndex=$(e.currentTarget).attr("filter-index");if(filterIndex){filterIndex=parseInt(filterIndex);}bindingData.filterOptions[filterIndex].data.forEach(function(item){item.isSelect=false;});if($(e.currentTarget).find(".taskSelRadio").length&&filterType==="radioFilter"){var selectedBy=$(e.currentTarget).find("input[name='radioFilterVertical']:checked");if(selectedBy&&selectedBy.length){for(var i=0;i<selectedBy.length;i++){var selectedValueIndex=$($(selectedBy)[i]).attr("value-index");if(selectedValueIndex){selectedValueIndex=parseInt(selectedValueIndex);bindingData.filterOptions[filterIndex].data[selectedValueIndex].isSelect=true;}}}}if($(e.currentTarget).find(".taskSelRadio").length&&filterType==="checkBoxFilter"){var checkedElements=$(e.currentTarget).find("input[element='filterCheckbox']:checked");if(checkedElements&&checkedElements.length){for(var i=0;i<checkedElements.length;i++){var selectedValueIndex=$($(checkedElements)[i]).attr("value-index");if(selectedValueIndex){selectedValueIndex=parseInt(selectedValueIndex);bindingData.filterOptions[filterIndex].data[selectedValueIndex].isSelect=true;}}}}});$ele.on("click",".wid-filter-close",function(e){$(e.target).closest(".widgetContParent").find(".filesCntr").show();$(e.target).closest(".widgetContParent").find(".filterTemplateCntr").remove();e.stopPropagation();_self.openCloseBottomOverlayContainer();});$ele.on("click",".apply-btn",function(e){_self.applySortingAndFilter(e,bindingData);});}else if(templateType==="filterOptionsTemplate"){$ele.on("click",".tickMarkContainer",function(e){var filterValue=$(e.currentTarget).attr("field");$(e.currentTarget).closest(".filterOptionsTemplateCtrl").find(".tickMarkContainer").removeClass("selected");$(e.currentTarget).addClass("selected");});$ele.on("click",".selectDropValue",function(e){var filterValue=$(e.target).attr("valueObj");var filterValueObj=JSON.parse(filterValue);});$ele.on("click",".wid-filter-close",function(e){var filterHTML=$(_self.getTemplate("filterTemplate")).tmplProxy(bindingData);_self.bindTemplateEvents(filterHTML,"filterTemplate",bindingData);var listContainer=$(e.target).closest(".filterOptionsTemplateCtrl");filterHTML.insertBefore(listContainer);$(e.target).closest(".widgetContParent").find(".filterTemplateCntr").show();$("#widgetSdkBottomOverlayContainer").find(".filterOptionsTemplateCtrl").remove();e.stopPropagation();});$ele.on("click",".apply-btn",function(e){var _filterEle=$(e.target).closest(".filterOptionsTemplateCtrl");if(bindingData.filterSelectedItems&&bindingData.filterSelectedItems.isMulti==="No"){var selectedFilterEle=$(e.currentTarget).closest(".filterOptionsTemplateCtrl").find(".tickMarkContainer.selected");if(selectedFilterEle&&selectedFilterEle.length){bindingData.filterSelectedItems.data.forEach(function(filter){if(filter.title===$(selectedFilterEle[0]).attr("field")){filter.isSelect=true;}else{filter.isSelect=false;}});}}else{var selectedFilters=_filterEle.find("input[class='taskSelRadio']:checked");var selectedFiltersCount=0;if(selectedFilters.length){// partial of all buttons selected //
bindingData.filterSelectedItems.data.forEach(function(filter){filter.isSelect=false;selectedFilters.each(function(i,filterEle){var $filterEle=$(filterEle);var _value=$filterEle.val();var _key=bindingData.filterSelectedItems.field;if(_value!==""&&filter.value===_value){filter.isSelect=true;selectedFiltersCount=selectedFiltersCount+1;}});});}else{// No buttons selected //
bindingData.filterSelectedItems.data.forEach(function(filter){filter.isSelect=false;});}if(selectedFiltersCount){bindingData.filterSelectedItems.selected=true;//if filterButtons are selected //
}else{bindingData.filterSelectedItems.selected=false;//if filterButtons are not selected //
}}if(bindingData.filterSelectedItems.field&&bindingData.filterSelectedItems){var selectedFilterIndex=bindingData.filterOptions.findIndex(function(item){return item.field===bindingData.filterSelectedItems.field;});if(selectedFilterIndex>-1){bindingData.filterOptions[selectedFilterIndex]=bindingData.filterSelectedItems;}}var filterHTML=$(_self.getTemplate("filterTemplate")).tmplProxy(bindingData);_self.bindTemplateEvents(filterHTML,"filterTemplate",bindingData);var listContainer=$(e.target).closest(".filterOptionsTemplateCtrl");filterHTML.insertBefore(listContainer);$(e.target).closest(".widgetContParent").find(".filterTemplateCntr").show();$("#widgetSdkBottomOverlayContainer").find(".filterOptionsTemplateCtrl").remove();// setTimeout(function(){
if(KRPerfectScrollbar){_self.vars.contentPSObj=null;if(!_self.vars.contentPSObj){_self.vars.contentPSObj=new KRPerfectScrollbar($("#widgetSdkBottomOverlayContainer").find(".filterTemplateCntr").get(0),{suppressScrollX:true});}else{_self.vars.contentPSObj.update();}}// },100);
e.stopPropagation();});}else if(templateType==="TabbedList"||templateType==="List"){$($ele.find(".tabs")[0]).addClass("active");var titleEle=$ele.find(".listViewLeftContent");if(titleEle&&titleEle.length){for(i=0;i<titleEle.length;i++){var ele=titleEle[i];if($(ele).attr("col-size")){var width=_self.getColumnWidth($(ele).attr("col-size"));$(ele).css("width",width+"%");}}}$ele.off("click",".listViewLeftContent").on("click",".listViewLeftContent",function(e){e.stopPropagation();var actionObjString=$(e.currentTarget).attr("actionObj");var actionObj={};if(actionObjString){actionObj=JSON.parse(actionObjString);}_self.triggerAction(actionObj);});$ele.off("click",".moreValue").on("click",".moreValue",function(e){e.stopPropagation();});$ele.off("click",".tabs").on("click",".tabs",function(e){e.stopPropagation();var _selectedTab=$(e.target).text();var msgData=$(e.target).closest(".tab-list-template").data();var panelDetail=$(e.target).closest(".tab-list-template").attr("panelDetail");if(panelDetail){panelDetail=JSON.parse(panelDetail);}delete msgData.tmplItem;var tempObj={tempdata:msgData,dataItems:msgData.elements,helpers:helpers,viewmore:panelDetail.viewmore,panelDetail:panelDetail};if(msgData&&msgData.tabs&&Object.keys(msgData.tabs)&&Object.keys(msgData.tabs).length){tempObj={tempdata:msgData,dataItems:msgData.tabs[_selectedTab],tabs:Object.keys(msgData.tabs),helpers:helpers,viewmore:panelDetail.viewmore,panelDetail:panelDetail};}var viewTabValues=$(_self.getTemplate("TabbedList")).tmplProxy(tempObj);$(viewTabValues).find(".tabs[data-tabid='"+_selectedTab+"']").addClass("active");$(e.target).closest(".tab-list-template").html($(viewTabValues).html());});$ele.off("click","#showMoreContents").on("click","#showMoreContents",function(e){e.stopPropagation();$(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showMoreBottom").removeClass("hide");});$ele.off("click",".wid-temp-showMoreClose").on("click",".wid-temp-showMoreClose",function(e){e.stopPropagation();$(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showMoreBottom").addClass("hide");});$ele.off("click",".wid-temp-showActions").on("click",".wid-temp-showActions",function(e){e.stopPropagation();if($(e.currentTarget)&&$(e.currentTarget).closest(".listViewTmplContentChild")&&$(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showActions")&&$(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showActions").hasClass("active")){$(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showActions").removeClass("active");$(e.currentTarget).closest(".listViewTmplContentChild").find(".meetingActionButtons").addClass("hide");// $(e.currentTarget).closest(".listViewTmplContentChild").find("#showMoreContents").removeClass('hide');
}else{$(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showActions").addClass("active");$(e.currentTarget).closest(".listViewTmplContentChild").find(".meetingActionButtons").removeClass("hide");// $(e.currentTarget).closest(".listViewTmplContentChild").find("#showMoreContents").addClass('hide');
}});$ele.off("click",".action").on("click",".action",function(e){e.stopPropagation();var actionObjString=$(e.currentTarget).attr("actionObj");var actionObj={};if(actionObjString){actionObj=JSON.parse(actionObjString);}// var eData={
//   postbackValue: actionObj.payload,
//   payload:actionObj,
//   type:'widget'
// }
// if(eData && eData.postbackValue && eData.payload){
//   _self.triggerEvent('postback',eData);
// }
if(_typeof2(actionObj)=="object"&&actionObj.link){window.open(actionObj.link);}else{_self.triggerAction(actionObj);}});// $('.widgetContentPanel').css({
//   'padding': '10px 20px'
// });
}else if(templateType==="TableList"){$($ele.find(".tabs")[0]).addClass("active");var titleEle=$ele.find(".listViewLeftContent");if(titleEle&&titleEle.length){for(i=0;i<titleEle.length;i++){var ele=titleEle[i];if($(ele).attr("col-size")){var width=_self.getColumnWidth($(ele).attr("col-size"));$(ele).css("width",width+"%");}}}$ele.off("click",".listViewLeftContent").on("click",".listViewLeftContent",function(e){e.stopPropagation();var actionObjString=$(e.currentTarget).attr("actionObj");var actionObj={};if(actionObjString){actionObj=JSON.parse(actionObjString);}_self.triggerAction(actionObj);});$ele.off("click",".moreValue").on("click",".moreValue",function(e){e.stopPropagation();});$ele.off("click","#showMoreContents").on("click","#showMoreContents",function(e){e.stopPropagation();$(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showMoreBottom").removeClass("hide");});$ele.off("click",".wid-temp-showMoreClose").on("click",".wid-temp-showMoreClose",function(e){e.stopPropagation();$(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showMoreBottom").addClass("hide");});$ele.off("click",".action").on("click",".action",function(e){e.stopPropagation();var actionObjString=$(e.currentTarget).attr("actionObj");var actionObj={};if(actionObjString){actionObj=JSON.parse(actionObjString);}// var eData={
//   postbackValue: actionObj.payload,
//   payload:actionObj,
//   type:'widget'
// }
// if(eData && eData.postbackValue && eData.payload){
//   _self.triggerEvent('postback',eData);
// }
if(_typeof2(actionObj)=="object"&&actionObj.link){window.open(actionObj.link);}else{_self.triggerAction(actionObj);}});// $('.widgetContentPanel').css({
//   'padding': '10px 20px'
// });
}else if(templateType==="pieChartTemplate"||templateType==="barChartTemplate"||templateType==="lineChartTemplate"){$ele.off("click","#showMoreContents").on("click","#showMoreContents",function(e){$(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showMoreBottom").removeClass("hide");});$ele.off("click",".wid-temp-showMoreClose").on("click",".wid-temp-showMoreClose",function(e){$(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showMoreBottom").addClass("hide");});$ele.off("click",".wid-temp-showActions").on("click",".wid-temp-showActions",function(e){if($(e.currentTarget)&&$(e.currentTarget).closest(".listViewTmplContentChild")&&$(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showActions")&&$(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showActions").hasClass("active")){$(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showActions").removeClass("active");$(e.currentTarget).closest(".listViewTmplContentChild").find(".meetingActionButtons").addClass("hide");// $(e.currentTarget).closest(".listViewTmplContentChild").find("#showMoreContents").removeClass('hide');
}else{$(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showActions").addClass("active");$(e.currentTarget).closest(".listViewTmplContentChild").find(".meetingActionButtons").removeClass("hide");// $(e.currentTarget).closest(".listViewTmplContentChild").find("#showMoreContents").addClass('hide');
}});$ele.off("click",".action").on("click",".action",function(e){var actionObjString=$(e.currentTarget).attr("actionObj");var actionObj={};if(actionObjString){actionObj=JSON.parse(actionObjString);}_self.triggerAction(actionObj);});// $('.widgetContentPanel').css({
//   'padding': '10px 20px'
// });
}else if(templateType==="ActionItems"){$ele.on("click",".hasMoreActionItems",function(e){$(e.target).closest(".actionItemBody").find(".actionBtnTitle").each(function(index,ele){if($(ele).hasClass("hide")){$(ele).removeClass("hide");$(ele).addClass("show");}});$(e.target).addClass("hide");});$ele.on("click",".actionBtnTitle",function(e){});}else if(templateType==="AuthRequired"){$ele.off("click",".action").on("click",".action",function(e){e.stopPropagation();var actionObjString=$(e.currentTarget).attr("actionObj");var panelDetails=$(e.currentTarget).attr("panelDetail");var actionObj={};if(actionObjString){var checkChild=function checkChild(){if(child&&_typeof2(child)==="object"&&child.closed){_self.refreshElement(panelDetails);clearInterval(timer);}};// try {
actionObj=JSON.parse(actionObjString);var child;if(actionObj.url){child=window.open(actionObj.url);var timer=setInterval(checkChild,500);}// } catch(e){
// }
}});}else if(templateType==="menu"){$ele.off("click").on("click",function(e){e.stopPropagation();e.stopImmediatePropagation();});$ele.off("click",".menuIconMobile").on("click",".menuIconMobile",function(e){e.stopPropagation();e.stopImmediatePropagation();});$ele.find("#defaultTheme-kore span").addClass("checkMarkIcon");$ele.find(".sdkBotIcon").addClass("selected");$ele.off("click",".action").on("click",".action",function(e){if(e&&e.currentTarget&&$(e.currentTarget)[0]){var addtheme=$(e.currentTarget)[0].id;$($(".themeName").find("span")).removeClass("checkMarkIcon");if($("#"+addtheme)&&$("#"+addtheme).find("span")){$($("#"+addtheme).find("span")).addClass("checkMarkIcon");}if(addtheme!=="darkTheme-kore"){$(_self.config.container.menu).removeClass("darkTheme-kore");if($(_self.config.container.content)){$(_self.config.container.content).removeClass("darkTheme-kore");}}if(addtheme!=="defaultTheme-kore"){$(_self.config.container.menu).removeClass("defaultTheme-kore");if($(_self.config.container.content)){$(_self.config.container.content).removeClass("defaultTheme-kore");}}if(addtheme!=="defaultTheme-kora"){$(_self.config.container.menu).removeClass("defaultTheme-kora");if($(_self.config.container.content)){$(_self.config.container.content).removeClass("defaultTheme-kora");}}if(addtheme!=="darkTheme-kora"){$(_self.config.container.menu).removeClass("darkTheme-kora");if($(_self.config.container.content)){$(_self.config.container.content).removeClass("darkTheme-kora");}}$(_self.config.container.menu).addClass(addtheme);$(_self.config.container.content).addClass(addtheme);}});}};FindlySDK.prototype.getHTMLTemplate=function(responseData,xhrObject){var _self=this;var dataHTML;if(xhrObject&&xhrObject.passedkey){if(xhrObject.passedkey.widgetTemplate==="calendar_events"){var ele=$.extend(true,{},responseData);var ele1=$.extend(true,{},responseData);var elements=_self.getResolveMeeting(ele);ele1.elements=elements;dataHTML=$(_self.getTemplate("meetingTemplate")).tmplProxy({tempdata:ele1,helpers:helpers,panelDetail:xhrObject.passedkey});}else if(xhrObject.passedkey.widgetTemplate==="task_list"){dataHTML=$(_self.getTemplate("tasksTemplate")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey});}else if(xhrObject.passedkey.widgetTemplate==="file_list"){dataHTML=$(_self.getTemplate("filesTemplate")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey});}else if(xhrObject.passedkey.widgetTemplate==="Sushanth"||xhrObject.passedkey.widgetTemplate==="custom_style"){dataHTML=$(_self.getTemplate("defaultFilesTemplate")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey});}else if(xhrObject.passedkey.widgetTemplate==="chartList"){dataHTML=$(_self.getTemplate("chartListTemplate")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey});}else if(xhrObject.passedkey.widgetTemplate==="knowledge_list"){dataHTML=$(_self.getTemplate("knowledgeTemplate")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey});}else if(xhrObject.passedkey.widgetTemplate==="TrendingHashTag"){dataHTML=$(_self.getTemplate("hashtagTemplate")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey});}else if(xhrObject.passedkey.widgetTemplate==="announcement_list"){dataHTML=$(_self.getTemplate("announcementTemplate")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey});}else if(xhrObject.passedkey.widgetTemplate==="List"){dataHTML=$(_self.getTemplate("List")).tmplProxy({tempdata:responseData,dataItems:responseData.elements,helpers:helpers,viewmore:xhrObject.passedkey.viewmore,panelDetail:xhrObject.passedkey});_self.bindTemplateEvents(dataHTML,"List");}else if(xhrObject.passedkey.widgetTemplate==="TabbedList"){var tempObj={tempdata:responseData,dataItems:responseData.elements,helpers:helpers,viewmore:xhrObject.passedkey.viewmore,panelDetail:xhrObject.passedkey};if(responseData&&responseData.tabs&&Object.keys(responseData.tabs)&&Object.keys(responseData.tabs).length){tempObj={tempdata:responseData,dataItems:responseData.tabs.Tab1,tabs:Object.keys(responseData.tabs),helpers:helpers,viewmore:xhrObject.passedkey.viewmore,panelDetail:xhrObject.passedkey};}dataHTML=$(_self.getTemplate("TabbedList")).tmplProxy(tempObj);dataHTML.data(responseData);_self.bindTemplateEvents(dataHTML,"TabbedList");}else if(xhrObject.passedkey.widgetTemplate==="piechart"){var dataHTML=$(_self.getTemplate("pieChartTemplate")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey});setTimeout(function(){var dimens={};dimens.width=350;dimens.height=175;dimens.legendRectSize=10;dimens.legendSpacing=2.4;_self.bindTemplateEvents(dataHTML,"pieChartTemplate");if(responseData.pie_type==="donut"){KoreGraphAdapter.drawD3PieDonut(responseData,dimens,".widgetContParent#"+xhrObject.passedkey.subpanel+" #piechart",12,"donut_legend");}else{KoreGraphAdapter.drawD3Pie(responseData,dimens,".widgetContParent#"+xhrObject.passedkey.subpanel+" #piechart",12);}},100);}else if(xhrObject.passedkey.widgetTemplate==="linechart"){var dataHTML=$(_self.getTemplate("lineChartTemplate")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey});setTimeout(function(){var dimens={};dimens.width=350;dimens.height=175;dimens.outerWidth=450;dimens.outerHeight=360;dimens.innerWidth=210;dimens.innerHeight=250;dimens.legendRectSize=10;dimens.legendSpacing=2.4;_self.bindTemplateEvents(dataHTML,"lineChartTemplate");KoreGraphAdapter.drawD3lineChartV2(responseData,dimens,".widgetContParent#"+xhrObject.passedkey.subpanel+" #linechart",12);},100);}else if(xhrObject.passedkey.widgetTemplate==="barchart"){var dataHTML=$(_self.getTemplate("barChartTemplate")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey});setTimeout(function(){var dimens={};dimens.width=350;dimens.height=175;dimens.legendRectSize=10;dimens.legendSpacing=2.4;dimens.outerWidth=450;dimens.outerHeight=360;dimens.innerWidth=230;dimens.innerHeight=250;dimens.legendRectSize=15;dimens.legendSpacing=4;_self.bindTemplateEvents(dataHTML,"barChartTemplate");if(responseData.stacked==false&&responseData.direction=="vertical"){KoreGraphAdapter.drawD3barChart(responseData,dimens,".widgetContParent#"+xhrObject.passedkey.subpanel+" #barchart",12);}else if(responseData.stacked==false&&responseData.direction=="horizontal"){dimens.outerWidth=420;dimens.outerHeight=360;dimens.innerWidth=240;dimens.innerHeight=250;KoreGraphAdapter.drawD3barHorizontalbarChart(responseData,dimens,".widgetContParent#"+xhrObject.passedkey.subpanel+" #barchart",12);}else if(responseData.stacked==true&&responseData.direction=="vertical"){KoreGraphAdapter.drawD3barVerticalStackedChart(responseData,dimens,".widgetContParent#"+xhrObject.passedkey.subpanel+" #barchart",12);}else if(responseData.stacked==true&&responseData.direction=="horizontal"){dimens.outerWidth=370;dimens.outerHeight=310;dimens.innerWidth=170;dimens.innerHeight=200;KoreGraphAdapter.drawD3barStackedChart(responseData,dimens,".widgetContParent#"+xhrObject.passedkey.subpanel+" #barchart",12);}// if(responseData.pie_type==="donut"){
//   KoreGraphAdapter.drawD3barChart(responseData, dimens, '.widgetContParent#' + xhrObject.passedkey.subpanel + ' #piechart', 12,'donut_legend');
// }else{
//   KoreGraphAdapter.drawD3Pie(responseData, dimens, '.widgetContParent#' + xhrObject.passedkey.subpanel + ' #piechart', 12);
// }
},100);}else if(xhrObject.passedkey.widgetTemplate==="ActionItems"){dataHTML=$(_self.getTemplate("ActionItems")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey});_self.bindTemplateEvents(dataHTML,"ActionItems");}else if(xhrObject.passedkey.widgetTemplate==="AuthRequired"){dataHTML=$(_self.getTemplate("AuthRequired")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey});_self.bindTemplateEvents(dataHTML,"AuthRequired");}else if(xhrObject.passedkey.widgetTemplate==="TableList"){dataHTML=$(_self.getTemplate("TableList")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey,viewmore:true});_self.bindTemplateEvents(dataHTML,"TableList");}else{//#todo:deviation : making "defaultFilesTemplate" as default template, naming should correct though
//var dataHTML = $(_self.getTemplate("defaultTemplate")).tmplProxy({
dataHTML=$(_self.getTemplate("defaultFilesTemplate")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey});_self.bindTemplateEvents(dataHTML,"defaultFilesTemplate");}}if(dataHTML){return dataHTML;}};FindlySDK.prototype.prepereWidgetHeader=function(responseData,xhrObject){var _self=this;var widgetData=_self.getWidgetDataByWidgetId(xhrObject.passedkey.subpanel);if(_typeof2(widgetData)==="object"){if(responseData&&(responseData.sortOptions&&responseData.sortOptions.length||responseData.filterOptions&&responseData.filterOptions.length||responseData.headerOptions&&responseData.headerOptions.type==="menu"&&responseData.headerOptions.menu&&responseData.headerOptions.menu.length||responseData.headerOptions&&responseData.headerOptions.type==="text"&&responseData.headerOptions.text||responseData.headerOptions&&responseData.headerOptions.type==="image"&&responseData.headerOptions.image&&responseData.headerOptions.image.image_src||responseData.headerOptions&&responseData.headerOptions.type==="button"&&responseData.headerOptions.button&&responseData.headerOptions.button.title||responseData.headerOptions&&responseData.headerOptions.type==="url"&&responseData.headerOptions.url&&responseData.headerOptions.url.title)){var headerHtml=$(_self.getTemplate("widgetHeader")).tmplProxy({tempData:responseData,helpers:helpers,panelDetail:xhrObject.passedkey,widgetData:widgetData});_self.bindTemplateEvents(headerHtml,"widgetHeader",responseData);$("#"+xhrObject.passedkey.subpanel+".widgetPanel").find(".panelHeader").html(headerHtml);}}};FindlySDK.prototype.renderTemplate=function(responseData,xhrObject){var _self=this;if(xhrObject&&xhrObject.passedkey){_self.prepereWidgetHeader(responseData,xhrObject);var dataHTML=_self.getHTMLTemplate(responseData,xhrObject);if(!xhrObject.passedkey.showAll){if(xhrObject.passedkey.panel&&xhrObject.passedkey.subpanel&&xhrObject.passedkey.filter){$(_self.config.container.content).find(".mainTemplateCntr#"+xhrObject.passedkey.panel+" #"+xhrObject.passedkey.subpanel+" #"+xhrObject.passedkey.filter+"_content").html(dataHTML);}else if(xhrObject.passedkey.panel&&xhrObject.passedkey.subpanel){$(_self.config.container.content).find(".mainTemplateCntr#"+xhrObject.passedkey.panel+" #"+xhrObject.passedkey.subpanel+" #"+xhrObject.passedkey.subpanel+"_content").html(dataHTML);}if(KRPerfectScrollbar){_self.vars.contentPSObj=null;if(!_self.vars.contentPSObj){_self.vars.contentPSObj=new KRPerfectScrollbar($(_self.config.container.content).find(".mainTemplateBdr").get(0),{suppressScrollX:true});}else{_self.vars.contentPSObj.update();}}}else{if(xhrObject.passedkey.panel&&xhrObject.passedkey.subpanel&&xhrObject.passedkey.filter){$(_self.config.container.content).find(".viewMoreCntr#"+xhrObject.passedkey.panel+" #"+xhrObject.passedkey.subpanel+" #"+xhrObject.passedkey.filter+"_content").html(dataHTML);}else if(xhrObject.passedkey.panel&&xhrObject.passedkey.subpanel){$(_self.config.container.content).find(".viewMoreCntr#"+xhrObject.passedkey.panel+" #"+xhrObject.passedkey.subpanel).html(dataHTML);}// if (!viewMoreCntrScroll) {
//   viewMoreCntrScroll = new PerfectScrollbar('.viewMoreCntr .scroll', { suppressScrollX: true });
// } else {
//   viewMoreCntrScroll.update();
// }
if(KRPerfectScrollbar){_self.vars.contentPSObj=null;if(!_self.vars.contentPSObj){_self.vars.contentPSObj=new KRPerfectScrollbar($(_self.config.container.content).find(".mainTemplateBdr").get(0),{suppressScrollX:true});}else{_self.vars.contentPSObj.update();}}}}//#todo //applyWidgetOverlay();
};FindlySDK.prototype.resolveUrl=function(toResolveUrl,values,deleteProp){var _regExToParamName=/\:([a-zA-Z]+)/g;return toResolveUrl.replace(_regExToParamName,function(matchStr,valName){var r=values[valName];if(typeof r!=="undefined"&&typeof r!==null){if(deleteProp){delete values[valName];}return r;}return matchStr;});};FindlySDK.prototype.getResolveMeeting=function(obj){var _self=this;var items=[];if(obj&&obj.elements&&obj.elements.length){for(i=0;i<obj.elements.length;i++){var temp=[];var actionsArr=obj.elements[i].actions;for(var k=0;k<actionsArr.length;k++){var actionObj=actionsArr[k];if(actionObj.type!=="dial"){temp.push(actionObj);}}obj.elements[i].actions=temp;var ele=Object.assign({},obj.elements[i]);var slots=_self.getMeetingSlot(ele.data.duration);for(j=0;j<slots.length;j++){var today=new Date();var localStarttime=new Date(slots[j].start);if((today.getFullYear()<=localStarttime.getFullYear()&&today.getMonth()<=localStarttime.getMonth()&&today.getDate()<=localStarttime.getDate()||today.getTime()<=slots[j].start)&&slots[j].end<=obj.cursor.end){ele.data.duration=slots[j];var startTime=new Date(slots[j].start);var endTime=new Date(slots[j].end);if(slots.length===1){if(ele.data.isAllDay){ele.day="All Day";ele["break"]=true;ele.localDay={intial:"All Day"};items.push(_self.cloneMessage1(ele));}else if(startTime.getHours()===0&&startTime.getMinutes()===0&&endTime.getHours()===23&&endTime.getMinutes()===59){ele.day="All Day";ele["break"]=true;ele.localDay={intial:"All Day"};items.push(_self.cloneMessage1(ele));}else{items.push(_self.cloneMessage1(ele));}}else{var off=j+1;if(startTime.getHours()===0&&startTime.getMinutes()===0&&endTime.getHours()===23&&endTime.getMinutes()===59){ele.day="All Day";ele["break"]=true;if(off===slots.length){ele.localDay={intial:"All Day",last:" (Day "+off+"/"+slots.length+")"};}else{ele.localDay={intial:"All Day",last:" (Day "+off+"/"+slots.length+")"};}}else if(off!==slots.length){ele.day="From"+getTime(startTime)+" Day ("+off+"/"+slots.length+")";ele["break"]=true;ele.localDay={intial:"From",time:getTime(startTime),last:" (Day "+off+"/"+slots.length+")"};}else if(off===slots.length){ele.day="Till"+getTime(endTime)+" Day ("+off+"/"+slots.length+")";ele["break"]=true;ele.localDay={intial:"Till",time:getTime(endTime),last:" (Day "+off+"/"+slots.length+")"};}items.push(_self.cloneMessage1(ele));}}}}items.sort(_self.compare);return items;}else{return items;}};FindlySDK.prototype.filterTabs=function(parentId,subpanelId,filterId){var _self=this;$(parentId+" #"+subpanelId+" ."+subpanelId+"_content").hide();// hiding the content panel
$(parentId+" #"+subpanelId+" #"+filterId+"_content").show();// showing the content panel
$(parentId+" #"+subpanelId+" .filterCntr li").addClass("unActive").removeClass("active");// removing active class from all and adding unactive class to all
$(parentId+" #"+subpanelId+" #"+filterId).addClass("active").removeClass("unActive");// add active in current tab and remove unactive
_self.resetTask();};FindlySDK.prototype.viewMorePanel=function(obj){var _self=this;var initialWidgetData=_self.vars.initialWidgetData;var viewMoreObj;intializeOffset=0;try{viewMoreObj=JSON.parse(obj);for(var i=0;i<initialWidgetData.panels.length;i++){if(initialWidgetData.panels[i]._id.toLowerCase()===viewMoreObj.panel.toLowerCase()){for(var j=0;j<initialWidgetData.panels[i].widgets.length;j++){initialWidgetData.panels[i].widgets[j].templateType=initialWidgetData.panels[i].widgets[j].templateType==undefined?"Sushanth":initialWidgetData.panels[i].widgets[j].templateType;if(initialWidgetData.panels[i].widgets[j]._id===viewMoreObj.subpanel){var ele=$.extend(true,{},initialWidgetData.panels[i]);ele.widgets=[];ele.widgets.push(initialWidgetData.panels[i].widgets[j]);if(ele.widgets.length===1){var dataHTML=$(_self.getTemplate("viewMoreTemplate")).tmplProxy({widgetData:ele,helpers:helpers,panelDetail:viewMoreObj});}else{for(var k=0;k<ele.widgets.length;k++){if(ele.widgets[k].id!==viewMoreObj.subpanel){ele.widgets.splice(k,1);}}var dataHTML=$(_self.getTemplate("viewMoreTemplate")).tmplProxy({widgetData:ele,helpers:helpers,panelDetail:viewMoreObj});}$(_self.config.container.content).append(dataHTML);if(initialWidgetData.panels[i].widgets[j].hook&&initialWidgetData.panels[i].widgets[j].hook.api){var panelDetail={panel:initialWidgetData.panels[i]._id,subpanel:initialWidgetData.panels[i].widgets[j].id,widgetTemplate:initialWidgetData.panels[i].widgets[j].templateType,viewmore:false,showAll:true};_self.getServerData(initialWidgetData.panels[i].widgets[j].hook.api,initialWidgetData.panels[i].widgets[j].hook.method,initialWidgetData.panels[i].widgets[j].hook.body,initialWidgetData.panels[i].widgets[j].hook.params,panelDetail);}else{if(initialWidgetData.panels[i].widgets[j].filters){for(var l=0;l<initialWidgetData.panels[i].widgets[j].filters.length;l++){var panelDetail={panel:initialWidgetData.panels[i]._id,subpanel:initialWidgetData.panels[i].widgets[j].id,widgetTemplate:initialWidgetData.panels[i].widgets[j].templateType,viewmore:false,filter:initialWidgetData.panels[i].widgets[j].filters[l].id,showAll:true};_self.getServerData(initialWidgetData.panels[i].widgets[j].filters[l].hook.api,initialWidgetData.panels[i].widgets[j].filters[l].hook.method,initialWidgetData.panels[i].widgets[j].filters[l].hook.body,initialWidgetData.panels[i].widgets[j].filters[l].hook.params,panelDetail);}}}}}}}}catch(e){}};FindlySDK.prototype.scrollData=function(paneldata,filterdata,panelType,e){var _self=this;var paneldata=JSON.parse(paneldata);var filterdata=JSON.parse(filterdata);var pos=e.scrollTop+e.offsetHeight;var max=e.scrollHeight;if(pos===max){if(filterdata&&filterdata.hook&&filterdata.hook.api){var apiAjax=filterdata.hook.api;//cacheData Api
if(filterdata.hook.params){apiAjax=apiAjax+"?"+$.param(filterdata.hook.params);}var resultApiCache=cacheData.filter(function(obj){return obj.api===apiAjax;});var viewMoredata=resultApiCache[0].response;if(viewMoredata&&viewMoredata.hasMore){paneldata.viewmore=panelType==="maintemplate"?false:false;_self.scrollServerData(viewMoredata.hook.api,viewMoredata.hook.method,viewMoredata.hook.body,paneldata,e,viewMoredata,panelType);}}}};FindlySDK.prototype.scrollServerData=function(url,method,payload,passedJson,e,viewMoredata,panelType){var _self=this;url=_self.resolveUrl(url,{userId:config.botOptions.botInfo.customData.kmUId},false);if(viewMoredata.hook.params)url=viewMoredata.hook.api+"?"+$.param(viewMoredata.hook.params);return $.ajax({url:baseUrl+"/"+url,type:method,data:payload,myData:passedJson,async:true,beforeSend:function beforeSend(xhr,passedkey){xhr.setRequestHeader("Authorization","bearer "+config.botOptions.botInfo.customData.kmToken);xhr.passedkey=passedkey.myData;},success:function success(responsedata,status,xhrObject){var responseData=_self.mergedata(viewMoredata,responsedata);xhrObject.passedkey["showAll"]=panelType==="maintemplate"?false:true;if(xhrObject&&xhrObject.passedkey){if(xhrObject.passedkey.widgetTemplate==="calendar_events"){var ele=$.extend(true,{},responseData);var ele1=$.extend(true,{},responseData);var elements=_self.getResolveMeeting(ele);ele1.elements=elements;var dataHTML=$(_self.getTemplate("meetingTemplate")).tmplProxy({tempdata:ele1,helpers:helpers,panelDetail:xhrObject.passedkey,showAll:panelType==="maintemplate"?false:true});}else if(xhrObject.passedkey.widgetTemplate==="task_list"){var dataHTML=$(_self.getTemplate("tasksTemplate")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey,showAll:panelType==="maintemplate"?false:true});}else if(xhrObject.passedkey.widgetTemplate==="cloudFiles"){var dataHTML=$(_self.getTemplate("filesTemplate")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey,showAll:panelType==="maintemplate"?false:true});}else if(xhrObject.passedkey.widgetTemplate==="Sushanth"||xhrObject.passedkey.widgetTemplate==="custom_style"){var dataHTML=$(_self.getTemplate("defaultFilesTemplate")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey});}else if(xhrObject.passedkey.widgetTemplate==="knowledge_list"){var dataHTML=$(_self.getTemplate("knowledgeTemplate")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey,showAll:panelType==="maintemplate"?false:true});}else if(xhrObject.passedkey.widgetTemplate==="TrendingHashTag"){var dataHTML=$(_self.getTemplate("hashtagTemplate")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey,showAll:panelType==="maintemplate"?false:true});}else if(xhrObject.passedkey.widgetTemplate==="announcement_list"){var dataHTML=$(_self.getTemplate("announcementTemplate")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey,showAll:panelType==="maintemplate"?false:true});}else{var dataHTML=$(_self.getTemplate("defaultTemplate")).tmplProxy({tempdata:responseData,helpers:helpers,panelDetail:xhrObject.passedkey});}$(e).html(dataHTML);if(panelType==="viewmore"&&!viewMoreCntrScroll){viewMoreCntrScroll=new perfect_scrollbar__WEBPACK_IMPORTED_MODULE_0__["default"](".viewMoreCntr .scroll",{suppressScrollX:true});}else{if(panelType==="viewmore"){viewMoreCntrScroll.update();}}}},error:function error(err){var xhrObject={};xhrObject.passedkey={};xhrObject.passedkey=err.passedkey;var dataHTML=$(_self.getTemplate("ErrorTemplate")).tmplProxy({tempdata:xhrObject,panelDetail:xhrObject.passedkey});$(e).html(dataHTML);if(KRPerfectScrollbar){_self.vars.contentPSObj=null;if(!_self.vars.contentPSObj){_self.vars.contentPSObj=new KRPerfectScrollbar($(_self.config.container.content).find(".mainTemplateBdr").get(0),{suppressScrollX:true});}else{_self.vars.contentPSObj.update();}}}});};FindlySDK.prototype.mergedata=function(oldJson,newJson){var oldkeys=Object.keys(oldJson);var newkeys=Object.keys(newJson);var commonKeys=oldkeys.filter(function(obj){return newkeys.indexOf(obj)!==-1;});//updating oldJson based on newJson
for(var k=0;k<commonKeys.length;k++){if(commonKeys[k]==="elements"){oldJson.elements=oldJson.elements.concat(newJson.elements);}else{delete oldJson[commonKeys[k]];oldJson[commonKeys[k]]=newJson[commonKeys[k]];}}return oldJson;};FindlySDK.prototype.setChatFocus=function(){var _self=this;$(".menuItemCntr .menuItem").removeClass("active");$(".menuItemCntr #kora").addClass("active");menuActiveTab="";_self.resetTask();clearInterval(pollingTimer);if(meetingTimeRef.length>0){for(var k=0;k<meetingTimeRef.length;k++){clearInterval(meetingTimeRef[k]);}}if($(_self.config.container.content).is(":visible")){$(_self.config.container.content).hide("slide",{direction:_self.config.direction//$.jStorage.get('menuPosition')
},500);}$(".chatInputBox").focus();$(".centerWindow").children().not(".kore-chat-window").not(".koraPanelHeader").not(".centralLoader").remove();};FindlySDK.prototype.removeViewMore=function(){var _self=this;$(_self.config.container.content).find(".viewMoreCntr").remove();};FindlySDK.prototype.getColumnWidth=function(width){var _self=this;var newWidth;var widthToApply="100%";if(width){newWidth=width.replace(/[^\d.-]/g,"");try{widthToApply=100-parseInt(newWidth,10);}catch(e){}return widthToApply;}};FindlySDK.prototype.refreshElement=function(panelDetails,refreshFullpanel,widgetData){// need to correct with filter implementation form and imputs mainlt//
var _self=this;var _config=this.config;if(panelDetails){try{var panelDetails=JSON.parse(panelDetails);if(refreshFullpanel){_self.prepareRenderData(panelDetails.panel);}else{if(widgetData){clearInterval(widgetData.pollingTimer);}$(".widgetContParent#"+panelDetails.subpanel).find(".progress").show();_self.getServerData("widgetsdk/"+_config.botOptions.botInfo._id+"/widgets/"+panelDetails.subpanel,"post",{},{from:_config.botOptions.userIdentity||"user-name"},panelDetails);}}catch(e){}}};FindlySDK.prototype.refreshWidgetData=function(widgetData,time,panelDetail){var _self=this;var currTime=new Date().getTime();var givenTime=new Date().getTime()+1000*time;givenTime=parseInt(givenTime);if($(_self.config.container.content).find(".mainTemplateCntr#"+panelDetail.panel).is(":visible")&&currTime<givenTime){_self.startWidgetPolling(widgetData,currTime,givenTime,panelDetail);}else{clearInterval(widgetData.pollingTimer);}};FindlySDK.prototype.clearWidgetPolling=function(widgetData){var _self=this;if(widgetData){clearInterval(widgetData.pollingTimer);}else{if(_self.vars.initialWidgetData&&_self.vars.initialWidgetData.panels&&_self.vars.initialWidgetData.panels.length){for(var i=0;i<_self.vars.initialWidgetData.panels.length;i++){//todo: deviation :adding "id" from "_id"
if(_self.vars.initialWidgetData.panels[i].widgets&&_self.vars.initialWidgetData.panels[i].widgets.length){_self.vars.initialWidgetData.panels[i].widgets.forEach(function(widget){if(widget.pollingTimer){clearInterval(widget.pollingTimer);}});}//todo: deviation :added fallback icon for panels
}}}};FindlySDK.prototype.startWidgetPolling=function(widgetData,currTime,givenTime,panelDetail){var _self=this;widgetData.pollingTimer=setInterval(function(){currTime=currTime+5000;if(givenTime<currTime){clearInterval(widgetData);var panelDetailsString=JSON.stringify(panelDetail);_self.refreshElement(panelDetailsString,false,widgetData);}},5000);};FindlySDK.prototype.refreshData=function(panelName,time){var _self=this;var currTime=new Date().getTime();var givenTime=new Date().getTime()+1000*time;givenTime=parseInt(givenTime);if($(_self.config.container.content).find(".mainTemplateCntr#"+panelName).is(":visible")&&currTime<givenTime){_self.startPolling(panelName,currTime,givenTime);}else{clearInterval(pollingTimer);if(meetingTimeRef.length>0){for(var k=0;k<meetingTimeRef.length;k++){clearInterval(meetingTimeRef[k]);}}}};FindlySDK.prototype.startPolling=function(panelName,currTime,givenTime){var _self=this;pollingTimer=setInterval(function(){currTime=currTime+5000;if(givenTime<currTime){clearInterval(pollingTimer);if(meetingTimeRef.length>0){for(var k=0;k<meetingTimeRef.length;k++){clearInterval(meetingTimeRef[k]);}}meetingTimeRef=[];_self.prepareRenderData(panelName,false);}},5000);};FindlySDK.prototype.resetTask=function(){taskList=[];taskTitle={};$(".viewMoreCntr .viewTask").find('[type="checkbox"]').prop("checked",false);$(".viewMoreCntr .taskSelectCntr,.viewMoreCntr .taskSelectFootCntr").hide();$(".allTaskCntr .viewTask").removeClass("selected");};FindlySDK.prototype.meetingTimer=function(tdata,m_Data,index){var _self=this;//#TODO
// if (this.constructor !== FindlySDK) {
//   _self = koreWidgetSDKInstance;
// }
if(index===0){meetingArray=[];if(meetingTimeRef.length>0){for(var k=0;k<meetingTimeRef.length;k++){clearInterval(meetingTimeRef[k]);}}meetingTimeRef=[];}m_Data.data.duration.objId="m_"+index;meetingArray.push(m_Data.data.duration);var m_startTime=m_Data.data.duration.start;// meeting start timeStamp
var m_endTime=m_Data.data.duration.end;// meeting end timeStamp
var dayType=helpers.getTimeline(m_startTime,"fulldate","meetings");var timeStatus=helpers.compareCurntTimeAndTimln_minutes(m_startTime,m_endTime,"textFormat");meetingTimeRef[index]=null;m_Data.data.duration.dayType=dayType;m_Data.data.duration.index=index;m_Data.data.duration.timeStatus=timeStatus;_self.startTimer(meetingArray[index]);return timeStatus;};FindlySDK.prototype.startTimer=function(mObj){var _self=this;//#TODO
// if(this.constructor!==FindlySDK){
//   _self=koreWidgetSDKInstance;
// }
if(meetingTimeRef[mObj.index]===null){var meetingTimerv=setInterval(function(){var timeStatus=helpers.compareCurntTimeAndTimln_minutes(mObj.start,mObj.end,"textFormat");var dayType=helpers.getTimeline(mObj.start,"fulldate","meetings");if(mObj.dayType&&dayType!==mObj.dayType||mObj.timeStatus&&timeStatus==="Now"&&mObj.timeStatus!==timeStatus){_self.prepareRenderData("meetings",true);}else{$("#"+mObj.objId).html(timeStatus);}},30*1000);meetingTimeRef[mObj.index]=meetingTimerv;}};//********************original widgetEvents.js end */
//********************original widgetTemplateEvent.js start */
var taskList=[],taskTitle={},viewMoreScrollBox=null;FindlySDK.prototype.passHashTag=function(uttarence){var message="find the articles with "+uttarence;window["chatWinRef"].sendMessage($(".chatInputBox"),message,{},"onlyMessage");};FindlySDK.prototype.openArticle=function(kId){window.angularComponentReference.zone.run(function(){window.angularComponentReference.componentFn({id:kId});});};FindlySDK.prototype.openAnnouncement=function(kId){window.angularComponentReference.zone.run(function(){window.viewMoreKnowledgeAnncCmp.componentFn({id:kId,viewType:"announceWidgetView"});});};FindlySDK.prototype.openLink=function(url){if(url){window.open(url,"_blank");}};FindlySDK.prototype.passTaskUtterances=function(e,actionIndex){var _self=this;var taskData=JSON.parse($(e).attr("payload"));message=taskData.actions[actionIndex].utterance.replace(/qwertyuiopasdfghjklzxcvbnmdouble/g,'"');message=taskData.actions[actionIndex].utterance.replace(/qwertyuiopasdfghjklzxcvbnm/g,"'");if($(".switchKoraDD .switchHeader .skillNameTxt").text().trim().toLowerCase()!=="kora"){var desc=$(".switchKoraDD .switchHeader .skillNameTxt").text().trim();var content=[{id:"taskBotInfo",title:"Switch Skill",desc:"This action will end your conversation with "+desc+" skill and move to Kora. Do you want to continue? ",buttons:[{title:"YES"},{title:"NO"}]}];_self.createPopup(content,taskData.id,"Ask Kora "+message);}else{_self.passUtterances(taskData.id,message);}};FindlySDK.prototype.passUtterances=function(idss,message,evt){var _self=this;if(evt){evt.stopPropagation();evt.preventDefault();}if(idss=="url"){window.open(message,"_blank");return;}var parmaMessage={ids:[]};parmaMessage.ids=[];parmaMessage.ids.push(idss);var actionObj=$(evt.currentTarget).attr("actionobj");actionObj=JSON.parse(actionObj);var eData={payload:parmaMessage,type:"widget"};_self.triggerAction(actionObj,eData);// if(actionObj.payload){
//   eData.payload=actionObj.payload;
// }
// if(actionObj.nlmeta){
//   eData.nlmeta=actionObj.nlmeta;
// }
// if(actionObj.customdata){
//   eData.customdata=actionObj.customdata;
// }
// _self.triggerEvent('postback',eData);
// //$(_self).triggerHandler('postback',{"some":"obj","message":message});
// //window['chatWinRef'].sendMessage($('.chatInputBox'), message, parmaMessage, 'widget');
// _self.setChatFocus();
};FindlySDK.prototype.triggerEvent=function(eventName,data){var _self=this;if(_self.events&&_self.events[eventName]){_self.events[eventName](data);_self.setChatFocus();}};FindlySDK.prototype.triggerAction=function(actionObj,postData){var _self=this;if(actionObj.type==="url"){window.open(actionObj.url,"_blank");return;}var eData=postData||{};if(actionObj.utterance){eData.utterance=actionObj.utterance;}if(actionObj.payload){eData.payload=actionObj.payload;}if(actionObj.nlMeta){eData.nlMeta=actionObj.nlMeta;}if(actionObj.customdata){eData.customData=actionObj.customData;}_self.triggerEvent("onPostback",eData);_self.openPanel("closePanel");_self.setChatFocus();};FindlySDK.prototype.checkCurrentUser=function(oId,aId){var _self=this;var uId=_self.config.userInfo.id;//$.jStorage.get('currentAccount').userInfo.id;
if(oId==uId&&aId==uId){return true;}else{return false;}};FindlySDK.prototype.categoriseMeetingDayWise=function(mData){var ele=object.assign({},mData);for(var k=0;k<ele.length;k++){var dayType=helpers.getTimeline(ele.data.duration.start,"fulldate","meetings");if(dayType==="Next Inline"){}else if(dayType==="Later Today"){}else{}}};FindlySDK.prototype.showDropdown=function(obj){if($(obj).next().hasClass("dropdown-contentWidgt")){$(obj).next().toggleClass("show");}$(".dropdown-contentWidgt.show").not($(obj).next()).removeClass("show");};// Close the dropdown if the user clicks outside of it
(function(){window.onclick=function(event){if(!event.target.matches(".dropbtnWidgt")){var dropdowns=document.getElementsByClassName("dropdown-contentWidgt");var i;for(i=0;i<dropdowns.length;i++){var openDropdown=dropdowns[i];if(openDropdown.classList.contains("show")){openDropdown.classList.remove("show");}}}};})();FindlySDK.prototype.addArticleAnnouncement=function(type){if(type==="Article"){window.angularComponentReference.zone.run(function(){window.addKnowledge.componentFn();});}else if(type==="Announcement"){window.angularComponentReference.zone.run(function(){window.addAnnouncement.componentFn();});}};FindlySDK.prototype.passMeetingUtterances=function(_this){var _self=this;mainObj=$(_this).attr("mainObj");actionObj=$(_this).attr("actionObj");var actionObjJson=JSON.parse(actionObj);var eData={utterance:actionObjJson.utterance,payload:actionObjJson.payload,type:"widget"};if(actionObjJson.payload){eData.payload=actionObjJson.payload;}if(actionObjJson.nlmeta){eData.nlmeta=actionObjJson.nlmeta;}if(actionObjJson.customdata){eData.customdata=actionObjJson.customdata;}_self.triggerEvent("onPostback",eData);// if ($('.switchKoraDD .switchHeader .skillNameTxt').text().trim().toLowerCase() !== "kora") {
//   var desc = $('.switchKoraDD .switchHeader .skillNameTxt').text().trim();
//   var content = [{
//     'id': 'meetingInfo',
//     'title': 'Switch Skill',
//     'desc': 'This action will end your conversation with ' + desc + ' skill and move to Kora. Do you want to continue?',
//     'buttons': [
//       { 'title': 'YES' },
//       { 'title': 'NO' }
//     ]
//   }]
//   _self.createPopup(content, actionObj, mainObj);
// } else {
//   _self.meetingAction(actionObj, mainObj);
// }
};FindlySDK.prototype.meetingAction=function(actionObj,mainObj){try{actionObj=JSON.parse(actionObj);mainObj=JSON.parse(mainObj);var temp=new Object();temp["title"]=mainObj.title;temp["duration"]=mainObj.data.duration;temp["where"]=mainObj.location;temp["color"]=mainObj.data.color;temp["htmlLink"]=mainObj.data.htmlLink;temp["eventId"]=mainObj.data.eventId;temp["attendees"]=mainObj.data.attendees;temp["isAllDay"]=mainObj.data.isAllDay;temp["meetJoin"]=mainObj.data.meetJoin;temp["isOrganizer"]=mainObj.data.isOrganizer;temp["description"]=mainObj.data.description;temp["mId"]=mainObj.meetingId;if(actionObj.type==="postback"){var parmaMessage={ids:[mainObj.data.eventId]};window["chatWinRef"].sendMessage($(".chatInputBox"),actionObj.utterance,parmaMessage,"widget");setChatFocus();}else if(actionObj.type==="view_details"){window.angularComponentReference.zone.run(function(){window.openMeetingDetail.componentFn(temp);});}else if(actionObj.type==="open_form"){window.angularComponentReference.zone.run(function(){window.openCreateNotes.componentFn(temp);});}else if(actionObj.type==="url"){window.open(actionObj.url,"_blank");}}catch(e){}};FindlySDK.prototype.taskkAction=function(tId,taskName,e){if(taskList.indexOf(tId)>=0){taskList.splice(taskList.indexOf(tId),1);$(e).parents(".viewTask").removeClass("selected");}else{taskTitle[tId]=taskName;taskList.push(tId);$(e).parents(".viewTask").addClass("selected");}if(taskList.length===1){$(".viewMoreCntr .mainTemplateBdr .widgetContentPanel").css({height:"calc(100% - 135px - "+$(".taskSelectFootCntr").height()+"px)"});}if(taskList.length===0){$(".viewMoreCntr .mainTemplateBdr .widgetContentPanel").css({height:"calc(100% - 135px)"});}if(taskList.length){$(".viewMoreCntr .taskSelectCntr,.viewMoreCntr .taskSelectFootCntr").show();var task=taskList.length===1?"task":"tasks";$(".viewMoreCntr .taskSelectCntr .taskCount").text(taskList.length+" "+task+" selected");}else{$(".viewMoreCntr .taskSelectCntr,.viewMoreCntr .taskSelectFootCntr").hide();}// $(e)[0].scrollIntoView(false);
// $(e)[0].scrollIntoView({ behavior: "smooth", block: "end", inline: "nearest" });
};FindlySDK.prototype.removeTaskSelection=function(){resetTask();if(taskList.length===0){$(".viewMoreCntr .mainTemplateBdr .widgetContentPanel").css({height:"calc(100% - 135px)"});}};FindlySDK.prototype.taskSend=function(type){var _self=this;if($(".switchKoraDD .switchHeader .skillNameTxt").text().trim().toLowerCase()!=="kora"){var desc=$(".switchKoraDD .switchHeader .skillNameTxt").text().trim();var content=[{id:"taskInfo",title:"Switch Skill",desc:"This action will end your conversation with "+desc+" skill and move to Kora. Do you want to continue? ",buttons:[{title:"YES"},{title:"NO"}]}];_self.createPopup(content,type,"");}else{_self.sendTaskAction(type,"normal");}};FindlySDK.prototype.taskCheckbox=function(taskId){if(taskList.indexOf(taskId)>=0){return true;}else{return false;}};FindlySDK.prototype.sendTaskAction=function(type,actionPlace){var msg="";var parmaMessage={ids:taskList};if(type==="complete"){if(taskList.length===1){msg="Complete task - "+taskTitle[taskList[0]];}else{msg="Complete selected tasks";}}else if(type==="changeduedate"){if(taskList.length===1){msg="Change due date of task - "+taskTitle[taskList[0]];}else{msg="Change due date of the selected tasks";}}if(actionPlace==="switchbot"){msg="Ask Kora "+msg;}window["chatWinRef"].sendMessage($(".chatInputBox"),msg,parmaMessage,"meeting_action");taskList=[];taskTitle={};$(_self.config.container.content).find(".viewMoreCntr").remove();};FindlySDK.prototype.popupAction=function(data,title,_this){var _self=this;var actionObj=$(_this).attr("actionObj");var mainObj=$(_this).attr("mainObj");try{var loData=JSON.parse(data);var loTitle=title.toLowerCase();if(loTitle==="no"){if(loData[0].id==="skillSwitche"){$(".mgrCntr").find("#preview_"+loData[0]["id"]).fadeOut("fast",function(){$(".mgrCntr").find("#preview_"+loData[0]["id"]).remove();});$(".mgrCntr").find("#popup_"+loData[0]["id"]).fadeOut("fast",function(){$(".mgrCntr").find("#popup_"+loData[0]["id"]).remove();});actionObj.btnresponse=false;openPanel(actionObj.oldPanel,actionObj);return;}$(".mgrCntr").find("#preview_"+loData[0]["id"]).fadeOut("slow",function(){$(".mgrCntr").find("#preview_"+loData[0]["id"]).remove();});$(".mgrCntr").find("#popup_"+loData[0]["id"]).fadeOut("slow",function(){$(".mgrCntr").find("#popup_"+loData[0]["id"]).remove();});}else if(loTitle==="yes"){if(loData[0].id==="meetingInfo"){var lactionObj=JSON.parse(actionObj);lactionObj.utterance="Ask Kora "+lactionObj.utterance;_self.meetingAction(JSON.stringify(lactionObj),mainObj);}else if(loData[0].id==="taskInfo"){_self.sendTaskAction(actionObj,"switchbot");}else if(loData[0].id==="taskBotInfo"){_self.passUtterances(actionObj,mainObj);}else if(loData[0].id==="skillSwitche"){$(".mgrCntr").find("#preview_"+loData[0]["id"]).fadeOut("fast",function(){$(".mgrCntr").find("#preview_"+loData[0]["id"]).remove();});$(".mgrCntr").find("#popup_"+loData[0]["id"]).fadeOut("fast",function(){$(".mgrCntr").find("#popup_"+loData[0]["id"]).remove();});var actionObj=JSON.parse(actionObj);actionObj.btnresponse=true;openPanel(actionObj.newPanel,actionObj);return;}$(".mgrCntr").find("#preview_"+loData[0]["id"]).fadeOut("slow",function(){$(".mgrCntr").find("#preview_"+loData[0]["id"]).remove();});$(".mgrCntr").find("#popup_"+loData[0]["id"]).fadeOut("slow",function(){$(".mgrCntr").find("#popup_"+loData[0]["id"]).remove();});}else if(loTitle.toLowerCase()==="ok"){if(loData[0].id==="tokenExpired"){window.angularComponentReference.zone.run(function(){window.componentRefsessionTmout.componentFn();});}}}catch(e){}};FindlySDK.prototype.createPopup=function(content,actionObj,mainObj){var _self=this;var dataHTML=$(_self.getTemplate("popUpTemplate")).tmplProxy({tempdata:content,actionObj:actionObj,mainObj:mainObj});$(".mgrCntr").append(dataHTML);};FindlySDK.prototype.toggelMeetingActionBtn=function(id,e){if($(e).children().hasClass("icon-Arrow_Drop_Down_Up")){$(e).children().removeClass("icon-Arrow_Drop_Down_Up");$(e).children().addClass("icon-Arrow_Drop_Down");}else{$(e).children().addClass("icon-Arrow_Drop_Down_Up");$(e).children().removeClass("icon-Arrow_Drop_Down");}$("#"+id).slideToggle("slow");};FindlySDK.prototype.hexToRGBMeeting=function(hex,alpha){if(!alpha){if($("body").hasClass("darkTheme")){alpha=0.7;}else{alpha=0.3;}}var r=parseInt(hex.slice(1,3),16),g=parseInt(hex.slice(3,5),16),b=parseInt(hex.slice(5,7),16);if(alpha){return"rgba("+r+", "+g+", "+b+", "+alpha+")";}else{return"rgb("+r+", "+g+", "+b+")";}};FindlySDK.prototype.isURL=function(str){function hasWhiteSpace(text){return /\s/g.test(text);}var statusWhiteSpace=hasWhiteSpace(str);if(statusWhiteSpace){str=str.split(/[ ]+/);str=str[0];}// var pattern = new RegExp('^((https|http)?:\\/\\/)?' + // protocol
//     '((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|' + // domain name
//     '((\\d{1,3}\\.){3}\\d{1,3}))' + // OR ip (v4) address
//     '(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*' + // port and path
//     '(\\?[;&a-z\\d%_.~+=-]*)?' + // query string
//     '(\\#[-a-z\\d_]*)?$', 'i'); // fragment locator
var res=str.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g);if(res){return{status:true,location:str};}else{return{status:false,location:str};}};//********************original widgetTemplateEvent.js end */
FindlySDK.prototype.getTemplateMethods=function(){var _self=this;var methodMap={};var templateMethodsArr=["openPanel","filterTabs","viewMorePanel","scrollData","removeViewMore","meetingTimer","passHashTag","openArticle","openAnnouncement","openLink","passTaskUtterances","passUtterances","checkCurrentUser","showDropdown","addArticleAnnouncement","passMeetingUtterances","taskkAction","removeTaskSelection","taskSend","taskCheckbox","popupAction","toggelMeetingActionBtn","hexToRGBMeeting","isURL"];templateMethodsArr.forEach(function(methodName){methodMap[methodName]=_self[methodName].bind(_self);});return methodMap;};FindlySDK.prototype.openPanelForWindow=function(panelName,resPopUp,heightToggle){FindlySDK.prototype.openPanel.call(koreWidgetSDKInstance,panelName,resPopUp,heightToggle);};FindlySDK.prototype.getHTMLForSearch=function(val){return FindlySDK.prototype.convertMDtoHTML.call(koreWidgetSDKInstance,val);};FindlySDK.prototype.convertMDtoHTMLForCarousel=function(val,responseType,msgItem){return FindlySDK.prototype.convertMDtoHTML.call(koreWidgetSDKInstance,val,responseType,msgItem);};FindlySDK.prototype.filterTabsForWindow=function(parentId,subpanelId,filterId){FindlySDK.prototype.filterTabs.call(koreWidgetSDKInstance,parentId,subpanelId,filterId);};FindlySDK.prototype.viewMorePanelForWindow=function(obj){FindlySDK.prototype.viewMorePanel.call(koreWidgetSDKInstance,obj);};FindlySDK.prototype.scrollDataForWindow=function(paneldata,filterdata,panelType,e){FindlySDK.prototype.scrollData.call(koreWidgetSDKInstance,paneldata,filterdata,panelType,e);};FindlySDK.prototype.removeViewMoreForWindow=function(){FindlySDK.prototype.removeViewMore.call(koreWidgetSDKInstance);};FindlySDK.prototype.meetingTimerForWindow=function(tdata,m_Data,index){FindlySDK.prototype.meetingTimer.call(koreWidgetSDKInstance,tdata,m_Data,index);};FindlySDK.prototype.passHashTagForWindow=function(uttarence){FindlySDK.prototype.passHashTag.call(koreWidgetSDKInstance,uttarence);};FindlySDK.prototype.openArticleForWindow=function(kId){FindlySDK.prototype.openArticle.call(koreWidgetSDKInstance,kId);};FindlySDK.prototype.openAnnouncementForWindow=function(kId){FindlySDK.prototype.openAnnouncement.call(koreWidgetSDKInstance,kId);};FindlySDK.prototype.openLinkForWindow=function(url){FindlySDK.prototype.openLink.call(koreWidgetSDKInstance,url);};FindlySDK.prototype.passTaskUtterancesForWindow=function(e,actionIndex){FindlySDK.prototype.passTaskUtterances.call(koreWidgetSDKInstance,e,actionIndex);};FindlySDK.prototype.passUtterancesForWindow=function(idss,message,evt){FindlySDK.prototype.passUtterances.call(koreWidgetSDKInstance,idss,message,evt);};FindlySDK.prototype.checkCurrentUserForWindow=function(oId,aId){FindlySDK.prototype.checkCurrentUser.call(koreWidgetSDKInstance,oId,aId);};FindlySDK.prototype.showDropdownForWindow=function(obj){FindlySDK.prototype.showDropdown.call(koreWidgetSDKInstance,obj);};FindlySDK.prototype.addArticleAnnouncementForWindow=function(type){FindlySDK.prototype.addArticleAnnouncement.call(koreWidgetSDKInstance,type);};FindlySDK.prototype.refreshElementForWindow=function(type,refreshType){FindlySDK.prototype.refreshElement.call(koreWidgetSDKInstance,type,refreshType);};FindlySDK.prototype.passMeetingUtterancesForWindow=function(_this){FindlySDK.prototype.passMeetingUtterances.call(koreWidgetSDKInstance,_this);};FindlySDK.prototype.taskkActionForWindow=function(tId,taskName,e){FindlySDK.prototype.taskkAction.call(koreWidgetSDKInstance,tId,taskName,e);};FindlySDK.prototype.removeTaskSelectionForWindow=function(){FindlySDK.prototype.removeTaskSelection.call(koreWidgetSDKInstance);};FindlySDK.prototype.taskSendForWindow=function(type){FindlySDK.prototype.taskSend.call(koreWidgetSDKInstance,type);};FindlySDK.prototype.taskCheckboxForWindow=function(taskId){FindlySDK.prototype.taskCheckbox.call(koreWidgetSDKInstance,taskId);};FindlySDK.prototype.popupActionForWindow=function(data,title,_this){FindlySDK.prototype.popupAction.call(koreWidgetSDKInstance,data,title,_this);};FindlySDK.prototype.toggelMeetingActionBtnForWindow=function(id,e){FindlySDK.prototype.toggelMeetingActionBtn.call(koreWidgetSDKInstance,id,e);};FindlySDK.prototype.hexToRGBMeetingForWindow=function(hex,alpha){FindlySDK.prototype.hexToRGBMeeting.call(koreWidgetSDKInstance,hex,alpha);};FindlySDK.prototype.isURLForWindow=function(str){FindlySDK.prototype.isURL.call(koreWidgetSDKInstance,str);};window.openPanel=FindlySDK.prototype.openPanelForWindow;window.getHTMLForSearch=FindlySDK.prototype.getHTMLForSearch;window.convertMDtoHTMLForCarousel=FindlySDK.prototype.convertMDtoHTMLForCarousel;window.filterTabs=FindlySDK.prototype.filterTabsForWindow;window.viewMorePanel=FindlySDK.prototype.viewMorePanelForWindow;window.scrollData=FindlySDK.prototype.scrollDataForWindow;window.removeViewMore=FindlySDK.prototype.removeViewMoreForWindow;window.meetingTimer=FindlySDK.prototype.meetingTimerForWindow;window.passHashTag=FindlySDK.prototype.passHashTagForWindow;window.openArticle=FindlySDK.prototype.openArticleForWindow;window.openAnnouncement=FindlySDK.prototype.openAnnouncementForWindow;window.openLink=FindlySDK.prototype.openLinkForWindow;window.passTaskUtterances=FindlySDK.prototype.passTaskUtterancesForWindow;window.passUtterances=FindlySDK.prototype.passUtterancesForWindow;window.checkCurrentUser=FindlySDK.prototype.checkCurrentUserForWindow;window.showDropdown=FindlySDK.prototype.showDropdownForWindow;window.addArticleAnnouncement=FindlySDK.prototype.addArticleAnnouncementForWindow;window.refreshElement=FindlySDK.prototype.refreshElementForWindow;window.passMeetingUtterances=FindlySDK.prototype.passMeetingUtterancesForWindow;window.taskkAction=FindlySDK.prototype.taskkActionForWindow;window.removeTaskSelection=FindlySDK.prototype.removeTaskSelectionForWindow;window.taskSend=FindlySDK.prototype.taskSendForWindow;window.taskCheckbox=FindlySDK.prototype.taskCheckboxForWindow;window.popupAction=FindlySDK.prototype.popupActionForWindow;window.toggelMeetingActionBtn=FindlySDK.prototype.toggelMeetingActionBtnForWindow;window.hexToRGBMeeting=FindlySDK.prototype.hexToRGBMeetingForWindow;window.isURL=FindlySDK.prototype.isURLForWindow;// window.openTab = FindlySDK.prototype.openTab;
FindlySDK.prototype.getMeetingSlot=function(duration){var _self=this;var slots=[];var myStart=new Date(duration.start);var myEnd=new Date(duration.end);days=_self.getDateArray(myStart,myEnd);day=days.length-1;if(day<1){return slots=[{start:duration.start,end:duration.end}];}else{var start=duration.start;var end=duration.end;for(var _i=0;_i<=day;_i++){var startDate=new Date(start);var endDate=new Date(end);if(_i>0){startDate.setDate(startDate.getDate()+_i);var tempStartDate=startDate;startDate=new Date(tempStartDate.getFullYear(),tempStartDate.getMonth(),tempStartDate.getDate(),0,0,0);// 2013-07-30 23:59:59
}var endOfDay="";if(_i===day){endOfDay=endDate;}else{endOfDay=new Date(startDate.getFullYear(),startDate.getMonth(),startDate.getDate(),23,59,0);// 2013-07-30 23:59:59
}var today=new Date();var localStarttime=new Date(startDate);// if (today.getFullYear() <= localStarttime.getFullYear() && today.getMonth() <= localStarttime.getMonth() && today.getDate() <= localStarttime.getDate())
slots.push({start:new Date(startDate).getTime(),end:new Date(endOfDay).getTime()});}return slots;}};FindlySDK.prototype.getDateArray=function(start,end){var arr=new Array(),dt=new Date(start);while(dt<=end){arr.push(new Date(dt));dt.setDate(dt.getDate()+1);}return arr;};FindlySDK.prototype.cloneMessage1=function(obj){var _self=this;var rv;switch(_typeof(obj)){case"object":if(obj===null){rv=null;}else{switch(toString.call(obj)){case"[object Array]":rv=obj.map(_self.cloneMessage1.bind(_self));break;case"[object Date]":rv=new Date(obj);break;case"[object RegExp]":rv=new RegExp(obj);break;default:rv=Object.keys(obj).reduce(function(prev,key){prev[key]=_self.cloneMessage1(obj[key]);return prev;},{});break;}}break;default:rv=obj;break;}return rv;};FindlySDK.prototype.compare=function(a,b){var startFirst=a.data.duration.start;var startSecond=b.data.duration.start;var comparison=0;if(startFirst>startSecond){comparison=1;}else if(startFirst<startSecond){comparison=-1;}return comparison;};FindlySDK.prototype.init=function(config){this.events={};this.config=config||{};//this.bot.init(this.config.botOptions);
//todo:need to remove
window.baseUrl=config.botOptions.koreAPIUrl;config.direction="left";//$.jStorage.get('menuPosition');
config.userInfo={id:""};//$.jStorage.get('currentAccount').userInfo;
$("body").off("click").on("click",function(){if($(".kore-chat-window")){$(".kore-chat-window").removeClass("selectedHeight");}});};FindlySDK.prototype.setJWT=function(jwtToken){var _self=this;if(_self.config.botOptions&&_self.config.botOptions.botInfo){if(_self.config.botOptions&&_self.config.botOptions.botInfo&&_self.config.botOptions.botInfo.customData){_self.config.botOptions.botInfo.customData.kmToken=jwtToken;}else{_self.config.botOptions.botInfo.customData={kmToken:jwtToken};}}else{_self.config.botOptions.botInfo={customData:{kmToken:jwtToken}};}};FindlySDK.prototype.bindSearchContainerViewHadler=function(){var _this9=this;var _self=this;_self.pubSub.subscribe("sa-handel-chat-container-view",function(msg,data){var parentChatContainer=$("#searchChatContainer");if(parentChatContainer.children().length>2){if($(".search-container").hasClass("no-history")){$(".search-container").removeClass("no-history");}}else{if(!$(".search-container").hasClass("no-history")){_self.changeSearchContainerBackground();// $('.search-container').addClass('no-history');
}}});_self.pubSub.subscribe("sa-handel-go-button",function(msg,data){var isGoButtonDisabled=false;if(!($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val())){isGoButtonDisabled=true;}else{isGoButtonDisabled=false;}var goBtn=$(".search-button");for(var _i4=0;_i4<goBtn.length;_i4++){goBtn[_i4].disabled=isGoButtonDisabled;}});_self.pubSub.subscribe("sa-update-search-customozation",function(msg,data){_self.invokeSearch();});_self.pubSub.subscribe("sa-handle-customize-option-view",function(msg,data){if($(".sdk-results-customize-icon").length){$(".sdk-results-customize-icon").css("display","none");$(".sdk-results-customize-icon").last().css("display","block");}$(".sdk-results-customize-icon").off("click").on("click",function(e){_self.vars.customizeView=true;$(".show-all-results").click();$("#searchChatContainer").off("scroll").on("scroll",function(event){$(".query_analytics_content").hide();$(".typingIndicatorContent").css("display","none");});});});_self.pubSub.subscribe("sa-handle-retry-qery-view",function(msg,data){var _self=_this9;$(".sdk-query-retry-icon").off("click").on("click",function(e){var searchQuery=$(e.target).closest(".sdk-query-retry-icon").attr("searchQuery");if(searchQuery&&searchQuery.length){var scrollHeight=$("#searchChatContainer").scrollTop()+$("#searchChatContainer").prop("scrollHeight");$("#searchChatContainer").animate({scrollTop:scrollHeight},500);_self.sendMessage(searchQuery);}else{var scrollHeight=$("#searchChatContainer").scrollTop()+$("#searchChatContainer").prop("scrollHeight");$("#searchChatContainer").animate({scrollTop:scrollHeight},500);_self.sendMessage(_self.vars.searchObject.searchText);}});});$(".refresh-sdk").off("click").on("click",function(e){$("#show-all-results-container").hide();$(".search-container").removeClass("bottom-up-results-showing");websockeRrefreshed=true;clearTimeout(indicatorTimer);$(".typingIndicatorContent").css("display","none");$(".search-container").removeClass("active");_self.vars.selectedFacetFromSearch="all results";var responseObject={type:"refreshSearchContainer",data:false,query:_self.vars.searchObject.searchText,bottomUp:true};_self.parentEvent(responseObject);});$(".kore-search-container-close-icon").off("click").on("click",function(e){$("#show-all-results-container").hide();$(".search-container").removeClass("bottom-up-results-showing");websockeRrefreshed=true;clearTimeout(indicatorTimer);$(".typingIndicatorContent").css("display","none");$(".search-container").removeClass("active");_self.vars.selectedFacetFromSearch="all results";var responseObject={type:"closeSearchContainer",data:false,query:_self.vars.searchObject.searchText,bottomUp:true};_self.parentEvent(responseObject);});if(!$("body").hasClass("top-down")){// if (searchConfigurationCopy.searchBarPlaceholderTextColor && searchConfigurationCopy.searchBarPlaceholderTextColor.length) {
//   $("body").append("<style>#search::placeholder {color:" + searchConfigurationCopy.searchBarPlaceholderTextColor + "!important;}</style>")
// }
}};var maxSearchResultsAllowed=5;var structuredDataConfig=_defineProperty({liveSearchInterface:{},searchInterface:{}},"liveSearchInterface",{});var faqConfig=_defineProperty({liveSearchInterface:{},searchInterface:{}},"liveSearchInterface",{});var pageConfig=_defineProperty({liveSearchInterface:{},searchInterface:{}},"liveSearchInterface",{});var documentConfig=_defineProperty({liveSearchInterface:{},searchInterface:{}},"liveSearchInterface",{});var customConfig;var searchInterfaceConfig;FindlySDK.prototype.getSearchResultsConfig=function(url,type){var _self=this;var bearer="bearer "+this.bot.options.accessToken||0||0;var headers={};headers["Authorization"]=bearer;headers["Content-Type"]="application/json";if(!_self.isDev){if(_self.config.botOptions.assertion){headers.auth=_self.config.botOptions.assertion;}}return $.ajax({url:url,type:type,dataType:"json",headers:headers,success:function success(data){_self.vars.searchInterfaceConfig=data.settings;_self.vars.resultSettings=data;_self.pubSub.publish("sa-register-all-template",data.settings);// _self.pubSub.publish('sa-register-template', data.settings);
_self.pubSub.publish("sa-save-search-customization-config",data.settings);},error:function error(err){//_self.vars.searchInterfaceConfig = mockData.settings;
// _self.pubSub.publish('sa-register-template', mockData.settings);
}});};FindlySDK.prototype.getTabFacetList=function(url,type){var _self=this;var bearer="bearer "+this.bot.options.accessToken||0||0;var headers={};headers["Authorization"]=bearer;headers["Content-Type"]="application/json";if(!_self.isDev){if(_self.config.botOptions.assertion){headers.auth=_self.config.botOptions.assertion;}}return $.ajax({url:url,type:type,dataType:"json",headers:headers,success:function success(data){_self.vars.defaultTabsList=data.tabs||[];//tab facets list
//list of tabs div container create
},error:function error(err){}});};FindlySDK.prototype.saveCustomizationConfig=function(){var _self=this;// for saving the Search Customizatios
_self.pubSub.subscribe("sa-save-search-customization-config",function(msg,data){if(data&&data.length){data.forEach(function(interface1){if(interface1["interface"]==="fullSearch"){if(interface1.facetsSetting){_self.vars.filterConfiguration={aligned:interface1.facetsSetting.aligned,isEnabled:interface1.facetsSetting.enabled};}else{_self.vars.filterConfiguration={aligned:"left",isEnabled:true};}}});}});};FindlySDK.prototype.addCustomTemplateConfig=function(customConfig){var _self=this;if(customConfig&&Object.values(customConfig).length){_self.customConfig=customConfig;_self.vars.customConfig=customConfig;}};FindlySDK.prototype.hideBottomUpAllResults=function(){var _self=this;$("#show-all-results-container").css("display","none");$(".search-container").removeClass("bottom-up-results-showing");$("#searchChatContainer").removeClass("bgfocus");_self.vars.selectedFacetFromSearch="all results";};FindlySDK.prototype.showAllResults=function(){var _self=this;_self.pubSub.unsubscribe("sa-search-full-results");_self.pubSub.subscribe("sa-search-full-results",function(msg,data){// _self.vars.scrollPageNumber = 0;
if(!_self.vars.isFilterModified){_self.autoSelectFacetFilter();}_self.vars["selectedFiltersRadio"]=[];var facetCount={};var facetData=[];var count=0;var view="preview";if(data&&data.facetData){facetData=data.facetData;}if(_self.vars&&_self.vars.selectedFiltersArr&&_self.vars.selectedFiltersArr.length){count=_self.vars.selectedFiltersArr.length;}if(data&&data.container){var isFilterEnabled=_self.vars.filterConfiguration.isEnabled;if(isFilterEnabled||isFilterEnabled==false){isFilterEnabled=isFilterEnabled;}else{isFilterEnabled=false;}_self.getMergedData(_self.vars.resultSettings,data.responseData,'isFullResults').then(function(res){var devMode=_self.isDev?true:false;var viewType=_self.vars.customizeView?"Customize":"Preview";var msgData={message:[{component:{type:'template',payload:{template_type:"fullSearchResultsTemplate",facets:_self.vars.tabsList,count:count,view:view,isDev:_self.isDev,isFilterEnabled:isFilterEnabled,devMode:devMode,viewType:viewType,facetPosition:_self.vars.filterConfiguration.aligned,filterFacetData:facetData,groupData:_self.vars.mergedData,searchConfigurationCopy:searchConfigurationCopy,sortableFacetList:_self.vars.sortableFacetList||[],displaySortable:_self.vars.displaySortable,displayFeedback:_self.vars.feedBackExperience,feedbackData:_self.vars.feedBackExperience?_self.vars.feedBackType:null}}}]};var showAllHTML=_self.customTemplateObj.renderMessage(msgData);$(data.container).empty().append(showAllHTML);var facetObj={};facetObj["position"]=_self.vars.filterConfiguration.aligned;// "left";
facetObj["show"]=false;// if(facetObj['position'] == "top"){
//   facetObj['show'] = true;
// }
_self.vars["facetObjectGlobal"]=facetObj;// _self.facetReset(facetObj, facetData);
_self.bindShowAllResultsTrigger(showAllHTML,facetData,data);});}$("#show-all-results-container").css("display","block");$("#searchChatContainer").removeClass("bgfocus");$(".search-body").addClass("hide");var resultRanking=$(_self.fullResultRanking()).tmpl({data:data.dataObj,facetPosition:_self.vars.filterConfiguration.aligned});$("#resultRankingId").append(resultRanking);// setTimeout( () => {
//   _self.checkBoostAndLowerTimes();
// }, 400);
_self.bindAllResultRankingOperations();// _self.bindShowAllResultsTrigger(showAllHTML, facetData, data);
setTimeout(function(){if(!$("body").hasClass("top-down")){if(_self.isDev){if(_self.vars.customizeView){$("#viewTypePreview").removeClass("nav-link-item-active");$("#viewTypeCustomize").addClass("nav-link-item-active");}else{$(".query-analytics-control-container").hide();$("#viewTypePreview").addClass("nav-link-item-active");$("#viewTypeCustomize").removeClass("nav-link-item-active");}}}},100);});};FindlySDK.prototype.bindCustomizeAction=function(){var _self=this;if(!$("body").hasClass("top-down")){if(_self.isDev){if(_self.vars.customizeView){$("#viewTypePreview").removeClass("nav-link-item-active");$("#viewTypeCustomize").addClass("nav-link-item-active");$(".data-body-sec").css("height","calc(100vh - 260px)");}else{$(".query-analytics-control-container").hide();$("#viewTypePreview").addClass("nav-link-item-active");$("#viewTypeCustomize").removeClass("nav-link-item-active");if(_self.vars.selectedFiltersArr&&_self.vars.selectedFiltersArr.length>0){$(".data-body-sec").css("height","calc(100vh - 225px)");}else{$(".data-body-sec").css("height","calc(100vh - 195px)");}}$(".sdk-customize-nav").off("click").on("click",function(event){event.preventDefault();event.stopImmediatePropagation();var navLinks=document.getElementsByClassName("custom-header-nav-link-item");if(_self.config.viaSocket&&_self.vars.resultRankingActionPerformed==true){var scrollHeight=$("#searchChatContainer").scrollTop()+$("#searchChatContainer").prop("scrollHeight");$("#searchChatContainer").animate({scrollTop:scrollHeight},500);if(!$("body").hasClass("top-down")){_self.sendMessage(_self.vars.searchObject.searchText);}}for(var i=0;i<navLinks.length;i++){navLinks[i].className=navLinks[i].className.replace(" nav-link-item-active","");}event.currentTarget.className+=" nav-link-item-active";if($("body").hasClass("top-down")){var searchData;}if($(searchData).find(".tasks-wrp .faqs-shadow")){$(searchData).find(".tasks-wrp .faqs-shadow").find(".accordion.acc-active").trigger("click");}if(_self.vars.showingMatchedResults==true){if($(event.currentTarget).attr("id")=="viewTypeCustomize"){_self.vars.customizeView=true;// $(".custom-insights-control-container").show();
$(".query-analytics-control-container").show();// Temporary modification, made as per FLY-1012
$(".tasks-wrp").sortable();$(".tasks-wrp").sortable("option","disabled",false);$(".tasks-wrp").disableSelection();$(".faqs-shadow").addClass("custom-faqs-shadow");$(".faqs-wrp-content").addClass("custom-faqs-wrp-content");$(".faqs-bottom-actions").addClass("custom-faqs-bottom-actions");$(".image-url-sec").css("display","none");$(".faqs-bottom-actions").css("display","table");$(".divfeedback").css("display","none");$("#searchChatContainer").off("scroll").on("scroll",function(event){$(".query_analytics_content").hide();});}else{_self.vars.customizeView=false;// $(".custom-insights-control-container").hide();
$(".query-analytics-control-container").hide();// Temporary modification, made as per FLY-1012
$(".faqs-shadow").removeClass("custom-faqs-shadow");$(".faqs-wrp-content").removeClass("custom-faqs-wrp-content");$(".faqs-bottom-actions").removeClass("custom-faqs-bottom-actions");$(".tasks-wrp").sortable("disable");$(".image-url-sec").css("display","table-cell");$(".faqs-bottom-actions").css("display","none");// $(".divfeedback").css('display', 'block');
$(".notification-div").hide();}/*_self.getFrequentlySearched(url, 'POST', JSON.stringify(payload)).then(function (response) {
              _self.handleSearchRes(response);
              });*/}else{if($(event.currentTarget).attr("id")=="viewTypeCustomize"){_self.vars.customizeView=true;}else{_self.vars.customizeView=false;}}if(!$("body").hasClass("top-down")){_self.pubSub.publish("sa-update-search-customozation");}$(".structured-data-bottom-actions").css("display","none");$(".structured-data-wrp-content").removeClass("custom-faqs-wrp-content");$(".moreStructredData").addClass("display-none");});}}};FindlySDK.prototype.seeAllResultsInifiteScroll=function(){// call the required API
this.invokeSearch();};FindlySDK.prototype.invokeSpecificSearch=function(selectedFacet){var _self=this;var url=_self.API.searchUrl;var currentDate=new Date();var dateTime=currentDate.getDate()+"/"+(currentDate.getMonth()+1)+"/"+currentDate.getFullYear()+", "+currentDate.getHours()+":"+currentDate.getMinutes()+":"+currentDate.getSeconds();var selectedTopFacet={};var payload={query:_self.vars.searchObject.searchText,// "maxNumOfResults": 9,
maxNumOfResults:5,userId:_self.API.uuid,streamId:_self.API.streamId,lang:"en",// "isDev": true,
isDev:_self.isDev,filters:[],searchRequestId:_self.vars.requestId};if(_self.vars.isFilterModified){payload['isFilterModified']=true;}if(_self.isDev){payload["customize"]=_self.vars.customizeView;}if(_self.vars.displaySortable){payload['sortableFacets']=[_self.vars.displaySortable];}var contentTypeFilter={fieldName:"sys_content_type",name:"facetContentType",subtype:"value",multiselect:false,buckets:[]};if(_self.vars.filterObject.length>0){payload.filters=JSON.parse(JSON.stringify(_self.vars.filterObject));}if(selectedFacet!=="all results"){var tabConfig={filter:{fieldName:_self.vars.tabFacetFieldName,facetValue:[selectedFacet]}};payload.tabConfig=tabConfig;if(Object.values(selectedTopFacet).length){if(!payload.filters||!payload.filters.length){payload.filters=[];}payload.filters.push(selectedTopFacet);}}if(_self.vars.filterObject&&_self.vars.filterObject.length){if(!_self.vars.isPriorfiltersApplied){// _self.vars.scrollPageNumber = 0;
}}_self.getFrequentlySearched(url,"POST",JSON.stringify(payload)).then(function(res){$("#loaderDIV").hide();// $('.kore-sdk-pagination-div').show();
if(_self.vars.searchObject&&_self.vars.searchObject.searchText){var responseObject={type:"fullResult",data:true,query:_self.vars.searchObject.searchText};_self.parentEvent(responseObject);}$(".custom-insights-control-container").hide();var faqs=[],web=[],tasks=[],files=[],facets=[],data={},searchFacets=[];if(res.template){searchFacets=res.template.searchFacets;_self.vars.searchObject.liveData={facets:_self.vars.tabsList,// files: files,
data:data,originalQuery:res.template.originalQuery||""// searchFacets: searchFacets,
};var dataObj=_self.vars.searchObject.liveData;var facetdata=_self.vars.searchFacetFilters;$(".data-body-sec").scrollTop(0);// _self.calculatePageNumber(selectedFacet, dataObj);
if(!$("body").hasClass("top-down")){// _self.handlePaginationUI(selectedFacet, dataObj);
_self.pubSub.publish("sa-action-full-search",{container:"#actions-full-search-container",isFullResults:true,selectedFacet:selectedFacet,isLiveSearch:false,isSearch:false,dataObj:dataObj});}res=res.template;facets=[];var totalResultsCount=0;if(res.tabFacet&&res.tabFacet.buckets&&res.tabFacet.buckets.length){res.tabFacet.buckets.forEach(function(tab){totalResultsCount=totalResultsCount+tab.doc_count;if(!tab.name){tab.name=tab.key;}});_self.vars.tabFacetFieldName=res.tabFacet.fieldName;}totalResultsCount=totalResultsCount;if(res.searchFacets!==undefined){_self.vars.searchFacetFilters=res.searchFacets;// searchFacets = res.searchFacets;
searchFacets=_self.vars.searchFacetFilters;}else{res.searchFacets=[];_self.vars.searchByFacetFilters=res.searchFacets;searchFacets=_self.vars.searchFacetFilters;}$(".full-search-data-container").empty();if(res&&res.results&&res.resultType=="grouped"){var availableGroups=Object.keys(res.results);if(!(res.tabFacet||{}).buckets){totalResultsCount=0;}var reArrangeAvailableGroups=[];_self.vars.availableGroupsOrder.forEach(function(d){var group=availableGroups.find(function(g){return g===d;});if(group){reArrangeAvailableGroups.push(group);}});availableGroups=reArrangeAvailableGroups;if(availableGroups&&availableGroups.length){availableGroups.forEach(function(group){var results=res.results[group].data;if(!(res.tabFacet||{}).buckets){totalResultsCount=totalResultsCount+res.results[group].doc_count;}var groupName=group=="default_group"?"defaultTemplate":group;var dataObj={facets:facets,searchFacets:searchFacets,originalQuery:res.originalQuery||"",customSearchResult:_self.customSearchResult,data:results,groupName:groupName,doc_count:res.results[group].doc_count};var publishSearchData="sa-"+groupName+"-search-data";if(!$(".empty-full-results-container").hasClass("hide")){$(".empty-full-results-container").addClass("hide");}_self.pubSub.publish(publishSearchData,{container:".full-search-data-container",isFullResults:true,selectedFacet:"all results",isLiveSearch:false,isSearch:false,dataObj:dataObj});});if(!$(".full-search-data-container").children().length){if(_self.isDev){$(".no-templates-defined-full-results-container").show();}else{$(".empty-full-results-container").removeClass("hide");}}}else{var dataObj={facets:facets||[],searchFacets:searchFacets||[],originalQuery:res.originalQuery||"",customSearchResult:_self.customSearchResult,data:[],groupName:"defaultTemplate"};// _self.pubSub.publish('sa-defaultTemplate-search-data', { container: '.full-search-data-container', isFullResults: true, selectedFacet: 'all results', isLiveSearch: false, isSearch: false, dataObj });
if(!(res.tasks||[]).length&&selectedFacet=="all results"&&!((res.tasks||[]).length&&selectedFacet=="task")){$(".empty-full-results-container").removeClass("hide");$(".no-templates-defined-full-results-container").hide();}}// res.results = results;
}else{var results=res.results.data;if(!(res.tabFacet||{}).buckets){totalResultsCount=res.results.doc_count||0;}// res.results = results;
var dataObj={facets:facets||[],searchFacets:searchFacets||[],originalQuery:res.originalQuery||"",customSearchResult:_self.customSearchResult,data:results,groupName:"defaultTemplate",doc_count:totalResultsCount};if(totalResultsCount){_self.pubSub.publish("sa-defaultTemplate-search-data",{container:".full-search-data-container",isFullResults:true,selectedFacet:"all results",isLiveSearch:false,isSearch:false,dataObj:dataObj});if(!$(".empty-full-results-container").hasClass("hide")){$(".empty-full-results-container").addClass("hide");}}else{$(".empty-full-results-container").removeClass("hide");$(".no-templates-defined-full-results-container").hide();}}if(Object.keys(res.results).length===0&&res.tasks.length==0){$(".empty-full-results-container").removeClass("hide");$(".no-templates-defined-full-results-container").hide();}_self.vars.searchObject.liveData.facets=_self.vars.tabsList;setTimeout(function(){_self.bindStructuredDataTriggeringOptions();},500);_self.pubSub.publish("facet-selected",{selectedFacet:_self.vars.selectedFacetFromSearch||"all results"});// setTimeout( () => {
//   _self.checkBoostAndLowerTimes();
// }, 400);
}_self.fullResultsScrollTop();$(".content-data-sec").scrollTop(0);$(".data-body-sec").scrollTop(0);});};FindlySDK.prototype.handlePaginationUI=function(selectedFacet,data){var _self=this;if(selectedFacet=="web"&&_self.pageConfig.fullSearchInterface.type=="carousel"){$(".kore-sdk-pagination-div").hide();}else if(selectedFacet=="faq"&&_self.faqConfig.fullSearchInterface.type=="carousel"){$(".kore-sdk-pagination-div").hide();}else if(selectedFacet=="file"&&_self.documentConfig.fullSearchInterface.type=="carousel"){$(".kore-sdk-pagination-div").hide();}else if(selectedFacet=="data"&&(_self.structuredDataConfig.fullSearchInterface.type=="carousel"||!_self.structuredDataConfig.fullSearchInterface.mapping)){$(".kore-sdk-pagination-div").hide();}else if(selectedFacet&&data.facets[selectedFacet]>10&&selectedFacet!="task"){// $('.kore-sdk-pagination-div').show();
}else{$(".kore-sdk-pagination-div").hide();}};FindlySDK.prototype.facetReset=function(facetObj,facetData){var _self=this;// _self.pubSub.subscribe('sa-search-facets', (msg, data) => {
//   if(data){
//     facetData = data;
//   }
// });
//facetObj.position = "top";
var facetTemplate=$(_self.facetFilter()).tmpl({position:facetObj.position,show:facetObj.show,searchFacets:facetData});var facetTemplateTop=$(_self.facetFilterTop()).tmpl({position:facetObj.position,show:facetObj.show,searchFacets:facetData});var facetTemplateTopIcon=$(_self.facetTemplateTopIcon()).tmpl({position:facetObj.position,show:facetObj.show,searchFacets:facetData});if(facetObj.position=="right"){$("#rightFacetFilterId").empty().append(facetTemplate);}else if(facetObj.position=="left"){$("#leftFacetFilterId").empty().append(facetTemplate);}else{$("#topFacetFilterId").empty().append(facetTemplateTop);$("#topFacetIcon").empty().append(facetTemplateTopIcon);if(facetObj.show){if(!$(".iffilteristop").hasClass("isTopAlignFilterAdded")){$(".iffilteristop").addClass("isTopAlignFilterAdded");}}else{$(".iffilteristop").removeClass("isTopAlignFilterAdded");}}if(!$("body").hasClass("top-down")){if(facetObj.show){$(".fliter-right-btn").addClass("active-open");}else{$(".fliter-right-btn").removeClass("active-open");}}_self.markSelectedFilters();};FindlySDK.prototype.bindShowAllResultsTrigger=function(showAllHTML,facetData,data,restrictSelectFacet){var _self=this;//_self.pubSub.publish('sa-full-data-search')
var selectedFacet=$(".active-tab").attr("classification")?$(".active-tab").attr("classification"):"all results";if(_self.vars.selectedFacetFromSearch){selectedFacet=_self.vars.selectedFacetFromSearch;}var slecetFacetFunc=function slecetFacetFunc(selectedFacet){var selectedFacet_temp=selectedFacet?selectedFacet:"all results";var dataObj=data?data.dataObj:_self.vars.searchObject.liveData;$("#loaderDIV").show();$(".kore-sdk-pagination-div").hide();_self.vars.isPriorfiltersApplied=false;_self.vars.searchCallWithSelectedFacet=true;_self.invokeSpecificSearch(selectedFacet);// $('.kore-sdk-pagination-div').show();
// }
// handle pagination UI from here
};if(!restrictSelectFacet){// slecetFacetFunc(selectedFacet);
}setTimeout(function(){var arr=[];if(document.getElementsByClassName("filter-sec-tab").length){for(var i=0;i<document.getElementsByClassName("filter-sec-tab")[0].getElementsByClassName("see-all-result-nav").length;i++){arr.push(document.getElementsByClassName("filter-sec-tab")[0].getElementsByClassName("see-all-result-nav")[i].getAttribute("classification"));}arr.forEach(function(element,index){document.getElementsByClassName("filter-sec-tab")[0].getElementsByClassName("see-all-result-nav")[index].classList.remove("active-tab");});arr.forEach(function(element,index){if(element==selectedFacet){document.getElementsByClassName("filter-sec-tab")[0].getElementsByClassName("see-all-result-nav")[index].classList.add("active-tab");}});}},100);$(".sdk-clear-all-facet").off("click").on("click",function(event){event.stopPropagation();event.stopImmediatePropagation();if(_self.vars.selectedFiltersArr.length>0){_self.vars.selectedFiltersArr.forEach(function(filter){$("#"+filter).prop("checked",false);});_self.vars.selectedFiltersArr=[];_self.vars.filterObject=[];_self.vars.countOfSelectedFilters=0;_self.vars.isClearAllClickedInBottomUp=true;// _self.searchByFacetFilters(_self.vars.filterObject);
}var hide=function hide(){$(".filter-data").hide();$(".filter-updated-count").hide();};// setTimeout(hide, 1000);
});var removeActive=function removeActive(selectedFacet){$(".see-all-result-nav").each(function(index,element){if($(element).attr("classification")==selectedFacet){$(element).removeClass("active-tab");}});};//SDK Top Facet
//Search facet
$(".sdk-bottomup-search-facet").off("change").on("change",function(event){var id=event.currentTarget.id;var bucket=_toConsumableArray(facetData);var val=event.currentTarget.value;//var bucket = $(event.target).closest('.sdk-bottomup-search-face').attr('data-bucket');
});$(showAllHTML).off("click",".kore-sdk-bottom-up-first").on("click",".kore-sdk-bottom-up-first",function(){// $('#loaderDIV').show();
_self.vars.scrollPageNumber=0;_self.invokeSpecificSearch(_self.vars.selectedFacetFromSearch);});$(showAllHTML).off("click",".kore-sdk-bottom-up-last").on("click",".kore-sdk-bottom-up-last",function(){// $('#loaderDIV').show();
var totalPages;totalPages=$("#kore-total-page-number").text();if(totalPages){_self.vars.scrollPageNumber=totalPages-1;}_self.invokeSpecificSearch(_self.vars.selectedFacetFromSearch);});$(showAllHTML).off("click",".kore-sdk-bottom-up-next").on("click",".kore-sdk-bottom-up-next",function(){if(_self.vars.totalNumOfResults>(_self.vars.scrollPageNumber+1)*10){_self.vars.scrollPageNumber=_self.vars.scrollPageNumber+1;$("#loaderDIV").show();_self.invokeSpecificSearch(_self.vars.selectedFacetFromSearch);}});$(showAllHTML).off("click",".kore-sdk-bottom-up-previous").on("click",".kore-sdk-bottom-up-previous",function(){if(_self.vars.scrollPageNumber>0){_self.vars.scrollPageNumber=_self.vars.scrollPageNumber-1;$("#loaderDIV").show();_self.invokeSpecificSearch(_self.vars.selectedFacetFromSearch);}});$(showAllHTML).off("keyup",".kore-current-page-number").on("keyup",".kore-current-page-number",function(event){var totalPages;totalPages=$("#kore-total-page-number").text();if(event.keyCode==13||event.which==13){if(parseInt(event.target.value)>0){if(parseInt(event.target.value)>parseInt(totalPages)){_self.vars.scrollPageNumber=parseInt(totalPages)-1;}else{_self.vars.scrollPageNumber=parseInt(event.target.value)-1;}}else{$("#kore-current-page-number").val(_self.vars.scrollPageNumber+1);}// $('#loaderDIV').show();
_self.invokeSpecificSearch(_self.vars.selectedFacetFromSearch);}});// Search Facet
$(showAllHTML).off("click",".search-task").on("click",".search-task",function(e){e.stopPropagation();_self.hideBottomUpAllResults();var ele=$(e.target).closest(".search-task");var scrollBottom=$("#searchChatContainer").scrollTop()+$("#searchChatContainer").height();$("#searchChatContainer").animate({scrollTop:scrollBottom});var taskName=e.currentTarget.title.toLowerCase();// var payload = $(e.target).attr('payload');
var payload;if(_self.vars.searchObject&&_self.vars.searchObject.searchText&&_self.vars.searchObject.searchText.length){payload=b64EncodeUnicode("Execute_"+_self.vars.searchObject.searchText);// payload = _self.vars.searchObject.searchText;
}else{payload=$(e.currentTarget).attr("payload");}if(!_self.vars.searchObject.recentTasks.length||_self.vars.searchObject.recentTasks.length&&_self.vars.searchObject.recentTasks.indexOf(taskName.toLowerCase())==-1){_self.vars.searchObject.recentTasks.unshift(taskName.toLowerCase());}var recentItem=[];recentItem.push(taskName);_self.vars.searchObject.recentTasks=lodash__WEBPACK_IMPORTED_MODULE_1___default().uniq(recentItem.concat(_self.vars.searchObject.recentTasks));if(_self.vars.searchObject.recentTasks&&_self.vars.searchObject.recentTasks.length){_self.vars.searchObject.recentTasks=lodash__WEBPACK_IMPORTED_MODULE_1___default().filter(_self.vars.searchObject.recentTasks,function(task){return task;});}if(_self.vars.showingMatchedResults==true){_self.captureClickAnalytics(e,$(e.currentTarget).attr("contentType"),"click",$(e.currentTarget).attr("contentId"),$(e.currentTarget).attr("id"),$(e.currentTarget).attr("title"));}window.localStorage.setItem("recentTasks",JSON.stringify(_self.vars.searchObject.recentTasks));if(!$("body").hasClass("top-down")){_self.bindFrequentData();}if(_self.config.viaSocket){// var childBotName = $(e.target).attr('childBotName')
var nlMeta={linkedBotNLMeta:{intent:$(e.currentTarget).attr("title"),seqLogId:$(e.currentTarget).attr("seqLogId")||null,childBotName:$(e.currentTarget).attr("childBotName")||null,isRefresh:true}};_self.sendMessage(payload,null,nlMeta);}if(_self.isDev||_self.vars.loggedInUser){_self.vars.searchObject.searchText=e.currentTarget.title.toLowerCase();_self.sendMessageToSearch("botAction");}else if(e.currentTarget.title.toLowerCase()==="pay bill"||e.currentTarget.title.toLowerCase()==="pay credit card bill"){_self.userLogin(e.currentTarget.title.toLowerCase());}else{//_self.userLogin(e.target.title.toLowerCase());
}});};FindlySDK.prototype.calculatePageNumber=function(selectedFacet,data){var _self=this;var totalPages=1;if(data&&data.facets){totalPages=data.facets[selectedFacet]/10;if(totalPages){var temp_totalPages;temp_totalPages=Math.round(totalPages);if(totalPages>temp_totalPages){totalPages=temp_totalPages+1;}else{totalPages=temp_totalPages;}}else{totalPages=1;}$("#kore-current-page-number").val(_self.vars.scrollPageNumber+1);$("#kore-total-page-number").text(totalPages);}else{$("#kore-current-page-number").val(1);$("#kore-total-page-number").text(1);}if(_self.vars.scrollPageNumber==0){$(".kore-sdk-bottom-up-previous").addClass("disabled");$(".kore-sdk-bottom-up-first").addClass("disabled");}else{$(".kore-sdk-bottom-up-previous").removeClass("disabled");$(".kore-sdk-bottom-up-first").removeClass("disabled");}if(data.facets[selectedFacet]<(_self.vars.scrollPageNumber+1)*10){$(".kore-sdk-bottom-up-next").addClass("disabled");$(".kore-sdk-bottom-up-last").addClass("disabled");}else{$(".kore-sdk-bottom-up-next").removeClass("disabled");$(".kore-sdk-bottom-up-last").removeClass("disabled");}};FindlySDK.prototype.facetTemplateTopIcon=function(){var facet='<script type="text/x-jqury-tmpl">\
        <div>\
        {{if searchFacets.length}}\
        <div id="facetRightIconId" class="fliter-right-btn">\
        <img  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAKCAYAAACE2W/HAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA/SURBVHgB1c+hEQAgDATBfyqJwVMKpaYUPCadwCAyGATgcursUiQXYFQ8RU0IE33urFSz3tZFNHpn67Z538YJjc8On2EvoL4AAAAASUVORK5CYII=">\
        </div>\
        {{/if}}\
        </div>\
      </script>';return facet;};FindlySDK.prototype.facetFilter=function(){var facet='<script type="text/x-jqury-tmpl">\
      <div>\
      {{if searchFacets.length}}\
      <!--<div id="loaderDIV" class="loader-container">Loading...</div>-->\
      <div id="facetRightIconId" class="fliter-right-btn {{if position === `left`}} left-filter {{/if}}">\
        <img  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAKCAYAAACE2W/HAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA/SURBVHgB1c+hEQAgDATBfyqJwVMKpaYUPCadwCAyGATgcursUiQXYFQ8RU0IE33urFSz3tZFNHpn67Z538YJjc8On2EvoL4AAAAASUVORK5CYII=">\
      {{if show === true}}\
        <div class="filter-data sdk-facet-filter-data">\
        <div class="header-sec">\
          <div class="f-heading">FILTERS</div>\
          <div class="clear-all sdk-clear-all-facet" id="clear-all-facet-id">Clear All</div>\
        </div>\
            <div class="scroll-data">\
            {{each(i, searchFacet) searchFacets}}\
                <div class="group-checkbox filters-content" data-facetType="${searchFacet.subtype}" data-facetName="${searchFacet.name}" data-fieldName="${searchFacet.fieldName}">\
                  <div class="heading-title">${searchFacet.name}</div>\
                  {{each(j, bucket) searchFacet.buckets}}\
                  {{if searchFacet.multiselect}}\
                    {{if searchFacet.subtype == "value"}}\
                      <div class="custom_checkbox kr-sg-checkbox d-block">\
                          <input id="checkbox-${i}${j}" class="checkbox-custom sdk-filter-checkbox" type="checkbox" name="${bucket.key}" value="true" data-from="${bucket.from}" data-to="${bucket.to}">\
                          <label for="checkbox-${i}${j}" class="checkbox-custom-label" title="${bucket.key}">${bucket.key} </label><span class="associated-filter-count">(${bucket.doc_count})</span>\
                      </div>\
                    {{/if}}\
                    {{if searchFacet.subtype == "range"}}\
                        <div class="kr-sg-checkbox d-block custom_checkbox">\
                          <input id="checkbox-${i}${j}" class="checkbox-custom sdk-filter-checkbox" type="checkbox" name="${bucket.key}" value="true" data-from="${bucket.from}" data-to="${bucket.to}">\
                          <label for="checkbox-${i}${j}" class="checkbox-custom-label" title="${bucket.key}">${bucket.key} </label><span class="associated-filter-count">(${bucket.doc_count})</span>\
                        </div>\
                    {{/if}}\
                  {{/if}}\
                  {{if !searchFacet.multiselect}}\
                    {{if searchFacet.subtype == "value"}}\
                      <div class="custom_checkbox kr-sg-radiobutton d-block">\
                          <input id="radio-${i}${j}" class="radio-custom sdk-filter-radio" type="radio" name="radio-${i}" value="${bucket.key}" data-from="${bucket.from}" data-to="${bucket.to}">\
                          <label for="radio-${i}${j}" class="radio-custom-label" title="${bucket.key}">${bucket.key} </label><span class="associated-filter-count">(${bucket.doc_count})</span>\
                      </div>\
                    {{/if}}\
                    {{if searchFacet.subtype == "range"}}\
                        <div class="custom_checkbox kr-sg-radiobutton d-block">\
                          <input id="radio-${i}${j}" class="radio-custom sdk-filter-radio" type="radio" name="radio-${i}" value="${bucket.key}" data-from="${bucket.from}" data-to="${bucket.to}">\
                          <label for="radio-${i}${j}" class="radio-custom-label" title="${bucket.key}">${bucket.key} </label> <span class="associated-filter-count">(${bucket.doc_count})</span>\
                        </div>\
                    {{/if}}\
                  {{/if}}\
              {{/each}}\
            </div> \
          {{/each}}\
          </div>\
          <div class="footer-filter">\
                <button class="apply-btn">Apply</button>\
          </div>\
      </div>\
      {{/if}}\
    </div>\
    {{/if}}\
  </div>\
</script>';return facet;};FindlySDK.prototype.topFacetFilter=function(){var facet='<script id="top-search_facets_tmpl" type="text/x-jqury-tmpl"> \
      {{if searchFacets.length}}\
      <div class="horizantal-filter-sec">\
      {{each(i, searchFacet) searchFacets}}\
      <div class="dropdown_custom_filter">\
      <div  class="openDropdownFacets dropbtn">${searchFacet.name}{{if searchFacet.selectedFieldsCount && searchFacet.selectedFieldsCount>0}} <span class="count">${searchFacet.selectedFieldsCount}</span> {{/if}} <img class="down-arrow" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACHSURBVHgBbY6xDYMwEEX/yQuc5QUOmfRZIRskEyQjZJyU6VJmBGoqREcHJVT2AsiAhQRGvO7+vdM/JVleMevBe9fgBBF7Z21+itmUIPzZ6N47VyeStU+APgj0WK8uV8lsK5K/99Lc5pbdMtNWIQJSBYi+MQjhhTDeuplETOQobhLOn4/wMZ8As5kn7D+3/a0AAAAASUVORK5CYII="><img class="up-arrow" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACQSURBVHgBhY7BDYJQDIb/ggM8wgI14llXYBJ1A48e3YAVvHpyBHUC4gCYTmDeAGrpAw48LnxJk+bv16aEEczskKRV6OXdHMazJJJocccfFIqXRd1lAxRJqi+RZt9nqwuINtBvKSKeTGKTbiY9TTrGrxRnkO6gvzJ1WV5D6WrSCRO8/zycyzO7XNnWeosZgtMCupEtrTPwmiYAAAAASUVORK5CYII="></div>\
      <div id="myDropdown" class="dropdown-content filters-content-top-down myDropdown-${i}" data-facetType="${searchFacet.subtype}" data-facetName="${searchFacet.name}" data-fieldName="${searchFacet.fieldName}">\
      {{each(j, bucket) searchFacet.buckets}}\
      <div class="option-text">\
      {{if searchFacet.subtype == "value"&& searchFacet.multiselect }}\
      <div class="kr-sg-checkbox d-block">\
      <input id="checkbox-${i}${j}" class="checkbox-custom sdk-filter-checkbox-top-down" type="checkbox" name="${bucket.key}" value="true" fieldName="${searchFacet.fieldName}" fieldType="${searchFacet.subtype}" data-from="${bucket.from}" data-to="${bucket.to}">\
      <label for="checkbox-${i}${j}" class="checkbox-custom-label" title="${bucket.key}">${bucket.key}</label>\
          <span class="count">(${bucket.doc_count})</span>\
        </div>\
        {{/if}}\
        {{if searchFacet.subtype == "range" && searchFacet.multiselect}}\
        <div class="kr-sg-checkbox d-block">\
        <input  id="checkbox-${i}${j}" class="checkbox-custom sdk-filter-checkbox-top-down" type="checkbox" name="${bucket.key}" value="true" fieldName="${searchFacet.fieldName}" fieldType="${searchFacet.subtype}" data-from="${bucket.from}" data-to="${bucket.to}">\
        <label  id="checkbox-${i}${j}" class="checkbox-custom-label" title="${bucket.key}">${bucket.key}</label>\
            <span class="count">(${bucket.doc_count})</span>\
          </div>\
          {{/if}}\
          {{if searchFacet.subtype == "value" && !searchFacet.multiselect}}\
          <div class="kr-sg-checkbox d-block">\
            <input id="checkbox-${i}${j}" class="radio-custom sdk-filter-radio-top-down" type="radio" name="radio-top-facet-${i}"  value="${bucket.key}" fieldName="${searchFacet.fieldName}" fieldType="${searchFacet.subtype}" data-from="${bucket.from}" data-to="${bucket.to}">\
              <label for="checkbox-${i}${j}" class="radio-custom-label" title="${bucket.key}">${bucket.key}</label>\
              <span class="count">(${bucket.doc_count})</span>\
            </div>\
            {{/if}}\
            {{if searchFacet.subtype == "range" && !searchFacet.multiselect }}\
            <div class="kr-sg-checkbox d-block">\
              <input  id="checkbox-${i}${j}" class="radio-custom sdk-filter-radio-top-down" type="radio" name="radio-top-facet-${i}" value="${bucket.key}" fieldName="${searchFacet.fieldName}" fieldType="${searchFacet.subtype}" data-from="${bucket.from}" data-to="${bucket.to}">\
                <label  id="checkbox-${i}${j}" class="radio-custom-label" title="${bucket.key}">${bucket.key}</label>\
                <span class="count">(${bucket.doc_count})</span>\
              </div>\
              {{/if}}\
      </div>\
      {{/each}}\
      <div class="action-bar">\
      {{if searchFacet.multiselect}}<button class="btn clear-btn">Clear</button>{{/if}}\
      {{if !searchFacet.multiselect}}<button class="btn apply-btn">Apply</button>{{/if}}\
    </div>\
      </div>\
      </div>\
      {{/each}}\
      {{if searchFacets.length>4}}\
      <div class="h-scroll-filter">\
      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAMCAYAAACulacQAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB9SURBVHgBpZDBDUBAEEX/EvcVDQzLXQk6EBUoRTtuzk5qUAFHJ7YAybISEmvFwT9MJnl/MjMfdCjOYJEDeBwMDQlRmtCVcp44D9q9r3ngT3JZ+gvq8mZwT5fNwMw9REkKpjooFM7zRJUDSgLreJ+K4opCMejn/oI9HSv40gaMjzPqJ5ysbwAAAABJRU5ErkJggg==">\
      </div>\
      {{/if}}\
      </div>\
      {{/if}}\
             </script>';return facet;};FindlySDK.prototype.facetFilterTop=function(){var facet='<script type="text/x-jqury-tmpl">\
        <div>\
        <!-- <div id="facetRightIconId" class="fliter-right-btn left-filter">\
        <img  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAKCAYAAACE2W/HAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA/SURBVHgB1c+hEQAgDATBfyqJwVMKpaYUPCadwCAyGATgcursUiQXYFQ8RU0IE33urFSz3tZFNHpn67Z538YJjc8On2EvoL4AAAAASUVORK5CYII=">\
        </div> -->\
        {{if searchFacets.length && show}}\
        <div class="horizantal-filter-sec filter-data">\
          {{each(i, searchFacet) searchFacets}}\
              <div class="dropdown_custom_filter">\
                <div class="dropbtn  sdk-top-facet-drop">\
                  ${searchFacet.name}{{if searchFacet.countPerGroup}}\
                  {{if searchFacet.countPerGroup.length >i && searchFacet.countPerGroup[i].length >0}}\
                  <span class="count">${searchFacet.countPerGroup[i].length}</span> {{/if}}\
                  {{/if}}\
                  <img class="down-arrow" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACHSURBVHgBbY6xDYMwEEX/yQuc5QUOmfRZIRskEyQjZJyU6VJmBGoqREcHJVT2AsiAhQRGvO7+vdM/JVleMevBe9fgBBF7Z21+itmUIPzZ6N47VyeStU+APgj0WK8uV8lsK5K/99Lc5pbdMtNWIQJSBYi+MQjhhTDeuplETOQobhLOn4/wMZ8As5kn7D+3/a0AAAAASUVORK5CYII=">\
                  <img class="up-arrow" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACQSURBVHgBhY7BDYJQDIb/ggM8wgI14llXYBJ1A48e3YAVvHpyBHUC4gCYTmDeAGrpAw48LnxJk+bv16aEEczskKRV6OXdHMazJJJocccfFIqXRd1lAxRJqi+RZt9nqwuINtBvKSKeTGKTbiY9TTrGrxRnkO6gvzJ1WV5D6WrSCRO8/zycyzO7XNnWeosZgtMCupEtrTPwmiYAAAAASUVORK5CYII=">\
                </div>\
                  <div id="myDropdown" class="dropdown-content filters-content sdk-top-facet-option myDropdown-${i}" id="sdk-top-facet-option-${i}" data-facetType="${searchFacet.subtype}" data-facetName="${searchFacet.name}" data-fieldName="${searchFacet.fieldName}">\
                  <!--<div class="kr-sg-input-search">\
                  <input type="text" placeholder="Search" class="input-search sdk-bottomup-search-facet" id="sdk-bottomup-search-facet-${i}" data-bucket="${searchFacet[i]}" >\
                  <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAulBMVEUAAAAAAAAAAIAAVVUrK1UkN0kiM0QgMFAtLUskMUkiM00pMUopNEsoM0olNUomNUglNEokM0koMksnNUomNEkmNEglM0skNUkmNkwnM0snNUomNEklM0onNUolNUslNEonNEkmNUomNUsmNEolM0snNUomNEomNEomNEslNUkmNUomNEomNUomNEolNEomNEsmNEomNEomNEomM0omNEomNEomNEomNEomNEomNEomNEomNEomNEr///9hPe5QAAAAPXRSTlMAAQIDBg4PEBEVHh8sLTBDRUZHSElKS01RVVZeaG90dXZ5fqGkpaittbi9xMfL09TW2d7f4uPq7e/x8vf4F8v60AAAAAFiS0dEPdBtUVkAAACASURBVBgZBcGLIoNQAADQ05WWipZ5brGH0JDXZu7w/9/lHAAAgPJ4BICk3fx8/fUVQHL3Vgf5MtaA9vUQXO5y4LMGPC5AsQ+AWQ+qLcDFM8h+M8BtB6znQPpxBZzEU0i7lwA4+76fNjfvQxwDHK2ehofrcB4bAMAkFgCA8gAAgH/ZSQkFmhv26gAAAABJRU5ErkJggg==" class="search-icon">\
                  </div>-->\
                  {{each(j, bucket) searchFacet.buckets}}\
                        {{if searchFacet.multiselect}}\
                        {{if searchFacet.subtype == "value"}}\
                          <div class="custom_checkbox kr-sg-checkbox d-block">\
                              <input id="checkbox-${i}${j}" class="checkbox-custom sdk-filter-checkbox" type="checkbox" name="${bucket.key}" value="true" data-from="${bucket.from}" data-to="${bucket.to}">\
                              <label for="checkbox-${i}${j}" class="checkbox-custom-label" title="${bucket.key}">${bucket.key} </label><span class="associated-filter-count">(${bucket.doc_count})</span>\
                          </div>\
                        {{/if}}\
                        {{if searchFacet.subtype == "range"}}\
                            <div class="kr-sg-checkbox d-block custom_checkbox">\
                              <input id="checkbox-${i}${j}" class="checkbox-custom sdk-filter-checkbox" type="checkbox" name="${bucket.key}" value="true" data-from="${bucket.from}" data-to="${bucket.to}">\
                              <label for="checkbox-${i}${j}" class="checkbox-custom-label" title="${bucket.key}">${bucket.key} </label><span class="associated-filter-count">(${bucket.doc_count})</span>\
                            </div>\
                        {{/if}}\
                      {{/if}}\
                      {{if !searchFacet.multiselect}}\
                        {{if searchFacet.subtype == "value"}}\
                          <div class="custom_checkbox kr-sg-radiobutton d-block">\
                              <input id="radio-${i}${j}" class="radio-custom sdk-filter-radio" type="radio" name="radio-${i}" value="${bucket.key}" data-from="${bucket.from}" data-to="${bucket.to}">\
                              <label for="radio-${i}${j}" class="radio-custom-label" title="${bucket.key}">${bucket.key} </label><span class="associated-filter-count">(${bucket.doc_count})</span>\
                          </div>\
                        {{/if}}\
                        {{if searchFacet.subtype == "range"}}\
                            <div class="custom_checkbox kr-sg-radiobutton d-block">\
                              <input id="radio-${i}${j}" class="radio-custom sdk-filter-radio" type="radio" name="radio-${i}" value="${bucket.key}" data-from="${bucket.from}" data-to="${bucket.to}">\
                              <label for="radio-${i}${j}" class="radio-custom-label" title="${bucket.key}">${bucket.key} </label><span class="associated-filter-count">(${bucket.doc_count})</span>\
                            </div>\
                        {{/if}}\
                      {{/if}}\
                  {{/each}}\
                  {{if searchFacet.multiselect}}\
                  <div class="apply-btn">Apply</div>\
                  {{/if}}\
                    {{if !searchFacet.multiselect}}\
                    <div class="clear-all sdk-clear-all-facet-top">Clear</div>\
                    {{/if}}\
                  </div>\
              </div>\
            {{/each}}\
          </div>\
          </div>\
        {{/if}}\
        </div>\
      </script>';return facet;};FindlySDK.prototype.facetFilterleft=function(){var facet="\n      <div>\n      <div class=\"fliter-right-btn left-filter\">\n        <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAKCAYAAACE2W/HAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA/SURBVHgB1c+hEQAgDATBfyqJwVMKpaYUPCadwCAyGATgcursUiQXYFQ8RU0IE33urFSz3tZFNHpn67Z538YJjc8On2EvoL4AAAAASUVORK5CYII=\">\n\n      <div class=\"filter-data\">\n        <div class=\"header-sec\">\n          <div class=\"f-heading\">FILTERS</div>\n          <div class=\"clear-all\">Clear All</div>\n        </div>\n            <div class=\"scroll-data\">\n                <div class=\"group-checkbox\">\n                  <div class=\"heading-title\">Type</div>\n                  <div class=\"custom_checkbox kr-sg-checkbox d-block\">\n                      <input id=\"checkbox_grpb\" class=\"checkbox-custom\" type=\"checkbox\">\n                      <label for=\"checkbox_grpb\" class=\"checkbox-custom-label\">Sapphire Cards <span class=\"count\">(1)</span></label>\n                  </div>\n                  <div class=\"custom_checkbox kr-sg-checkbox d-block\">\n                      <input id=\"checkbox_grpc\" class=\"checkbox-custom\" type=\"checkbox\">\n                      <label for=\"checkbox_grpc\" class=\"checkbox-custom-label\">Platinum Cards <span class=\"count\">(3)</span></label>\n                  </div>\n                  <div class=\"custom_checkbox kr-sg-checkbox d-block\">\n                    <input id=\"checkbox_grpc\" class=\"checkbox-custom\" type=\"checkbox\">\n                    <label for=\"checkbox_grpc\" class=\"checkbox-custom-label\">Travel Master Cards <span class=\"count\">(2)</span></label>\n                </div>\n                <div class=\"custom_checkbox kr-sg-checkbox d-block\">\n                  <input id=\"checkbox_grpc\" class=\"checkbox-custom\" type=\"checkbox\">\n                  <label for=\"checkbox_grpc\" class=\"checkbox-custom-label\">Rewards Cards <span class=\"count\">(3)</span></label>\n              </div>\n            </div>\n            <div class=\"group-checkbox\">\n                <div class=\"heading-title\">Benefits</div>\n                <div class=\"custom_checkbox kr-sg-checkbox d-block\">\n                  <input id=\"checkbox_grpb\" class=\"checkbox-custom\" type=\"checkbox\">\n                  <label for=\"checkbox_grpb\" class=\"checkbox-custom-label\">Accelarated Rewards <span class=\"count\">(2)</span></label>\n                </div>\n                <div class=\"custom_checkbox kr-sg-checkbox d-block\">\n                  <input id=\"checkbox_grpb\" class=\"checkbox-custom\" type=\"checkbox\">\n                  <label for=\"checkbox_grpb\" class=\"checkbox-custom-label\">No Joining Fees <span class=\"count\">(2)</span></label>\n                </div>\n                <div class=\"custom_checkbox kr-sg-checkbox d-block\">\n                  <input id=\"checkbox_grpb\" class=\"checkbox-custom\" type=\"checkbox\">\n                  <label for=\"checkbox_grpb\" class=\"checkbox-custom-label\">Annual Fee Waiver <span class=\"count\">(1)</span></label>\n                </div>\n                <div class=\"custom_checkbox kr-sg-checkbox d-block\">\n                  <input id=\"checkbox_grpb\" class=\"checkbox-custom\" type=\"checkbox\">\n                  <label for=\"checkbox_grpb\" class=\"checkbox-custom-label\">Exclusive Events <span class=\"count\">(1)</span></label>\n                </div>\n            </div>\n            <div class=\"group-checkbox\">\n                <div class=\"heading-title\">Min. Balance</div>\n                <div class=\"custom_checkbox kr-sg-checkbox d-block\">\n                  <input id=\"checkbox_grpb\" class=\"checkbox-custom\" type=\"checkbox\">\n                  <label for=\"checkbox_grpb\" class=\"checkbox-custom-label\">0 to 500 <span class=\"count\">(8)</span></label>\n                </div>\n            </div>\n          </div>\n          <div class=\"footer-filter\">\n                <button class=\"apply-btn\">Apply</button>\n          </div>\n      </div>\n    </div>\n      </div>\n      ";return facet;};FindlySDK.prototype.fullResultAllType=function(){var template='<script type="text/x-jqury-tmpl">\
      <div style="height:100%">\
      <!--<div id="loaderDIV" class="loader-container">Loading...</div>-->\
        <div class="data-body-sec {{if facetPosition == `top`}}iffilteristop{{/if}}">\
        <div class="no-templates-defined-full-results-container">\
        <div class="img-block"><img class="no-data-mapped">\
          <div class="title">Result templates are not mapped with a proper field value</div>\
        </div>\
      </div>\
        <div class="scroll-top-container">\
         <div class="title-scroll-top">\
           <img>Scroll to top\
          </div>\
        </div>\
        <div class="empty-full-results-container hide" id="top-down-all-tab-empty-state">\
        <div class="img-block">\
        <img src="data:image/png;base64,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">\
        </div>\
        <div class="title">Sorry, we could not find any results for that</div>\
        <div class="title-info">Please try searching with another term</div>\
        </div>\
        <div class="full-search-data-container matched-structured-data-contaniers">\
        </div>\
        <div class="kore-sdk-pagination-div hide">\
          <div class="kore-sdk-custom-pagination">\
            <div class="kore-sdk-bottom-up-first pagination-tootlip-buttons">\
              <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAAQABADAREAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+zn9pz9o/XPhre6B8H/gxpfhzxb+0d8Q9H1XxB4esPF8t9B8MfhH8OtBmjh8WfH74+6vpdzZXXh34V+Et722l6XFqWk+IPin4vFt4F8I3th/xUvirwe0r77fi/JeYiT9mv49eP/2j9X8SfEbRPCulaJ+y3/ZVjpXwe8b61p+taZ49+POsxXLtrnxc8OaBd33keEPgTfQKlj8NW1221DxV8RoXm8cW0ujeDG8M3PjAat69fLy9e4LX0Iv2m/2bda+JWoaD8Yvg1q2g+Ef2jvh9oupeHdAvvFYvZfhj8Xfh1rU4uPFPwB+PujafZ6nL4g+FXi9g89jqtvpOp+Jvhj4qa38beD7e7ceIfDPisT6Pb8vNef5g/wAST9mv4C/ED9nDV/Enw50XxVpWufst/wBlWOq/B7wRrWo61qfj74DazLcuuufCLw5r93YeR4v+BNjAyXvw0Gu3On+KvhzAk3ge3i1nwYnhm38IDaevXr2fn5PuMP/Z">\
              <span class="tooltip_text"> First</span>\
              </div>\
            <div class="kore-sdk-bottom-up-previous pagination-tootlip-buttons">\
              <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACuSURBVHgB3VKxDcIwEDwTD2AEA3xk0zMCbMAGrMAIGYWSjhFQJgipEcIlnTMAknloaPImSZecZMnS3+nuTw+MAkRk+FHbbNZBTFBZBegd+uLrnLuKyBUSR6XEUPqCGEvv7weJJ6+g9JnFdUoM2d0Vn+hduEKC1xGI3Lzr7/5Lwcjtg6zdp3iZNGgYxixL/p7MYv5sQqgxLMlqzX0EXmfTNv97SN7frohqy50Qpok3s14tS5MeJgUAAAAASUVORK5CYII=">\
              <span class="tooltip_text"> Previous</span>\
              </div>\
            <div class="input-text-data">\
              <div class="title">Page</div>\
              <div>\
                <input id="kore-current-page-number" class="kore-current-page-number" type="text" value="1">\
              </div>\
              <div class="title">of</div>\
              <div id="kore-total-page-number" class="kore-total-page-number">15</div>\
            </div>\
            <div class="kore-sdk-bottom-up-next pagination-tootlip-buttons">\
              <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAALCAYAAABcUvyWAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACdSURBVHgBXY+xDQIxEAT3bAIiZEQD99gf4xKgEuiEkDY+JUJUQEoGxAjhCsAhwUvmEHqw/8LZW2lWM9femNEwyiE7BaQ5SB+Y2eSBjvFxNGYyBqmNNLdSfH0C6j6YbQOiGVK7CCFE1QUh3FZI6QIa7IrGr1m5ExL2qoBTtxYZkWibP7R2yZW9ix33oHuWUAZ+Ye17A+GRSBSv5zx4A80eMIB299aVAAAAAElFTkSuQmCC">\
              <span class="tooltip_text">Next</span>\
              </div>\
            <div class="kore-sdk-bottom-up-last pagination-tootlip-buttons">\
              <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC8SURBVHgB3ZKxEcIwDEUVZwAEWUCJnJ5R2AA2YAQYIRswAkdJyQRQ0kEJTewFOBBxjos5QkI68htbOn//d7YA+iWK9Z4oHb9q4owSvfjmCasF4vAKAawRo621+QVxcAQIMhxFaE2+g1YUxDMhMSRytSjmUx1J+N6w1hwciVoJweYseq4dSPSySCZCj4R5Wj2nam9QcC936PVv8kqN6Uk6L9PJSxeqZrMgdjcTT9wPuFn4yVwYPg1SW/P/6gGaqz4/5BlCXQAAAABJRU5ErkJggg==">\
              <span class="tooltip_text">Last </span>\
              </div>\
          </div>\
        </div>\
        <div class="custom-add-result-container1 display-none {{if devMode== false || viewType != "Customize"}}display-none{{/if}}">\
          <div class="custom-add-new-result-content">\
            <div class="bold-text">Not finding the result?</div>\
            <div class="link-text"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABrSURBVHgBzVHBCYAwEMuV/lRwBDdykoojuIoTiBs5Qt8KjVZfLdeHD8FAyJEQOO4ABZXbx0gts5opIi0KMHiJ7wvSuLBcmu4s7G6lbHnBgmGGZAWa/hnCmvrw0FAPxxSpZT+8kvppkr5UOAH/GRicle7qIwAAAABJRU5ErkJggg==">Add from repository</div>\
          </div>\
        </div>\
        </script>';return template;};FindlySDK.prototype.fullResultRanking=function(){var template='<script type="text/x-jqury-tmpl">\
      <div>\
          <div class="data-body-sec customization {{if facetPosition == `top`}}iffilteristop{{/if}}">\
          {{if !data}} <p>test</p>{{/if}}\
          <div class="results-wrap">\
            {{each(i, record) data.web}}\
              <div class="data-wrap" index="${i}" contentType="${record.sys_content_type}" contentId="${record.contentId}" score="${record.score}" boost="${record.config.boost}" pinIndex="${record.config.pinIndex}" visible="${record.config.visible}">\
                <div class="customization-tile">\
                    <div class="drag-content"></div>\
                    <div class="actions-content">\
                      <span class="action-item visibility" type="{{if record.config.visible == true}}Hide{{/if}}{{if record.config.visible == false}}UnHide{{/if}}">\
                        <span class="tooltiptext">\
                          <span class="hide {{if record.config.visible == true}}display-block{{else}}display-none{{/if}}">\
                              Hide\
                          </span>\
                          <span class="unhide {{if record.config.visible == false}}display-block{{else}}display-none{{/if}}">\
                              UnHide\
                          </span>\
                        </span>\
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADqSURBVHgBTU/BTcNAEJzxnRDiAyVQAukASuALj+APPG0qcFIB+BVFPI4IIp4pAVMBLbgE54eSnIc9FKPs47Q7M7czS+xrFt4uPV0l6ALgGYFG0uI+v31NfJael8VH5ZiteukrajPaSqOdiUBWiUsazsLyzhkQxStgd24fxmljVKwB3zr231H9debJMaTpXrSCuJawdnSfCbO+tr7yKdMWeDyiezLr+iG/mSSreVi2hC97oHRQYRnZnGDTCujsgBb/pc5Rp8f46WxoOMDz8F6SWWHZ8jSbXUiRhquJgzK7CYnib584tRjPA/cLSnRp8KbGJuoAAAAASUVORK5CYII=">\
                      </span>\
                      <span class="action-item pinning" type="{{if record.config.pinIndex > 0}}UnPin{{/if}}{{if record.config.pinIndex < 0}}Pin{{/if}}">\
                        <span class="tooltiptext">\
                          <span class="unpin {{if record.config.pinIndex >= 0}}display-block{{else}}display-none{{/if}}">\
                            UnPin\
                          </span>\
                          <span class="pin {{if record.config.pinIndex < 0}}display-block{{else}}display-none{{/if}}">\
                            Pin\
                          </span>\
                        </span>\
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADqSURBVHgBTU/BTcNAEJzxnRDiAyVQAukASuALj+APPG0qcFIB+BVFPI4IIp4pAVMBLbgE54eSnIc9FKPs47Q7M7czS+xrFt4uPV0l6ALgGYFG0uI+v31NfJael8VH5ZiteukrajPaSqOdiUBWiUsazsLyzhkQxStgd24fxmljVKwB3zr231H9debJMaTpXrSCuJawdnSfCbO+tr7yKdMWeDyiezLr+iG/mSSreVi2hC97oHRQYRnZnGDTCujsgBb/pc5Rp8f46WxoOMDz8F6SWWHZ8jSbXUiRhquJgzK7CYnib584tRjPA/cLSnRp8KbGJuoAAAAASUVORK5CYII=">\
                      </span>\
                      <span class="action-item boosting">\
                        <span class="tooltiptext">Up</span>\
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADqSURBVHgBTU/BTcNAEJzxnRDiAyVQAukASuALj+APPG0qcFIB+BVFPI4IIp4pAVMBLbgE54eSnIc9FKPs47Q7M7czS+xrFt4uPV0l6ALgGYFG0uI+v31NfJael8VH5ZiteukrajPaSqOdiUBWiUsazsLyzhkQxStgd24fxmljVKwB3zr231H9debJMaTpXrSCuJawdnSfCbO+tr7yKdMWeDyiezLr+iG/mSSreVi2hC97oHRQYRnZnGDTCujsgBb/pc5Rp8f46WxoOMDz8F6SWWHZ8jSbXUiRhquJgzK7CYnib584tRjPA/cLSnRp8KbGJuoAAAAASUVORK5CYII=">\
                      </span>\
                      <span class="action-item burying {{if record.score <= 0}}disabled{{/if}}">\
                        <span class="tooltiptext">Down</span>\
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADqSURBVHgBTU/BTcNAEJzxnRDiAyVQAukASuALj+APPG0qcFIB+BVFPI4IIp4pAVMBLbgE54eSnIc9FKPs47Q7M7czS+xrFt4uPV0l6ALgGYFG0uI+v31NfJael8VH5ZiteukrajPaSqOdiUBWiUsazsLyzhkQxStgd24fxmljVKwB3zr231H9debJMaTpXrSCuJawdnSfCbO+tr7yKdMWeDyiezLr+iG/mSSreVi2hC97oHRQYRnZnGDTCujsgBb/pc5Rp8f46WxoOMDz8F6SWWHZ8jSbXUiRhquJgzK7CYnib584tRjPA/cLSnRp8KbGJuoAAAAASUVORK5CYII=">\
                      </span>\
                    </div>\
                    <div class="title">${record.pageTitle}</div>\
                    <div class="desc_text">${record.pageSearchResultPreview}</div>\
                    <div class="appearences-count">\
                      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADqSURBVHgBTU/BTcNAEJzxnRDiAyVQAukASuALj+APPG0qcFIB+BVFPI4IIp4pAVMBLbgE54eSnIc9FKPs47Q7M7czS+xrFt4uPV0l6ALgGYFG0uI+v31NfJael8VH5ZiteukrajPaSqOdiUBWiUsazsLyzhkQxStgd24fxmljVKwB3zr231H9debJMaTpXrSCuJawdnSfCbO+tr7yKdMWeDyiezLr+iG/mSSreVi2hC97oHRQYRnZnGDTCujsgBb/pc5Rp8f46WxoOMDz8F6SWWHZ8jSbXUiRhquJgzK7CYnib584tRjPA/cLSnRp8KbGJuoAAAAASUVORK5CYII=">\
                      <span class="count">${record.feedbackAppearances}</span>\
                    </div>\
                    <div class="appearences-count">\
                      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAOCAYAAAD0f5bSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEMSURBVHgBnZK/bcJQEMbvniFJmRGSDZINnA2SEijgioConA1iNkgqlKS4IASUwAaMABPgEWgBoeMOyQiZh0F8hU86v9/9+d5DyOivM/gUkRgR4/dqqQUeuWzCgI3go0U4IedLNqmUQI4cXKFC3s/f/74gwEQAwsMdcyHbLUCZ7yLIXIvsDHLmllW0mIXS3dKYGoQGrEWei4isVUaWrNfKmDeyU4+/DdAqbwq8wgVydap8iMBMZx8aqLnpWcg+DSrXtMv4APSPxvykIdnfU4MqcQoy872XwrtIz3SOFv7hntla1V1bG1hNmkRJm/mhgLeR3VdRli9el9rcDQMMIn2JoZa3rol1uIHVFxEttjVMjEnBcNKUAAAAAElFTkSuQmCC">\
                      <span class="count">${record.feedbackClicks}</span>\
                    </div>\
                    <div class="appearences-count bg-data record-status-pinned" style="display : {{if record.config.pinIndex >= 0}}block{{else}}none{{/if}}">\
                      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAD5SURBVHgBhZAxTgMxEEX/rBeJcnuE2NwgdAhSTBR6lBOsuAl03AI4QaCjIlOt6JIbkCMkXaSs15mJtJKjeBVL1kie9+3nIfQsZi52cAsPP/4TWXXnWV9gCxQElA5ufsdcng3kcE9algHhNQ65FPzAk4oQ3lq001rmP9flYJMhe78qb74p9u0CChcKj2uR5T3zkOBmChYBWB+URGRNoE86ePvnHO3AYNMw2LQa+NsL3RSrjPjxRZuVTeZSb7NXDa7l9yP56RbNl+nYJxvkQ2vG8FGgczV30wPCDMnpRXCAn5q7jVP1tITqJGGwjvHfaqp3EhjxZJFs9Kw9ezRmCkd+ZkUAAAAASUVORK5CYII=">\
                      <span class="count">PINNED</span>\
                    </div>\
                    <div class="appearences-count bg-data record-status-hidden" style="display : {{if record.config.visible == false}}block{{else}}none{{/if}}">\
                      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAD5SURBVHgBhZAxTgMxEEX/rBeJcnuE2NwgdAhSTBR6lBOsuAl03AI4QaCjIlOt6JIbkCMkXaSs15mJtJKjeBVL1kie9+3nIfQsZi52cAsPP/4TWXXnWV9gCxQElA5ufsdcng3kcE9algHhNQ65FPzAk4oQ3lq001rmP9flYJMhe78qb74p9u0CChcKj2uR5T3zkOBmChYBWB+URGRNoE86ePvnHO3AYNMw2LQa+NsL3RSrjPjxRZuVTeZSb7NXDa7l9yP56RbNl+nYJxvkQ2vG8FGgczV30wPCDMnpRXCAn5q7jVP1tITqJGGwjvHfaqp3EhjxZJFs9Kw9ezRmCkd+ZkUAAAAASUVORK5CYII=">\
                      <span class="count">HIDDEN</span>\
                    </div>\
                    <div class="appearences-count bg-data record-status-boosted {{if record.config.boost > 1}}display-block{{/if}}">\
                      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAD5SURBVHgBhZAxTgMxEEX/rBeJcnuE2NwgdAhSTBR6lBOsuAl03AI4QaCjIlOt6JIbkCMkXaSs15mJtJKjeBVL1kie9+3nIfQsZi52cAsPP/4TWXXnWV9gCxQElA5ufsdcng3kcE9algHhNQ65FPzAk4oQ3lq001rmP9flYJMhe78qb74p9u0CChcKj2uR5T3zkOBmChYBWB+URGRNoE86ePvnHO3AYNMw2LQa+NsL3RSrjPjxRZuVTeZSb7NXDa7l9yP56RbNl+nYJxvkQ2vG8FGgczV30wPCDMnpRXCAn5q7jVP1tITqJGGwjvHfaqp3EhjxZJFs9Kw9ezRmCkd+ZkUAAAAASUVORK5CYII=">\
                      <span class="count boosted">${record.config.boost}X BOOSTED</span>\
                    </div>\
                    <div class="appearences-count bg-data record-status-lowered {{if record.config.boost < 1}}display-block{{/if}}">\
                      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAD5SURBVHgBhZAxTgMxEEX/rBeJcnuE2NwgdAhSTBR6lBOsuAl03AI4QaCjIlOt6JIbkCMkXaSs15mJtJKjeBVL1kie9+3nIfQsZi52cAsPP/4TWXXnWV9gCxQElA5ufsdcng3kcE9algHhNQ65FPzAk4oQ3lq001rmP9flYJMhe78qb74p9u0CChcKj2uR5T3zkOBmChYBWB+URGRNoE86ePvnHO3AYNMw2LQa+NsL3RSrjPjxRZuVTeZSb7NXDa7l9yP56RbNl+nYJxvkQ2vG8FGgczV30wPCDMnpRXCAn5q7jVP1tITqJGGwjvHfaqp3EhjxZJFs9Kw9ezRmCkd+ZkUAAAAASUVORK5CYII=">\
                      <span class="count lowered">${record.config.boost}X LOWERED</span>\
                    </div>\
                    <div class="tag-ref">FAQ Response</div>\
                </div>\
              </div>\
            {{/each}}\
          </div>\
        </div>\
      </div>\
      </script>';return template;};FindlySDK.prototype.bindAllResultRankingOperations=function(){var _self=this;if(_self.vars.customizeView){setTimeout(function(){$(".results-wrap").sortable({items:"li:not(.ui-state-disabled)",cancel:".ui-state-disabled",stop:function stop(event,ui){var element=ui.item[0];if($(element).find(".pinning").length){var pinningElement=$(element).find(".pinning")[0];if(pinningElement){$(pinningElement).closest(".pinning").attr("type","Pin");$(pinningElement).trigger("click");}}else if($(element).attr("manuallyadded")=="true"){var pinIndex=0;var _selectedElement=ui.item[0];var _parentElement=$(event.target).closest(".results-wrap");var childNodes=Array.prototype.slice.call(_parentElement[0].children);pinIndex=childNodes.indexOf(_selectedElement);if(pinIndex>=0){_self.performRankActionsOnFullPage(ui.item,{pinIndex:pinIndex},_self.vars.searchObject.searchText,"pinning",true);//
}}}});},200);}$(".customization").off("click",".visibility").on("click",".visibility",function(event){// if (parseInt($(event.target).closest('.data-wrap').attr('pinindex')) == -1) {
if($(event.target).closest(".data-wrap").attr("visible")=="true"){_self.performRankActionsOnFullPage(event,{visible:false},_self.vars.searchObject.searchText,"visibility");}else{_self.performRankActionsOnFullPage(event,{visible:true},_self.vars.searchObject.searchText,"visibility");}// }
});$(".customization").off("click",".unpin_added_result").on("click",".unpin_added_result",function(event){_self.performRankActionsOnFullPage(event,{pinIndex:-1},_self.vars.searchObject.searchText,"unpin_added_result");});$(".customization").off("click",".pinning").on("click",".pinning",function(event){if($(event.target).closest(".data-wrap").attr("visible")=="true"){var _selectedElement=$(event.target).closest(".structure-data-wrp");var _parentElement=$(event.target).closest(".results-wrap");var childNodes=Array.prototype.slice.call(_parentElement[0].children);var pinIndex=0;if($(event.target).closest(".pinning").attr("type")=="UnPin"){pinIndex=-1;}else{pinIndex=childNodes.indexOf(_selectedElement[0]);}_self.performRankActionsOnFullPage(event,{pinIndex:pinIndex},_self.vars.searchObject.searchText,"pinning");}});$(".customization").off("click",".boosting").on("click",".boosting",function(event){if($(event.target).closest(".data-wrap").attr("visible")=="true"&&parseInt($(event.target).closest(".data-wrap").attr("pinindex"))==-1){var boostByValue=parseFloat($(event.target).closest(".data-wrap").attr("boost"));boostByValue=boostByValue+0.25;_self.performRankActionsOnFullPage(event,{boost:boostByValue},_self.vars.searchObject.searchText,"boosting");}});$(".customization").off("click",".burying").on("click",".burying",function(event){if($(event.target).closest(".data-wrap").attr("visible")=="true"&&parseInt($(event.target).closest(".data-wrap").attr("pinindex"))==-1){var buryByValue=parseFloat($(event.target).closest(".data-wrap").attr("boost"));if(buryByValue>0.25){buryByValue=buryByValue-0.25;_self.performRankActionsOnFullPage(event,{boost:buryByValue},_self.vars.searchObject.searchText,"burying");}else if(buryByValue!=0){buryByValue=0.25-buryByValue;_self.performRankActionsOnFullPage(event,{boost:buryByValue},_self.vars.searchObject.searchText,"burying");}else{buryByValue=0;_self.performRankActionsOnFullPage(event,{boost:buryByValue},_self.vars.searchObject.searchText,"burying");}}});$(".custom-add-result-container").off("click",".link-text").on("click",".link-text",function(event){var structure="bottom";if($("body").hasClass("top-down")){structure="top";if($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val()){_self.vars.searchObject.searchText=$("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val();}}else{structure="bottom";}if(_self.vars.searchObject&&_self.vars.searchObject.searchText){var responseObject={type:"addNew",data:true,query:_self.vars.searchObject.searchText,structure:structure};_self.parentEvent(responseObject);}});//Tour RR
$(".sdk-tours-info-nxt").off("click").on("click",function(e){$(".sdk-tours-info-start").hide();$(".sdk-tours-info-end").removeClass("hide");$(".sdk-tours-info-end").show();});$(".sdk-tours-info-pre").off("click").on("click",function(e){$(".sdk-tours-info-start").show();//$("sdk-tours-info-end").removeClass("hide");
$(".sdk-tours-info-end").hide();});$(".sdk-tours-info-close").off("click").on("click",function(e){$(".tours-information").hide();_self.vars.customTourResultRank=false;});//Tour RR
};FindlySDK.prototype.performRankActionsOnFullPage=function(event,conf,searchText,actionType,isManuallyAdded){var _self=this;if(!isManuallyAdded){event.preventDefault();event.stopPropagation();}var selectedElement;if(!isManuallyAdded){selectedElement=$(event.target).closest(".data-wrap");}else{selectedElement=$(event).find(".data-wrap");}var contentID=selectedElement.attr("contentid");var contentType=selectedElement.attr("contentType");var queryString=_self.vars.searchObject.searchText;var payload={searchQuery:queryString,result:{contentType:contentType,contentId:contentID,config:conf}};if(actionType==="unpin_added_result"){payload.result["addedResult"]=false;}// $('#loaderDIV').show();
// fqp-0357ee01-975c-56ab-bfd3-0a577ed1ed8b
// var url = 'https://dev.findly.ai/searchassistapi/findly/sidx-05441d26-7bb8-5886-a84b-0dd7768f0a44/queryPipeline/fqp-0357ee01-975c-56ab-bfd3-0a577ed1ed8b/rankingAndPinning';
var url=_self.API.queryConfig;_self.makeAPItoFindly(url,"PUT",JSON.stringify(payload)).then(function(res){$("#loaderDIV").hide();if(_self.isDev){var responseObject={type:"onboardingjourney",data:"optimize",query:_self.vars.searchObject.searchText,bottomUp:true};_self.parentEvent(responseObject);}_self.refreshFullResultsPage();// }
},function(err){$("#loaderDIV").hide();// $('.show-all-results').click();
_self.refreshFullResultsPage();});};FindlySDK.prototype.refreshFullResultsPage=function(){var _self=this;// _self.vars.selectedFacetFromSearch = "all results"
_self.invokeSearch();$("#loaderDIV").show();};FindlySDK.prototype.checkBoostAndLowerTimes=function(){var elements=$(".data-wrap");if(elements&&elements.length){for(var i=0;i<elements.length;i++){var boost=$(elements[i]).attr("boost");var times;if(boost&&boost===1){// do nothing
}else if(boost&&boost>1){// boosted;
boost=boost-1;times=boost/0.25;$(elements[i]).find(".boosted").text(times+"X BOOSTED");}else{// lowered
boost=1-boost;times=boost/0.25;$(elements[i]).find(".lowered").text(times+"X lOWERED");}}}};FindlySDK.prototype.getAutoSuggestionTemplate=function(){var autoSuggestion='<script type="text/x-jqury-tmpl">\
      <div>\
        {{if suggestions && suggestions.length > 0}}\
          <div class="suggestion-search-data-parent">\
          <div class="title-suggestion">Suggestions</div>\
            <!--<img class="suggestions-close-icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABxSURBVHgBhZDBDYAgDEV/xAXcoKs4iW7gCqzgRLiGJ7160hH8ak1IAW3yGiiPUOoADGQjB/IhpKuYGhK0kJOCOnd4shhZtObt7VguSlb+lN7ndkXigxpp46Pur3VLVvw07mE+mJMS2TH1ZC6IE54ZyglkyhuCR14v1QAAAABJRU5ErkJggg==">-->\
            <div class="bottom-to-top-suggestion">\
              {{each(i, suggestion) suggestions.slice(0, querySuggestionsLimit)}}\
                  <div class="search-suggested-title" suggestion="${suggestion}" id="${i}">\
                    <div title="${suggestion}" class="suggestion-list-item text-truncate one-line-height"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjI5NzYgMC44MDAwMDNDMy4yNjEzNiAwLjgwMDAwMyAwLjgwMDAwMyAzLjI2Nzk0IDAuODAwMDAzIDYuMzEyMjlDMC44MDAwMDMgOS4zNTY2NCAzLjI2MTM2IDExLjgyNDYgNi4yOTc2IDExLjgyNDZDNy42MjUzOCAxMS44MjQ2IDguODQzMjEgMTEuMzUyNiA5Ljc5MzM0IDEwLjU2NjlMMTIuMzQyMiAxMy4wOTExTDEyLjM4MDIgMTMuMTI1NEMxMi41ODk0IDEzLjI5NjQgMTIuODk4IDEzLjI4MyAxMy4wOTE2IDEzLjA4NjVDMTMuMjk3MiAxMi44Nzc3IDEzLjI5NTEgMTIuNTQxMyAxMy4wODY5IDEyLjMzNTFMMTAuNTQyNSA5LjgxNTI5QzExLjMyNTIgOC44NjI5MyAxMS43OTUyIDcuNjQyNjQgMTEuNzk1MiA2LjMxMjI5QzExLjc5NTIgMy4yNjc5NCA5LjMzMzg0IDAuODAwMDAzIDYuMjk3NiAwLjgwMDAwM1pNNi4yOTc2IDEuODYyNjFDOC43NDg1NCAxLjg2MjYxIDEwLjczNTQgMy44NTQ4IDEwLjczNTQgNi4zMTIyOUMxMC43MzU0IDguNzY5NzcgOC43NDg1NCAxMC43NjIgNi4yOTc2IDEwLjc2MkMzLjg0NjY2IDEwLjc2MiAxLjg1OTc4IDguNzY5NzcgMS44NTk3OCA2LjMxMjI5QzEuODU5NzggMy44NTQ4IDMuODQ2NjYgMS44NjI2MSA2LjI5NzYgMS44NjI2MVoiIGZpbGw9IiM5QUEwQTYiLz4KPC9zdmc+Cg==" />${suggestion}</div>\
                    <!-- <div class="text-truncate one-line-height type-select-suggestion" title="${suggestion}">${suggestion}</div> -->\
                  </div>\
              {{/each}}\
            </div>\
          </div>\
        {{/if}}\
      </div>\
      </script>';return autoSuggestion;};FindlySDK.prototype.changeSearchContainerBackground=function(){var _self=this;if(($(".search-body").find(".resultsOfSearch").length&&$("#search").val()||_self.vars.searchObject.recents.length&&!$("#search").val()||$(".suggestion-search-data-parent").is(":visible"))&&!_self.vars.enterIsClicked){if(!window.isBotLocked){$(".parent-search-live-auto-suggesition").show();}$(".search-container").removeClass("no-history");}else{$(".parent-search-live-auto-suggesition").hide();// if (!$('#searchChatContainer').find('.messageBubble').length && !$('.search-container').hasClass('no-history')) {
//   $('.search-container').addClass('no-history');
// }
}};FindlySDK.prototype.appendSuggestions=function(autoComplete){var _searchConfigurationC;var _self=this;var url=this.API.autoSuggestionsURL;var type="POST";var payload={query:$("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val(),// "maxNumOfResults": 9,
maxNumOfResults:((_searchConfigurationC=searchConfigurationCopy)===null||_searchConfigurationC===void 0?void 0:_searchConfigurationC.querySuggestionsLimit)||2,userId:_self.API.uuid,streamId:_self.API.streamId,lang:"en",isDev:_self.isDev};payload.userId=this.bot.userInfo.userInfo.userId;payload.indexPipelineId=_self.API.indexpipelineId;var bearer="bearer "+this.bot.options.accessToken||0||0;var headers={};headers["Authorization"]=bearer;headers['Content-Type']="application/json";if(!_self.isDev){if(_self.config.botOptions.assertion){headers.auth=_self.config.botOptions.assertion;}}if(!($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val())||searchConfigurationCopy.querySuggestionsLimit==0&&!searchConfigurationCopy.autocompleteOpt){_self.vars.previousAutosuggestionData=$("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val();return;}if(_self.vars.previousAutosuggestionData==($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val())){return;}_self.vars.previousAutosuggestionData=$("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val();$.ajax({url:url,type:type,dataType:"json",headers:headers,data:JSON.stringify(payload),success:function success(data){if(!data.isBotLocked){if(searchConfigurationCopy.querySuggestionsLimit){var autoSuggestionHTML=$(_self.getAutoSuggestionTemplate()).tmplProxy({suggestions:data.autoComplete.querySuggestions,querySuggestionsLimit:searchConfigurationCopy.querySuggestionsLimit||searchConfigurationCopy.querySuggestionsLimit==0?searchConfigurationCopy.querySuggestionsLimit:2});// if ($('.search-body').find('.resultsOfSearch').length) {
//   $('#autoSuggestionContainer').empty().append(autoSuggestionHTML);
// }
// else if (searchConfigurationCopy.liveSearchResultsLimit == 0) {
//   $('#autoSuggestionContainer').empty().append(autoSuggestionHTML);
// } else {
//   $('#autoSuggestionContainer').empty().append(autoSuggestionHTML);
// }
if(!$("body").hasClass("top-down")){if(data.autoComplete.querySuggestions.length){$("#autoSuggestionContainer").empty().append(autoSuggestionHTML);_self.bindPerfectScroll($("#autoSuggestionContainer"),".bottom-to-top-suggestion",null,"bottom-up-suggestion");$(".bottom-to-top-suggestion").animate({scrollTop:$(".bottom-to-top-suggestion").prop("scrollHeight")},300);}else{$("#autoSuggestionContainer").empty().append('<div class="suggestion-search-data-parent"><div class="noquerySuggestionsFound">No suggestions found</div></div>');}$(".parent-search-live-auto-suggesition").show();if($(".search-body").hasClass("recent-search-show")){$(".search-body").removeClass("recent-search-show");}}}if(!$("body").hasClass("top-down")){_self.changeSearchContainerBackground();}if(searchConfigurationCopy.autocompleteOpt){_self.pubSub.publish("sa-auto-suggest",data.autoComplete.typeAheads);}if(searchConfigurationCopy.querySuggestionsLimit){_self.bindAutoSuggestionTriggerOptions(autoSuggestionHTML);}if($("body").hasClass("top-down")){if(searchConfigurationCopy.querySuggestionsLimit){_self.showSuggestionbox(data.autoComplete.querySuggestions);}if(searchConfigurationCopy.autocompleteOpt){$(".top-down-suggestion").show();}else{$(".top-down-suggestion").hide();}}else{if(searchConfigurationCopy.autocompleteOpt){$(".bottom-up-suggestion").show();}else{$(".bottom-up-suggestion").hide();}}}else{if(!$("body").hasClass("top-down")){$("#autoSuggestionContainer").empty();$(".parent-search-live-auto-suggesition").hide();if($(".search-body").hasClass("recent-search-show")){$(".search-body").removeClass("recent-search-show");}}}},error:function error(err){}});// _self.pubSub.publish('sa-auto-suggest', data.autoComplete.typeAheads);
};FindlySDK.prototype.bindAutoSuggestionTriggerOptions=function(autoSuggestionHTML){var _self=this;$(".search-suggested-title").off("click").on("click",function(e){e.stopPropagation();e.stopImmediatePropagation();$(".search-body").addClass("hide");var autoSuggest=$(this).attr("suggestion");_self.hideAutoSuggestion();$("#search").val(autoSuggest);var eventTrigger="keydown";var e=$.Event(eventTrigger,{which:13});$("#search").trigger(e);});};FindlySDK.prototype.hideAutoSuggestion=function(){$("#autoSuggestionContainer").empty();$(".suggestion-search-data-parent").css("display","none");};FindlySDK.prototype.showAutoSuggestion=function(){$(".suggestion-search-data-parent").css("display","block");};// top-search-template --start///
FindlySDK.prototype.initializeTopSearchTemplate=function(){var _self=this;_self.vars.selectedFacetFromSearch="all results";if($(".topdown-search-main-container").length){$("#search-box-container").off("keydown","#search").on("keydown","#search",function(e){// if ($('body').hasClass('top-down')) {
//   _self.vars.enterIsClicked = false;
// }
_self.pubSub.publish("sa-handel-submit-button");var code=e.keyCode||e.which;code=Number(code);if(code==13){if(!$(".search-top-down").val()){return;}if($("body").hasClass("top-down")){_self.vars.enterIsClicked=true;}if(_self.isDev){if($(".top-down-search-background-div")){$(".top-down-search-background-div").addClass("if-full-results");$(".top-down-wrapper").addClass("top-down-wrapper-height");}}_self.vars.searchObject.searchText=$("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val();_self.vars.showingMatchedResults=true;_self.searchFacetsList([]);// $('#loaderDIV').show();
// _self.invokeSearch();
//$('#loaderDIV').hide();
// _self.pubSub.publish('sa-search-facets', _self.vars.searchFacetFilters);
$(".all-result-container").show();setTimeout(function(){$("#frequently-searched-box").hide();$("#live-search-result-box").hide();//top-down-searc-facets active -start//
_self.pubSub.publish("facet-selected",{selectedFacet:"all results"});//top-down-search-facets active -end//
},500);}if($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val()){$(".cancel-search").show();}else{$(".cancel-search").hide();// $('#live-search-result-box').hide();
}});$("#search-box-container").off("keyup","#search").on("keyup","#search",function(e){// if ($('body').hasClass('top-down')) {
//   _self.vars.enterIsClicked = false;
// }
if($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val()){$(".cancel-search").show();}else{$(".cancel-search").hide();$("#live-search-result-box").hide();}});$("#frequently-searched-box").off("click",".recentText").on("click",".recentText",function(e){var recentText=$(this).attr("id");$("#search").val(recentText);$("#suggestion").val(recentText);$(".top-down-suggestion").val(recentText);$(".search-top-down").val(recentText);$("#frequently-searched-box").hide();if(_self.isDev){if($(".top-down-search-background-div")){$(".top-down-search-background-div").addClass("if-full-results");$(".top-down-wrapper").addClass("top-down-wrapper-height");}}//     e.preventDefault();
// e.stopImmediatePropagation();
_self.vars.searchObject.searchText=recentText;_self.vars.showingMatchedResults=true;_self.searchFacetsList([]);// _self.invokeSearch();
var e=$.Event("keydown",{which:13});$("#search").trigger(e);// _self.pubSub.publish('sa-search-facets', _self.vars.searchFacetFilters);
//$('#search').trigger("keyup");
setTimeout(function(){//   var e = $.Event( "keydown", { which: 13 } );
// $('#search').trigger(e);
// $('#loaderDIV').show();
$(".all-result-container").show();//top-down-searc-facets active -start//
_self.pubSub.publish("facet-selected",{selectedFacet:"all results"});//top-down-search-facets active -end//
$("#live-search-result-box").hide();$("#frequently-searched-box").hide();$("#loaderDIV").hide();},600);if($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val()){$(".cancel-search").show();}else{$(".cancel-search").hide();$("#live-search-result-box").hide();}});$("#search-box-container").off("click","#search").on("click","#search",function(e){if($("#search").hasClass("from-result-ranking")){$("#search").removeClass("from-result-ranking");$("#viewTypePreview").removeClass("nav-link-item-active");$("#viewTypeCustomize").addClass("nav-link-item-active");$(".content-data-sec").removeClass("if-customize-mode");_self.vars.customizeView=true;$(".show_insights_top_down").show();if(_self.isDev){if($(".top-down-search-background-div")){$(".top-down-search-background-div").addClass("if-full-results");$(".top-down-wrapper").addClass("top-down-wrapper-height");}}_self.vars.searchObject.searchText=$("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val();_self.vars.showingMatchedResults=true;_self.searchFacetsList([]);// $('#loaderDIV').show();
// _self.invokeSearch();
var e1=$.Event("keydown",{which:13});$("#search").trigger(e1);//$('#loaderDIV').hide();
// _self.pubSub.publish('sa-search-facets', _self.vars.searchFacetFilters);
$(".all-result-container").show();setTimeout(function(){$("#frequently-searched-box").hide();$("#live-search-result-box").hide();//top-down-searc-facets active -start//
_self.pubSub.publish("facet-selected",{selectedFacet:"all results"});//top-down-search-facets active -end//
},1000);}if($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val()){$(".cancel-search").show();}else{$(".cancel-search").hide();$("#live-search-result-box").hide();$("#frequently-searched-box").hide();}});var headingDataHTML=$("#heading");_self.bindPerfectScroll(headingDataHTML,"#frequently-searched-box",null,"y","frequentlySearchedBox");$("#search-box-container").off("click",".submit-button").on("click",".submit-button",function(e){if($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val()){var e1=$.Event("keydown",{which:13});$("#search").trigger(e1);}});}_self.pubSub.subscribe("sa-handel-submit-button",function(msg,data){var isGoButtonDisabled=false;if(!($("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val())){isGoButtonDisabled=true;}else{isGoButtonDisabled=false;}var goBtn=$(".submit-button");for(var _i5=0;_i5<goBtn.length;_i5++){goBtn[_i5].disabled=isGoButtonDisabled;}});$(".all-result-container").off("click",".back-search").on("click",".back-search",function(e){$(".all-result-container").hide();$("body").removeClass("showFullResults");$("#search").val("");$("#suggestion").val("");$(".top-down-suggestion").val("");$(".search-top-down").val("");$(".full-search-data-container").empty();$(".skelton-load-img").show();_self.destroy();});};FindlySDK.prototype.showSuggestionbox=function(suggestions){var _self=this;if(suggestions.length){var template=$(_self.getSuggestionTemplate("suggestionTemplate")).tmplProxy({suggestions:suggestions,queryText:$("body").hasClass("top-down")?$(".search-top-down").val():$(".bottom-up-search").val(),maxCount:searchConfigurationCopy.querySuggestionsLimit?searchConfigurationCopy.querySuggestionsLimit:4});$("#auto-query-box").append(template);if(_self.vars.enterIsClicked||!$(".search-top-down").val()){$("#live-search-result-box").hide();return;}else{$("#live-search-result-box").show();}$("#auto-query-box").off("click").on("click",".sugg-query-box",function(e){var queryText=$(this).attr("id");$("#search").val(queryText);$("#suggestion").val(queryText);$(".top-down-suggestion").val(queryText);$(".search-top-down").val(queryText);//$('#search').trigger("keyup");
$("#live-search-result-box").hide();// $('#loaderDIV').show();
$(".all-result-container").show();if(_self.isDev){if($(".top-down-search-background-div")){$(".top-down-search-background-div").addClass("if-full-results");$(".top-down-wrapper").addClass("top-down-wrapper-height");}}_self.vars.searchObject.searchText=queryText;_self.vars.showingMatchedResults=true;_self.searchFacetsList([]);var e=$.Event("keydown",{which:13});$("#search").trigger(e);// _self.invokeSearch();
setTimeout(function(){$("#live-search-result-box").hide();$("#frequently-searched-box").hide();//top-down-suggestion box perfect scroll start //
if($(".topdown-search-main-container").length){var topDownSuggBoxDataHTML=$("#heading");_self.bindPerfectScroll(topDownSuggBoxDataHTML,"#live-search-result-box",null,"y","suggestionBox");}//top-down-suggestion box perfect scroll -end//
},600);});}else{$("#auto-query-box").empty();// $('#live-search-result-box').hide();
_self.checkIsPreviousLiveSearchDataExists();}// out side click for live search and frequent search dropdown close//
$("#live-search-result-box").off("click").on("click",function(event){if($(event.target).closest("#live-search-result-box").length&&!$(event.target).closest(".carousel").length){if($("#live-search-result-box").height()<event.offsetY||event.offsetX<0||event.offsetX>$("#live-search-result-box").width()){$("#live-search-result-box").hide();}}});$("#frequently-searched-box").off("click").on("click",function(event){if($(event.target).closest("#frequently-searched-box").length){if($("#frequently-searched-box").height()<event.offsetY||event.offsetX<0||event.offsetX>$("#frequently-searched-box").width()){$("#frequently-searched-box").hide();}}});};FindlySDK.prototype.getSuggestionTemplate=function(){if($("#auto-query-box").find(".suggestion-box").length){$(".suggestion-box").remove();}var suggestionTemplate='<script id="suggestion_tmpl" type="text/x-jqury-tmpl"> \
                              {{if suggestions.length}} \
                                        {{each(index, msgItem) suggestions.slice(0, maxCount)}} \
                                        {{if msgItem}}\
                                            <div class="suggestion-box">\
                                              <div class="sugg-query-box text-truncate one-line-height"  id="${msgItem||index}">\
                                                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjI5NzYgMC44MDAwMDNDMy4yNjEzNiAwLjgwMDAwMyAwLjgwMDAwMyAzLjI2Nzk0IDAuODAwMDAzIDYuMzEyMjlDMC44MDAwMDMgOS4zNTY2NCAzLjI2MTM2IDExLjgyNDYgNi4yOTc2IDExLjgyNDZDNy42MjUzOCAxMS44MjQ2IDguODQzMjEgMTEuMzUyNiA5Ljc5MzM0IDEwLjU2NjlMMTIuMzQyMiAxMy4wOTExTDEyLjM4MDIgMTMuMTI1NEMxMi41ODk0IDEzLjI5NjQgMTIuODk4IDEzLjI4MyAxMy4wOTE2IDEzLjA4NjVDMTMuMjk3MiAxMi44Nzc3IDEzLjI5NTEgMTIuNTQxMyAxMy4wODY5IDEyLjMzNTFMMTAuNTQyNSA5LjgxNTI5QzExLjMyNTIgOC44NjI5MyAxMS43OTUyIDcuNjQyNjQgMTEuNzk1MiA2LjMxMjI5QzExLjc5NTIgMy4yNjc5NCA5LjMzMzg0IDAuODAwMDAzIDYuMjk3NiAwLjgwMDAwM1pNNi4yOTc2IDEuODYyNjFDOC43NDg1NCAxLjg2MjYxIDEwLjczNTQgMy44NTQ4IDEwLjczNTQgNi4zMTIyOUMxMC43MzU0IDguNzY5NzcgOC43NDg1NCAxMC43NjIgNi4yOTc2IDEwLjc2MkMzLjg0NjY2IDEwLjc2MiAxLjg1OTc4IDguNzY5NzcgMS44NTk3OCA2LjMxMjI5QzEuODU5NzggMy44NTQ4IDMuODQ2NjYgMS44NjI2MSA2LjI5NzYgMS44NjI2MVoiIGZpbGw9IiM5QUEwQTYiLz4KPC9zdmc+Cg==">${msgItem}\
                                              </div> \
                                            <!-- <div class="query-box">\
                                            ${queryText}\
                                            </div>-->\
                                            </div> \
                                            {{/if}} \
                                        {{/each}} \
                              {{/if}} \
                            </script>';return suggestionTemplate;};FindlySDK.prototype.getSearchFacetsTopDownTemplate=function(type){var leftSearchFacetsTemplate='<script id="search_facets_tmpl" type="text/x-jqury-tmpl"> \
<div class="filters-sec {{if position == "right"}} float-right{{/if}}">\
 {{if searchFacets.length}}\
	<div class="heading-sec">\
		<div class="title-main">FILTERS</div>\
		<div class="clear-all filters-reset-anchor" >Clear All</div>\
	</div>\
  {{each(i, searchFacet) searchFacets}}\
	<div class="category-wise-container">\
		<div class="group-checkbox filters-content-top-down" data-facetType="${searchFacet.subtype}" data-facetName="${searchFacet.name}" data-fieldName="${searchFacet.fieldName}">\
			<div class="heading-title {{if searchFacet.showSearch == true}}d-none{{/if}}"">${searchFacet.name}<span class="float-right d-none  {{if searchFacet.maxCount && searchFacet.buckets.length > searchFacet.maxCount}}d-block{{/if}}"><img class="facet-search-icon display-none" facetFacetName="${searchFacet.name}" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFYSURBVHgBrVNLUsJAEO2eiLoTbhBuQE6g3gC3UJSZhViUi8gJ9AaWCyuFLhqLApbiCcQbcAM5QtiJMmk7VsoKDPFT8jZdk+735r3MDMA/gXmNkMgF2HJ3YTHRWke/Fri97wfAcJm2E6IrQ+MFz3VL6+nqvFoid4cEjL7h+Kjp10tNv1Yu8LwUMz87uPPSoUE110FIfd9BvBCCt85ySL0DB50H6Zez/S8HCdmw0Xl5W7oxljJ+g+1zK0JIQ1dKMR3KhWF+ZFAVS8CB16KUCH5EPHWQ9yyBAsBUiktExe/oCrBiGGeWQJrbyrcKRBUoiEeWQIJ35jYiBjfUr6wj33UHV1Kipq53l0Sziw71qrILie6I5YfFYKLEtnw7TgZZYspGh2e6PrEcJDjVjZFh5QHzTCEEcu4k5H1ZX5/4NU9OoV1AfMq6zH0LeUgvHIkTL+vkjyKf92Yz+ADa8Y5Ak9HPCwAAAABJRU5ErkJggg=="><span></div>\
      <div class="input-div {{if searchFacet.showSearch !== true}}d-none{{/if}}"><input type="text" class="searchFacetInput" id="${searchFacet.name}"> <span class="float-right d-none" id="${searchFacet.name}-close"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACGSURBVHgB3ZK9DYAgEIURjY2RWVzFEWgtYBvXcBTcwClsFIg5osmZgEjoeNVxx/v4ySOkLDFpVTcdQ2gOMyaswj2KF+bUnDb14oNAD2ZGa06+BBt7YTYM8fUeVSEInGa1Gd0173qf2/UXAEOgDpkdnGQq+wlec8onRs1JEAhJNEjyHaQCdAGUc1yB6RityQAAAABJRU5ErkJggg=="></span></div>\
      {{each(j, bucket) searchFacet.buckets.slice(0, (searchFacet.maxCount?searchFacet.maxCount:searchFacet.buckets.length))}}\
          {{if (searchFacet.subtype == "value" || searchFacet.subtype == "range") && searchFacet.multiselect }}\
          <div class="kr-sg-checkbox d-block">\
          <input id="checkbox-${i}${j}" class="checkbox-custom sdk-filter-checkbox-top-down c-1" type="checkbox" name="${bucket.key}" value="${bucket.key}" fieldName="${searchFacet.fieldName}" fieldType="${searchFacet.subtype}" data-from="${bucket.from}" data-to="${bucket.to}">\
					<label for="checkbox-${i}${j}" class="checkbox-custom-label" title="${bucket.key}">${bucket.key}</label>\
              <span class="count">(${bucket.doc_count})</span>\
            </div>\
            {{/if}}\
              {{if searchFacet.subtype == "value" && !searchFacet.multiselect}}\
              <div class="kr-sg-radiobutton d-block">\
                <input id="checkbox-${i}${j}" class="radio-custom sdk-filter-radio-top-down" type="radio" name="radio-top-facet-${i}"  value="${bucket.key}" fieldName="${searchFacet.fieldName}" fieldType="${searchFacet.subtype}" data-from="${bucket.from}" data-to="${bucket.to}">\
                  <label for="checkbox-${i}${j}" class="radio-custom-label" title="${bucket.key}">${bucket.key}</label>\
                  <span class="count">(${bucket.doc_count})</span>\
                </div>\
                {{/if}}\
                {{if searchFacet.subtype == "range" &&  !searchFacet.multiselect}}\
                <div class="kr-sg-radiobutton d-block">\
                  <input  id="checkbox-${i}${j}" class="radio-custom sdk-filter-radio-top-down" type="radio" name="radio-top-facet-${i}" value="${bucket.key}" fieldName="${searchFacet.fieldName}" fieldType="${searchFacet.subtype}" data-from="${bucket.from}" data-to="${bucket.to}">\
                    <label  id="checkbox-${i}${j}" class="radio-custom-label" title="${bucket.key}">${bucket.key}</label>\
                    <span class="count">(${bucket.doc_count})</span>\
                  </div>\
                  {{/if}}\
          {{/each}}\
          {{if searchFacet.maxCount && searchFacet.buckets.length > searchFacet.maxCount}}\
          <div class="more-data" name="${searchFacet.name}">+ ${searchFacet.buckets.length-searchFacet.maxCount} More</div> \
          {{/if}}\
          </div>\
        </div>\
        {{/each}}\
        {{/if}}\
				</div>\
       </script>';var topSearchFacetsTemplate='<script id="top-search_facets_tmpl" type="text/x-jqury-tmpl"> \
      {{if searchFacets.length}}\
      <div class="horizantal-filter-sec">\
      {{each(i, searchFacet) searchFacets}}\
      <div class="dropdown_custom_filter">\
      <div  class="openDropdownFacets dropbtn">${searchFacet.name}{{if searchFacet.selectedFieldsCount && searchFacet.selectedFieldsCount>0}} <span class="count">${searchFacet.selectedFieldsCount}</span> {{/if}} <img class="down-arrow" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACHSURBVHgBbY6xDYMwEEX/yQuc5QUOmfRZIRskEyQjZJyU6VJmBGoqREcHJVT2AsiAhQRGvO7+vdM/JVleMevBe9fgBBF7Z21+itmUIPzZ6N47VyeStU+APgj0WK8uV8lsK5K/99Lc5pbdMtNWIQJSBYi+MQjhhTDeuplETOQobhLOn4/wMZ8As5kn7D+3/a0AAAAASUVORK5CYII="><img class="up-arrow" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACQSURBVHgBhY7BDYJQDIb/ggM8wgI14llXYBJ1A48e3YAVvHpyBHUC4gCYTmDeAGrpAw48LnxJk+bv16aEEczskKRV6OXdHMazJJJocccfFIqXRd1lAxRJqi+RZt9nqwuINtBvKSKeTGKTbiY9TTrGrxRnkO6gvzJ1WV5D6WrSCRO8/zycyzO7XNnWeosZgtMCupEtrTPwmiYAAAAASUVORK5CYII="></div>\
      <div id="myDropdown" class="dropdown-content filters-content-top-down myDropdown-${i}" data-facetType="${searchFacet.subtype}" data-facetName="${searchFacet.name}" data-fieldName="${searchFacet.fieldName}">\
      {{each(j, bucket) searchFacet.buckets}}\
      <div class="option-text">\
      {{if (searchFacet.subtype == "value" || searchFacet.subtype == "range" ) && searchFacet.multiselect }}\
      <div class="kr-sg-checkbox d-block">\
      <input id="checkbox-${i}${j}" class="checkbox-custom sdk-filter-checkbox-top-down" type="checkbox" name="${bucket.key}" value="${bucket.key}" fieldName="${searchFacet.fieldName}" fieldType="${searchFacet.subtype}" data-from="${bucket.from}" data-to="${bucket.to}">\
      <label for="checkbox-${i}${j}" class="checkbox-custom-label" title="${bucket.key}">${bucket.key}</label>\
          <span class="count">(${bucket.doc_count})</span>\
        </div>\
        {{/if}}\
          {{if searchFacet.subtype == "value" && !searchFacet.multiselect}}\
          <div class="kr-sg-radiobutton d-block">\
            <input id="checkbox-${i}${j}" class="radio-custom sdk-filter-radio-top-down" type="radio" name="radio-top-facet-${i}"  value="${bucket.key}" fieldName="${searchFacet.fieldName}" fieldType="${searchFacet.subtype}">\
              <label for="checkbox-${i}${j}" class="radio-custom-label" title="${bucket.key}">${bucket.key}</label>\
              <span class="count">(${bucket.doc_count})</span>\
            </div>\
            {{/if}}\
            {{if searchFacet.subtype == "range" && !searchFacet.multiselect }}\
            <div class="kr-sg-radiobutton d-block">\
              <input  id="checkbox-${i}${j}" class="radio-custom sdk-filter-radio-top-down" type="radio" name="radio-top-facet-${i}" value="${bucket.key}" fieldName="${searchFacet.fieldName}" fieldType="${searchFacet.subtype}">\
                <label  id="checkbox-${i}${j}" class="radio-custom-label" title="${bucket.key}">${bucket.key}</label>\
                <span class="count">(${bucket.doc_count})</span>\
              </div>\
              {{/if}}\
      </div>\
      {{/each}}\
      <div class="action-bar">\
      {{if !searchFacet.multiselect}}<button class="btn clear-btn">Clear</button>{{/if}}\
      {{if searchFacet.multiselect}}<button class="btn apply-btn">Apply</button>{{/if}}\
    </div>\
      </div>\
      </div>\
      {{/each}}\
      {{if searchFacets.length>4}}\
      <div class="h-scroll-filter">\
      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAMCAYAAACulacQAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB9SURBVHgBpZDBDUBAEEX/EvcVDQzLXQk6EBUoRTtuzk5qUAFHJ7YAybISEmvFwT9MJnl/MjMfdCjOYJEDeBwMDQlRmtCVcp44D9q9r3ngT3JZ+gvq8mZwT5fNwMw9REkKpjooFM7zRJUDSgLreJ+K4opCMejn/oI9HSv40gaMjzPqJ5ysbwAAAABJRU5ErkJggg==">\
      </div>\
      {{/if}}\
      </div>\
      {{/if}}\
             </script>';switch(type){case"left":return leftSearchFacetsTemplate;case"top":return topSearchFacetsTemplate;case"right":return leftSearchFacetsTemplate;}};FindlySDK.prototype.getSearchFacetsTopDown=function(data,config){var _self=this;if($(".topdown-search-main-container").length){if(config.container==="filters-left-sec"){if(_self.vars.searchFacetFilters&&_self.vars.searchFacetFilters.length){_self.vars.searchFacetFilters.forEach(function(f){if(f["maxCount"]!==null){f["maxCount"]=5;}});if(_self.vars.filterConfiguration.isEnabled){$("#filters-left-sec").show();_self.facetsAlignTopdownClass(_self.vars.filterConfiguration.aligned);}$(".content-data-sec").removeClass("facets-disabled");}else{if(_self.vars.filterConfiguration.isEnabled){$("#filters-left-sec").hide();_self.facetsAlignTopdownClass("top");$(".content-data-sec").addClass("facets-disabled");}}/** auto_Select Facet Filter Array Codes */if(!_self.vars.isFilterModified){_self.autoSelectFacetFilter();}/** auto_Select Facet Filter Array Codes */var topDownDataHTML=$(_self.getSearchFacetsTopDownTemplate(_self.vars.filterConfiguration.aligned)).tmplProxy({searchFacets:_self.vars.searchFacetFilters,position:"left"});$("#"+config.container).empty().append(topDownDataHTML);setTimeout(function(){var facetsDataHTML=$("#filters-left-sec");// if($('.filters-sec').find('.group-checkbox').length){
//   _self.bindPerfectScroll($('.filters-sec'), '.group-checkbox');
// }
_self.bindPerfectScroll(facetsDataHTML,".filters-sec");},500);$("#live-search-result-box").hide();$("#frequently-searched-box").hide();$("#loaderDIV").hide();$("#filters-left-sec").off("click",".more-data").on("click",".more-data",function(event){var facetFacetName=$(this).attr("name");if(_self.vars.searchFacetFilters.length){_self.vars.searchFacetFilters.forEach(function(f){if(facetFacetName===f.name){f["maxCount"]=null;}});$("#filters-left-sec").show();_self.facetsAlignTopdownClass(_self.vars.filterConfiguration.aligned);var topDownDataHTML=$(_self.getSearchFacetsTopDownTemplate(_self.vars.filterConfiguration.aligned)).tmplProxy({searchFacets:_self.vars.searchFacetFilters,position:"left"});$("#"+config.container).empty().append(topDownDataHTML);setTimeout(function(){var facetsDataHTML=$("#filters-left-sec");// _self.bindPerfectScroll($('.filters-sec'), '.group-checkbox');
_self.bindPerfectScroll(facetsDataHTML,".filters-sec");},500);_self.markSelectedFilters();_self.sdkFiltersCheckboxClick();}else{$("#filters-left-sec").hide();_self.facetsAlignTopdownClass("top");}});$("#filters-left-sec").off("click",".facet-search-icon").on("click",".facet-search-icon",function(event){var facetFacetName=$(this).attr("facetFacetName");if(_self.vars.searchFacetFilters.length){_self.vars.searchFacetFilters.forEach(function(f){if(facetFacetName===f.name){if(!f["showSearch"]){f["showSearch"]=true;}}if(!f["maxCount"]){f["maxCount"]=5;}});$("#filters-left-sec").show();_self.facetsAlignTopdownClass(_self.vars.filterConfiguration.aligned);var topDownDataHTML=$(_self.getSearchFacetsTopDownTemplate(_self.vars.filterConfiguration.aligned)).tmplProxy({searchFacets:_self.vars.searchFacetFilters,position:"left"});$("#"+config.container).empty().append(topDownDataHTML);setTimeout(function(){var facetsDataHTML=$("#filters-left-sec");// _self.bindPerfectScroll($('.filters-sec'), '.group-checkbox');
_self.bindPerfectScroll(facetsDataHTML,".filters-sec");},500);_self.markSelectedFilters();_self.sdkFiltersCheckboxClick();$("#filters-left-sec").off("keyup",".searchFacetInput").on("keyup",".searchFacetInput",function(event){var id=$(this).attr("id");if($("#"+id).val()){$("#"+id+"-close").show();}else{$("#"+id+"-close").hide();}});}else{$("#filters-left-sec").hide();_self.facetsAlignTopdownClass("top");}});}else if(config.container==="filters-center-sec"){_self.vars.searchFacetFilters.forEach(function(s){s["selectedFieldsCount"]=0;_self.vars.selectedFacetsList.forEach(function(d){if(s.fieldName===d.fieldName){s["selectedFieldsCount"]=s["selectedFieldsCount"]+1;}});});if(_self.vars.filterConfiguration.isEnabled){_self.facetsAlignTopdownClass(_self.vars.filterConfiguration.aligned);var topDownDataHTML=$(_self.getSearchFacetsTopDownTemplate(_self.vars.filterConfiguration.aligned)).tmplProxy({searchFacets:_self.vars.searchFacetFilters,position:"left"});$("#"+config.container).empty().append(topDownDataHTML);if(_self.vars.searchFacetFilters.length){setTimeout(function(){for(var k=0;k<_self.vars.searchFacetFilters.length;k++){var dropdownContainer=$(".dropdown_custom_filter");_self.bindPerfectScroll(dropdownContainer,".myDropdown-"+k);}},500);}$(".horizantal-filter-sec").off("click",".openDropdownFacets").on("click",".openDropdownFacets",function(event){if($(event.currentTarget).siblings("#myDropdown").is(":visible")){$(event.currentTarget).siblings("#myDropdown").hide();$(event.currentTarget).find(".down-arrow").show();$(event.currentTarget).find(".up-arrow").hide();_self.vars.filterObject=_toConsumableArray(_self.vars.tempFilterObject);_self.vars.selectedFiltersArr=_toConsumableArray(_self.vars.tempSelectedFiltersArr);_self.vars.selectedFacetsList=_toConsumableArray(_self.vars.tempSelectedFacetsList);$(".sdk-filter-checkbox-top-down").prop("checked",false);$(".sdk-filter-radio-top-down").prop("checked",false);_self.markSelectedFilters();}else{$(event.currentTarget).find(".down-arrow").hide();$(event.currentTarget).find(".up-arrow").show();_self.vars.filterObject=_toConsumableArray(_self.vars.tempFilterObject);_self.vars.selectedFiltersArr=_toConsumableArray(_self.vars.tempSelectedFiltersArr);_self.vars.selectedFacetsList=_toConsumableArray(_self.vars.tempSelectedFacetsList);$(".sdk-filter-checkbox-top-down").prop("checked",false);$(".sdk-filter-radio-top-down").prop("checked",false);_self.markSelectedFilters();$(".dropdown-content").hide();$(event.currentTarget).siblings("#myDropdown").show();$(event.currentTarget).siblings("#myDropdown").off("click",".clear-btn").on("click",".clear-btn",function(event){var _dropdownContainer=$(event.currentTarget).closest(".filters-content-top-down");var _fieldName=_dropdownContainer.attr("data-fieldName");_self.vars.selectedFacetsList.forEach(function(d){if(d.fieldName===_fieldName){var index=_self.vars.selectedFiltersArr.indexOf(d.id);_self.vars.selectedFiltersArr.splice(index,1);_self.vars.selectedFacetsList.splice(index,1);}});_self.searchFacetsList(_self.vars.selectedFacetsList);_self.markSelectedFilters();_self.vars.countOfSelectedFilters-=1;_self.filterResultsTopDown(event,false,true);});}});}else{$("#filters-center-sec").empty();}}}};FindlySDK.prototype.getSelectedFactedListTopDownTemplate=function(){var selectedFacetTemplate='<script id="selected_facet_tmpl" type="text/x-jqury-tmpl"> \
      {{if selectedFacets.length}} \
        <div class="{{if isTopFacets}}top-down-top-facets-list {{/if}} {{if !isTopFacets}}facets-padding{{/if}}">\
        {{each(index, facet) selectedFacets}} \
        <div class="filter-tag-content filters-content-top-down" data-facetType="${facet.fieldType}" data-facetName="${facet.name}" data-fieldName="${facet.fieldName}">\
        <span class="filter-tag-name">${facet.name}</span>\
          <span class="close-filter-tag" id="${facet.id}" >\
              <img name="${facet.name}" value="${facet.name}" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACdSURBVHgBbZHRDcIwDERju+zTSizSCWgl8sFM+Ug26AwsUDIGO9A05AChprV/osjPd2eZLtfbg2gZg3PRKDUMts3SeAaUV5kGa1sVYpkoLaPEeX525+4OGC/+FbSmPgQX6T9dFAETp968jNlC6FNl9YNNLo0NhOIqVFEC9Bk/1Xn5ELwowX6/oGjBtQVpD2mZ4cBZ2GsQCkf4xmj8GzsLeh0gnVcbAAAAAElFTkSuQmCC">\
                </span>\
                </div>\
        {{/each}} \
        </div>\
        {{if isTopFacets}}\
        <div class="filters-reset" style="padding: 4px 10px;">\
              <div class="filters-reset-anchor">Clear all</div>\
        </div>\
        {{/if}}\
      {{/if}} \
      </script>';return selectedFacetTemplate;};FindlySDK.prototype.searchFacetsList=function(selectedFacetsList){var _self=this;var dataHTML=$(_self.getSelectedFactedListTopDownTemplate()).tmplProxy({selectedFacets:selectedFacetsList,isTopFacets:(_self.vars.filterConfiguration||{}).aligned==="top"?true:false});$("#show-filters-added-data").empty().append(dataHTML);if((selectedFacetsList||[]).length){$("#show-filters-added-data").show();$("#show-filters-added-data").removeClass("display-none");$(".content-data-sec").addClass("filter-added");}else{_self.vars.selectedFiltersArr=[];_self.vars.filterObject=[];$("#show-filters-added-data").hide();$("#show-filters-added-data").addClass("display-none");$(".content-data-sec").removeClass("filter-added");}if($("#show-filters-added-data").height()>55){$(".content-data-sec").addClass("facets-height-isMore");}else{$(".content-data-sec").removeClass("facets-height-isMore");}};FindlySDK.prototype.sdkFiltersCheckboxClick=function(){var _self=this;$(".sdk-filter-checkbox-top-down").off("change").on("change",function(event){_self.vars.isTopFacets=_self.vars.filterConfiguration.aligned==="top"?true:false;if($(".topdown-search-main-container").length&&!_self.vars.isTopFacets){// $('#loaderDIV').show();
}if($(this).is(":checked")){_self.vars.selectedFiltersArr.push($(this).attr("id"));/* top -down -search -experience -start */_self.vars.selectedFacetsList.push({id:$(this).attr("id"),name:$(this).attr("name"),fieldName:$(this).attr("fieldName"),fieldType:$(this).attr("fieldType")});/* top -down -search -experience -end*/_self.vars.countOfSelectedFilters+=1;_self.filterResultsTopDown(event,true,false,_self.vars.isTopFacets);}else{var unselectedFilterID=$(this).attr("id");_self.vars.selectedFiltersArr.slice(0).forEach(function(filter){if(filter==unselectedFilterID){var index=_self.vars.selectedFiltersArr.indexOf(filter);_self.vars.selectedFiltersArr.splice(index,1);/* top -down -search -experience -start */_self.vars.selectedFacetsList.splice(index,1);/* top -down -search -experience -end */}});_self.vars.countOfSelectedFilters-=1;_self.filterResultsTopDown(event,false,false,_self.vars.isTopFacets);}//top-down-search-facets-list-start//
if($(".topdown-search-main-container").length&&!_self.vars.isTopFacets){_self.getTopDownFacetsAddedList();}//top-down-search-facets-list-end//
});$(".sdk-filter-radio-top-down").off("change").on("change",function(event){var _this10=this;event.stopImmediatePropagation();$("#loaderDIV").show();// if(_self.vars['selectedFiltersRadio']){
//   _self.vars['selectedFiltersRadio'].push($(this).attr("id"));
// }
if(_self.vars.selectedFacetsList.length){var facetIndex=_self.vars.selectedFacetsList.findIndex(function(x){return x.name===$(_this10).attr("name");});if(facetIndex>-1){var _self$vars$selectedFa;_self.vars.selectedFiltersArr.splice(facetIndex,1,$(this).attr("id"));_self.vars.selectedFacetsList.splice(facetIndex,1,(_self$vars$selectedFa={id:$(this).attr("id"),name:$(this).attr("name")},_defineProperty(_self$vars$selectedFa,"name",$(this).attr("value")),_defineProperty(_self$vars$selectedFa,"fieldName",$(this).attr("fieldName")),_defineProperty(_self$vars$selectedFa,"fieldType",$(this).attr("fieldType")),_self$vars$selectedFa));_self.filterResultsTopDown(event,false);}else{var _self$vars$selectedFa2;_self.vars.selectedFiltersArr.push($(this).attr("id"));_self.vars.selectedFacetsList.push((_self$vars$selectedFa2={id:$(this).attr("id"),name:$(this).attr("value")},_defineProperty(_self$vars$selectedFa2,"name",$(this).attr("name")),_defineProperty(_self$vars$selectedFa2,"fieldName",$(this).attr("fieldName")),_defineProperty(_self$vars$selectedFa2,"fieldType",$(this).attr("fieldType")),_self$vars$selectedFa2));_self.vars.countOfSelectedFilters+=1;_self.filterResultsTopDown(event,true);}}else{var _self$vars$selectedFa3;_self.vars.selectedFiltersArr.push($(this).attr("id"));_self.vars.selectedFacetsList.push((_self$vars$selectedFa3={id:$(this).attr("id"),name:$(this).attr("value")},_defineProperty(_self$vars$selectedFa3,"name",$(this).attr("name")),_defineProperty(_self$vars$selectedFa3,"fieldName",$(this).attr("fieldName")),_defineProperty(_self$vars$selectedFa3,"fieldType",$(this).attr("fieldType")),_self$vars$selectedFa3));_self.vars.countOfSelectedFilters+=1;_self.filterResultsTopDown(event,true);}if($(".topdown-search-main-container").length){_self.getTopDownFacetsAddedList(true);}});};FindlySDK.prototype.facetsAlignTopdownClass=function(type){if(type==="top"){// center align facets top down//
$(".all-result-container").addClass("center-align-filter");$(".all-result-container").removeClass("left-align-filter");$(".all-result-container").removeClass("right-align-filter");//center align facets top down//
}else{// left align facets top down//
$(".all-result-container").addClass("left-align-filter");$(".all-result-container").removeClass("center-align-filter");$(".all-result-container").removeClass("right-align-filter");//left align facets top down//
}};// top-search-template --end///
// Configuraition of Interface //
FindlySDK.prototype.configureSearchInterface=function(botOptions){var _self=this;var baseAPIServer=botOptions.koreAPIUrl?botOptions.koreAPIUrl:"https://qa.searchassist.ai/searchassistapi/";var searchExperienceAPIUrl=baseAPIServer+"searchsdk/stream/"+botOptions.botInfo.taskBotId+"/"+botOptions.searchIndexID+"/searchInterface";var type="GET";var bearer="bearer "+this.bot.options.accessToken;return $.ajax({url:searchExperienceAPIUrl,type:type,headers:{"auth":botOptions.assertion,"Authorization":bearer},data:{},success:function success(data){_self.vars.indexPipelineId=data.indexPipelineId;if(_self.API){_self.API.indexpipelineId=data.indexPipelineId;}},error:function error(err){}});};// End Configuration of Interface //
// Top -down Template //
FindlySDK.prototype.getTopDownTemplate=function(){var topDownTemplate="<div>\n  <div class=\"top-down-wrapper searchAssist-kore-chat-window\">\n  <div id=\"conversation-container\" class=\"conversation-container\">                    <div class=\"conversation-title\">                        <div class=\"custom-header-container-left searchAssist\" style=\"padding-left: 20px;\">                            <div class=\"searchAssistHeader\"> Search Assist </div>                        </div>                        <div class=\"close-conv\">                            <img class=\"close-conv-icon\"                                src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACdSURBVHgBbZHRDcIwDERju+zTSizSCWgl8sFM+Ug26AwsUDIGO9A05AChprV/osjPd2eZLtfbg2gZg3PRKDUMts3SeAaUV5kGa1sVYpkoLaPEeX525+4OGC/+FbSmPgQX6T9dFAETp968jNlC6FNl9YNNLo0NhOIqVFEC9Bk/1Xn5ELwowX6/oGjBtQVpD2mZ4cBZ2GsQCkf4xmj8GzsLeh0gnVcbAAAAAElFTkSuQmCC\" />                        </div>                    </div>                    <div id=\"conversations\" class=\"conversations\">                        <div id=\"conversation-body\"></div>                    </div>                    <div id=\"conversation-box-container\" class=\"conv\"></div>                </div>      <div class=\"topdown-search-main-container\">\n          <div id=\"heading\" class=\"search-input-box\">\n              <div id=\"search-box-container\" class=\"search-box-container-data\">\n                  <div class=\"cancel-search\">\n                      <img\n                          src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADeSURBVHgBnZI/C8IwEMUviRUHkdKp0KWgBccu/QAOgrj1k2arbtLZJXtFOpVOpXtoYyKk+CeJ4BtCEt7vuHscwJ8i6timh3gZbvy+vfUuc5Ie01W4XigfVh+Dh/25hy9Jtk9dECKC6vcTrK4FEwA5Ao+aYA2JAeU1O9dTq0pdU7VBlJQICA2iuOyae/sJVaxg2o++qmfSCEAF8By4BybICL7CMAowQUozEwhcDSGnxhLH3GjB4AjCFRixQao9W2BvoC09GzxtjrydbEGY4GlGG6SllgTzccc5ca7lTz0A2yqRYknu6twAAAAASUVORK5CYII=\" />\n                  </div>\n              </div>\n              <div id=\"greeting-msg-top-down\"></div>\n              <div id=\"frequently-searched-box\" class=\"frequently_searched_box\"> </div>\n              <div id=\"live-search-result-box\" class=\"live_search_result_box\">\n                  <div id=\"auto-query-box\" class=\"auto_query_box\">\n                  </div>\n                  <div class=\"data-container\">\n                      <div class=\"live-search-data-container\">\n                      </div>\n                  </div>\n              </div>\n          </div>\n          <div class=\"skelton-load-img\" style=\"display:none\">          <img alt=\"\" />          </div>          <div id=\"top-down-full-results-container\"></div>\n      </div>\n  <div>\n<div>";return topDownTemplate;};FindlySDK.prototype.initializeTopDown=function(findlyConfig,search_container,searchExperienceConfig){var _self=this;if(search_container&&search_container.length){_self.isDev=true;}else{_self.isDev=false;}var devMode=_self.isDev?true:false;var searchConfiguration=_self.mapSearchConfiguration(searchExperienceConfig);var dataHTML=$(FindlySDK.prototype.getTopDownTemplate()).tmplProxy({devMode:devMode,searchConfig:searchConfiguration});var container=search_container?$("."+search_container):$("body");// var container = $('body');
$(container).append(dataHTML);var findlyConfig=findlyConfig?findlyConfig:_self.config;findlyConfig.baseAPIServer="http://localhost:4200";// var findlySdk = new FindlySDK(findlyConfig);
$("#conversation-container").hide();$(".show-result").hide();findlyConfig.autoConnect=true;_self.initialize(findlyConfig,_self.isDev);_self.getRecentSearches(_self.API.recentSearchUrl,"GET");_self.initializeTopSearchTemplate();if(!$("body").hasClass("searchAssist-defaultTheme-kore")){$("body").addClass("searchAssist-defaultTheme-kore");}if($(".search-background-div").length){$(".search-background-div").remove();}_self.addSearchText({container:"search-box-container",classes:searchConfiguration.searchButtonEnabled&&searchConfiguration.buttonPlacementPosition=="inside"?' search-btn-inside search-input':'search-input',placeholder:"Search here",showGreeting:false,microphone:true,defaultMicrophone:false,hideSearchIcon:false,autoSuggest:true,showButton:false,searchConfig:searchConfiguration,focusHandler:focusHandler});_self.addSearchResult({pageContainer:"pages-container",pageTemplateId:"page-template",faqContainer:"mostly-asked-container",faqTemplateId:"faq-template",actionContainer:"actions-container",actionTemplateId:"actions-template",structuredDataContainer:".structured-data-container",actionHandler:actionHandler,searchHandler:searchHandler});_self.addSourceType({container:"top-down-tab-sec",templateId:"top-down-tabs-template",selectedClass:"active-tab",unSelectedClass:"un-selected-type"});_self.addConversationBox({container:"conversation-box-container",classes:"conv-input"});_self.addConversationContainer({container:"conversation-body"});_self.addFrequentlyUsedControl({container:"frequently-searched-box",templateId:"frequently-searched-template",searchConfig:searchConfiguration});_self.addGreetingMsgControl({container:"greeting-msg-top-down",searchConfig:searchConfiguration});_self.addCustomTemplateConfig();var searchText="";function searchHandler(data){var size=(data.files||[]).length+(data.web||[]).length+(data.faqs||[]).length+(data.tasks||[]).length;if(data.originalQuery){searchText=data.originalQuery;}var text="Showing "+size+' results for "'+searchText+'"';$("#show-result").empty().append(text).show();}function actionHandler(e){// _self.addConversationContainer({
//     container: "conversation-body"
// });
$("#conversation-container").show();if($(".search-container").hasClass("no-history")){$(".search-container").removeClass("no-history");}$("#sa-conversation-box").prop("disabled",false);$("#sa-conversation-box").attr("placeholder","Type message...");$("#action-title").empty();_self.setActionTitle(e.target.getAttribute("title"),"action-title");}$(".close-conv-icon").off("click").on("click",function(e){closeConversation();_self.unlockBot();});function closeConversation(){$("#conversation-container").hide();$("#action-title").empty();$("#searchChatContainer").empty();if($("#conversation-container").hasClass("live-search-action-chat-container")){$('#search').focus();$("#conversation-container").removeClass("live-search-action-chat-container");}}function focusHandler(){if($("body").hasClass("top-down")){closeConversation();}}if(search_container&&search_container.length){_self.isDev=true;}else{_self.isDev=false;}_self.pubSub.subscribe("sa-show-live-search-suggestion",function(msg,data){if(_self.vars.enterIsClicked){$("#live-search-result-box").hide();return;}if($("body").hasClass("top-down")){if($(".live-search-data-container").children().length||$("#auto-query-box").children().length){$("#live-search-result-box").show();}else{$("#live-search-result-box").hide();}}});_self.pubSub.unsubscribe("sa-show-all-results-top-down");_self.pubSub.subscribe("sa-show-all-results-top-down",function(msg,data){_self.vars.showingMatchedResults=true;_self.searchFacetsList([]);_self.invokeSearch();setTimeout(function(){$(".all-result-container").show();//top-down-searc-facets active -start//
_self.pubSub.publish("facet-selected",{selectedFacet:"all results"});//top-down-search-facets active -end//
$("#live-search-result-box").hide();$("#frequently-searched-box").hide();$("#loaderDIV").hide();},600);});$("#search-box-container").off("focus",".search-top-down").on("focus",".search-top-down",function(e){if(!$(".search-top-down").val()){_self.bindFrequentData();}if($("#greeting-msg-top-down").length){$("#greeting-msg-top-down").hide();}});if(_self.isDev){$(".show_insights_top_down").off("click",".query_analytics_top_down").on("click",".query_analytics_top_down",function(event){event.preventDefault();event.stopImmediatePropagation();if(_self.vars.searchObject&&_self.vars.searchObject.searchText){var responseObject={type:"show",data:true,query:_self.vars.searchObject.searchText};_self.parentEvent(responseObject);setTimeout(function(){$(".query_analytics_content").css("top",event.pageY-50);$(".query_analytics_content").css("left",event.pageX-200-event.offsetX);$(document).on("click",function(event){if(!$(event.target).closest(".query_analytics_content").length){$(".query_analytics_content").hide();}});},100);}});}var resultsContainerHtml=$(".all-product-details");_self.bindPerfectScroll(resultsContainerHtml,"#show-filters-added-data",null,"y","facetsListContainer");var conversationContainerHtml=$("#conversation-container");_self.bindPerfectScroll(conversationContainerHtml,"#conversations",null,"y","conversationContainer");if(!$("body").hasClass("searchAssist-defaultTheme-kore")){$("body").addClass("searchAssist-defaultTheme-kore");}if(_self.isDev){_self.initKorePicker(findlyConfig);}};FindlySDK.prototype.getTopDownActionTemplate=function(){var _self=this;var type="grid";if(searchConfigurationCopy&&searchConfigurationCopy.botConfig){type=searchConfigurationCopy.botConfig.botActionTemplate;}var topDownActionTemplate="";if(type=="grid"){topDownActionTemplate='<script id="actions-template" type="text/x-jqury-tmpl">\
                                    {{if tasks && tasks.length > 0 }}\
                                      {{if devMode == true && viewType == "Customize" && selectedFacet == appearanceType}}\
                                        <div class="bot-actions-customize-info ">\
                                          <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFnSURBVHgBpVNNSsNQEH4zabXLuFXEHsGCqLjQ9gTqCWJP0AsUk0j26tJdegLrCczKnyL0CDbgAbKzhvjGmZBIfIQScODxHt/8fzNPqRXSOfS6clbZgAm09sZ9tCxHkToDULZgRCphyykC+MsXb1G1x78ZfRfRumfDGBF6X68+yJG3YET0uLZ/6dZWIM5E+gIABmaWaksShE+Yzq783wClwnRmvK91ZqezYFoNojXNtf4+z96CKG9BE3F2mpiZAWgXsWVXMbHhlm5znoSzHGXCELFnlvz57N+oegm59DnfQyjKfxeyTCsmzJOb+/VM3fqBS2C1u6j+KSg9yZw7R8FOU6diuZLl0zguKqAHnaVD1VjAIaXyyeQBmMCQRzgy15bxhRwzu+yLbGUeqqLwmEyn4SJNSmKtUpl9RFF7e7DBymtr68Tmd8xYUjri5vGIuQq53bvqVKAui9aaDeC05jPJskWqqTT5zj8FOrqqP5/xLgAAAABJRU5ErkJggg==" alt="actions-info">\
                                          <span class="info-text">Bot Actions cannot be customized</span>\
                                        </div>\
                                      {{/if}}\
                                      {{if selectedFacet !== appearanceType && selectedFacet == "all results"}}\
                                        <div class="structured-data-header total-structured-data-wrap" appearanceType="task">\
                                          ACTIONS\
                                          <div class="search-heads show-all sdk-show-classification display-none">\
                                            Show all Actions\
                                          </div>\
                                        </div>\
                                      {{/if}}\
                                      {{if selectedFacet == appearanceType || selectedFacet == "all results"}}\
                                        <div class="action-results-container btn_block_actions main-content-title-grid-data new-grid-search-data">\
                                          {{each(key, task) tasks}}\
                                            <div class="title-box-data">\
                                                <div id="${key}" class="search-task search-grid-item text-truncate one-line-height" title="${task.name}" contentId="${task.taskId}" contentType="${task.contentType}" childBotId="${task.childBotId}" childBotName="${task.childBotName}" payload="${task.payload}" seqLogId="${task.seqLogId}">\
                                                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJ1BMVEUAAAAAVaoEbq4DbK8GbK4Gbq8Gba0Fba8Fba4Fbq4Eba4Fba7////SVqJwAAAAC3RSTlMAA0hJVYKDqKmq4875bAAAAAABYktHRAyBs1FjAAAAP0lEQVQI12NgwACMJi5A4CzAwLobDBIYOCaAxDknMLCvnAkEsyYwcECkkBicMDV4GGwQxQEMjCogK5wEMC0HALyTIMofpWLWAAAAAElFTkSuQmCC" class="credit-card display-none">\
                                                <div class="name-title">${task.titleText}</div>\
                                                {{if task.childBotName !=="" && task.childBotName !== undefined}}\
                                                  <div class="child-bot">${task.childBotName}</div>\
                                                {{/if}}\
                                                </div>\
                                            </div>\
                                          {{/each}}\
                                        </div>\
                                      {{/if}}\
                                    {{/if}}\
                                     {{if !tasks || tasks.length === 0 }}\
                                      {{if selectedFacet != "all results"}}\
                                        {{if selectedFacet == appearanceType}}\
                                          {{if isFullResults == true}}\
                                            <div class="empty-full-results-container">\
                                              <div class="img-block"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAABjCAYAAAB320ViAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABUaSURBVHgB7V1rcNzGff8vgHtR5PH4EHWiXpSi2HRtyfQr1tidiHZtS649tjud1JpJW8kznfpDGsuepo7aNInSTjtu4o4du52x2w+W2ya1+8VJJoqk2rVOTjqhTFllWssmVT1OIikdJZG8Oz7uwAN2swsc7gAcgAN45N3R1G9mCRywu1jsb/+P/S8IIFhEkENvdIHf3wuAbgUCXYCgRz1BuugfuoPYjyQgLkl/xukPusXH6LEB9OAfxOzqPfjdK1GfzxeVASJE4COIQAQBiahVQ8ScHyFWL8kSxGXZFjBOcAKfkDLZ5CPPdySgjoFggUHe/dde4PjH6d4eYJ1Fe4f1WplSNk1BMUDkzfjVzw1+MnZThEMoymEcxQgFYSGBUBwTkqB1Dz78XEsc6ggLQhB5540IhP17KRHP0iojpR1ekBZ1ayDNjhxjmWSmbWBo7KZjkzORJCwiOCphmBFGybqSSg4+tX9jFmqIighSiQnuBcDPQolqMXW80tcmokq25ZHMtFCibl50ohgYWTLPDSJJHqiVZM2bIPLeD/ZS9bMfCHImRrmKGzVXpg4TqkkUKK0hCRmTvkeeaxmAKsIzQYrh9wXeoHu9+SNQoSC6uarFNQhIOJAcmVwfG0x0/wqqBOZwyDKOVYsoTz2rOAAIvaPYGU0zOZeYz2XK1Fdq2xLpztjA8O3HoIpQiMqKby22F+i651SVhl6mbjBYOwCWpfLqrXhEwj4wEkdA4HLOdbho5lQ2PPjRxbt+nM2FqmrUCYcGREmO/c5zLYuial0RRP7r379NidmvlihnT4odigkH02ITzEl+yORCkMN+OgXhLFqBIMBnKVEShPyz0OifAoGnpCHOdC1nskQpkBgYuevtatklDYup9soSVCSnnDtcRCbXABMzbQop80VAECESmoSmYBrs3fbStohSKPHLc/e+WW1JYqC6pa9hciJ23wK65o4EGSTHhapRiWlVtt5bYi2ZTJLCgTS0rhgvX0e+jaIUTBwdeuB1qAGYNGVkfGChVJ5tj5P3fvgEm+mACzC7MpaOlkqMZ/faviwjalVTAkK+jGM+FQTGZzr6+uN3H4FagM6fOJ770Y6vhgehQlgSlI+hHVXiZ6VnDUWnxDBcnepQ7E010Now7lKaAEZS6w9/PLL1ONQKHBd7+KtNMagA1r0a8LF5ThediEJpAnXU0v2J2TYYm4pS3cvljy9+msi0wWhqLR0QCKzbV0ydzSO9LSuSEagVMO499OpUL1SAEoLI0R/soTfXq5wxJGLYZx3FUpE0p0TK/HaTr7ifkRpgNL2ODgwEpe3U2kpozFYObll38nGoJSokyUAQOUpVG0e+rb/JYioeY5LDUrHTSJkEZX67yWc8J8oBKkkaSVZtZQlDQ3C6a9Oq091QS1RAklGCBGE3vamuwo0irHZI4TdhMbA8OVDzJMpBuDbTYUGQcVBtip7dAbUGJelnr6S2gUcUCFKkB1GXWj9aNanJj1qJCMr8Jl/CIoGLff1vcChvV78xTzoTVgaNtQSqA0wQxEj32lO3Qo1Bm7Lz0EuTXV7KFCUoAE8U1Ri2HJGjE+tVb82VDbHbB1NngkM+q/pL80xMtyuDp7TdUNiubhv2PHoXBQjteuelSdeOC6fb22tHDEvpbDPkiM9BndQuMTs0llpdYiv1KRCcja7pONcFtQZdDQ7x3J6j+8+7WhVWCCL9/9xLR2aXvZHHMDnVDuXD18Tjcbs8xMU5Y57MXEidKGt200LVdbZdvhHqAOy5idmW1l43eVUJQtzu4mjTS5G6n85EaKBTAO/eWrnjdnnAxbnSPBNsEBkkBxu2Lc1XeqBOQDt+25FX090u8gEo8x69x4byN8U6gW5TNL6mghST1jFW+2qdxasUzpnqAF05Q/368qZrIF09SFc3TRmxQXW7lXvBRelhd0m3HC8F10TrQM3lgWX8RDlVx5EP/6mHNr6rMNKQcSvmAkoqMc4aSvZNJBX2tXNQWo+yj8HgDBTK68oWQIzHdPUlp1tLbRAqStLK1rENUC+g9qicquPAJ/eYdbV+PzPXAOXVk506Wshy7upV24st74Vtw43jXVBHYKrOyfWmhgV6FIlhYANSG70sQkxjbjPZJqO6UoDA2fDbnS9XrnKoao6jcUoZrJyLYGAmCvUGnu+lfw9YneKAJ7cWRlwhelDcL6o3/SjGZUYythn9GOYvYe6lUG0zhlJJovE5QQoGA9ML++BjpSCky85h4OgNRIo3IhtuRswF80vU2kjEYC0BRLclNsfMx835reoCh/rsz5USZEzNjeO1i3DbgBCy0+o4pzgIJaNfTUpIv1iFab9cx+u32KZcORKxxW/zfml9kuyzvB9tEArBbH1JEKhzIytbJCgSVMwGoHPLCmsu7i5hKGt93u1xfV2kTJnSASLjvKttmR+gqSHdDPUIC1vElerq4m+ZaOrNTQIPeedbF3ZX3lJydKk6i7/eQW2RWYoE40gzQSPNujYtE3hoga6Mk8QRizz6Y3b5teoJON4XuNUK1QfiOOYsxLXf1B/FSSvpYYnn5sDaPhU9Ju/eHOi8OWyTz+4YsWkPgPXcxzpNzTamoE5BnYUefXSBCrtGkFxqTH0iqGpFS0oVYFQ3VltzfmyRz8nY66GvC5vq0qvD4rV87MkfJ5LqGSy60BwpuNyCIkGGPimqIZ8/Y1Jx5g5xOq6pI6vyTnXYwc01VQQCM+qAs1Gj01MtVX3y1Cs4nmdBXeUpVY5G7H6lSo+WSEGCOD4HPoE9JEnmkcwjvXpJUCRIhqJmkA2aIZVcXdcE0clnVFNz1AZJA8XOlPOp+DvUwNQ1WTKJ43JUgqbAeE/Fe5udCceh3kHVXLY5ooSk2CLPgKqXi6qtCAJ+P7vZdhe1WquT+efzmldFKJQC4/0YkcmE6/qfhjVo3hxHKWIEJY1GVS54ROHIGCgjsMSz0qkvvVcHmiHW5QUMth4amI6D3Tnz9fP1mq7X2HStmE/vVOTvbXyi8wIsARCEFAni0Mb91Elgas6oCtQkUZUhUjWXhFIvTUeooSN0HWs4ZrZJps4t1GlXzsJLNBHJbE9T+HKx/foBly8zPrFuSUgQs0Nsk19RlX/MyFBvSkcUUm+0tS0OldkGKxe7XF7vKRRKmhwDliS1Tro/m2mOpybW1LeDoIHaIfY+CJUgbu6Aqua0kacjit5wqGGC3vwklHaejVTYdjjY5NeXA3CUGsvrY8U5aGs7B5rkGzRB/r7GLn+uav/LuiDw+VSC0MaX6ahiUqRXb8bUqty8XWfZ/bbLY9XZbgi2JyvScpGquNl8e4mu7eq+lPMnL5y/q+J/B6kmKDmRYtgQkQOlc4diCjWMQ6T1otEAm4212aibDHSp06DrZKdQj20etS5GTGvbWVWdFdSaTsXR7fRMazybidT0pRReQfQEUSmK0ZuNFdWDyWFATIrO0IlrBsBswM1eGFgYcTDld3I0zJJmm0eta+36EwU1ZlZrWvr01I5jsMSAeD5iCrxL3ymSY9LjNHE0eLpm3YfK1t7AO6kuKzVnPuZkc0pVX/vKQRCEGTBOso3tTly+JZaaWL80nAMd2AuiDAShja/FAOe+b0WOZnwF3wysWauRZNXJxOG4sXOtjznZHGOdrW2nqe05X9JGI1Gz4EOf1t0KqluUTNPJ+T2RObHxgj8wG3YqKGabYHTkC9RdF3RVEV2VpMxlnc6XB1O3it0pB5kSiK/B1NTnBz/5+GtHJpM3LylJKllbRBsPJAc+fPSIOhK10Vi6HwgmYf2GD6hNYp6TlXoiUE49Oe/bl21feYqSM6Rrl03CVxRyGJqa/r/7jju/trslcqruHhhxAm918KGtr25raRsONDUnVjt1JsfPQWPjZcixl1TkVkD5zrVKYLNfmpi3trqzn0YLLrmol65lyXHQSyptb7Bz7fs9BKPxycmt12AJwJKgL/Xu2zF8/o74+o3H1wWC02EnI8+WJJrCo4ptmsuG8yqPLHiKtJyF6OqPaPB2GpzsUoEcKU53pZJ7QygntLWfuKWRBrUTl++r+7icJUFP3vf1Bwm9ldHhnjPrNvZ3+XyzK5xVFKYh/kkqTZcUwqRcAyXKl6/NTlLMMOdTt03hi9C55kMaBB2hLZKgvGeXo+SM0J8iOKGx8XxXS+snwUujD7kwZLWDJUG7Hvj6HRijFVIuJF9LfD6+dkP/Zp7PBgpzGoLBuE8TIYpnFwpdpaP9DAj+GboW6FPIUmHqfFae6DsWCudDK65BOHyBqrM+ajuGlYCtYd5ESiW5MDWQR8uSo6GhYWTtuvU/6U5NbjmbzXbU3SSWvbXEcrHlpy+m/3R2Su7UftM4XOC3Hv3Ol2hMrqOYS++xGaoFvZQwlSdmI3QdZiXdNiuSpSa/ko2pRsE/qzyg4g+kVSlU3n7lDbLkF+W5SdHvvxr2WlbKNSU/OvHim/Xm4bGXCFoSdOiV9J65GbhBzMoB/fF773+xt3Pd/9wOZV1kJ1fbjYutke/mIX2AOXFF+ufv/vl/MMm5Z/tfPhZquNIBHoFxIHvp0o7Yx//3fO3eTGIGQnFLFfflh57vEvxoJSIcHZlEm+jA8Pl74sGGVLa5Od7JUWNrHXrRq6Ay5xGxyUvsy5vquDZ206lj733jJ1OpztlMpl08Pfh7/9vSOhRoCg+vBk99IQvh8NDmOnMeEpYE/f7OfVHa4i7eBzLHcUTKFUm6PHJbYuzSrUMt7WfDodC1VvcdS1wec5dHlgTx44EvHzzxy6f7ma3Ut3/4wgPxSOSiHG4+vx48gjkPq6I/j169uu2sJDVKUEtg/LElQbt37ovQJVfl2SxeACz4kCTPYYEoL+lh6/qt4rnTDw7xvJQKN8c7VAfCRnLKSlSeAGJx3KKcLPvE4fi9/f8d+8bBxGjPVXPbaQNJMMSL1yZ7z6SnNg+tbO/fzPGip1BPIDDRvnbNoVsmJ24bqqXzkJOkPmsv7rFv0n4ld2q/OQ4IH6B9IxGeTvIK0Ycrl7deHTr1uyd5PkeJOt/BC5SoshIxvyRLlJgLv0mJ+dbBC2fvj5ulRmknQjgU4TKCXwl5wMzMhunxiZ6h1dEPur2SxCa10eixbjEXHptK31gT5wFJ0i9sH5k59HJyH1i84X1uFvnNzoOGDRuPrOva/N5vtLV/St1yMQAen8ixwlRq3chY4rYzg5/sOpWZabf1n/0Bfs7fQOaojJd4FcFQInjHHfseb2o6M6939iTG7o8NnPyrqi9XPLy3eb89QdSTU7+xUAoZYy47TYJYQrxdeUbWqtUfrW1tPb2uofHySiplAdvn4fP7TH2J2ZZ0MrV5ODm+6eq5s4+dcSKFwccjyd+A5jgfyFAGPT3f7I2uProd5oHx8W19/R++WL0XBFIP7uFnwgdsCTr8/dRO2meOr0/JicQ3N4v9mKCy/9BBHYpApPVM2O+fDAaDab/gm1Kkk85Bsun0hrSYbRUnxm9Ig0swWxNYgURfAHmaNN188wvb1qz9z+10Uu15CUIU2xMDJ//m7WrMl+j99e3c23zYXoLY/6lw3B5wAS9EVQpGjD/Iz/lCJGelztygmUa077rzz3YLvrTnyHbVJrUYH2CfI7BVUX+064WslM3eSUVNKFcXLyDsD3E5gUeYOW0yBh4WGEyVhRq5bKARicz9RxWYN5F6Zsx5WNnR1yUIs41eyioR8TXv9hDCL15EnJAsJeenyvXs8tz3FMpSCfL0kB/vBykQRtmGCMwEV6CsX0A5BPMb5awcIyW4gs82tnDTwWaUcWNn3CJFJSD2/o9eH796dx94BI0NBm+48bUne27/1rzsWVlQ+6PtOo703Q89D9p8yAuou0uYVAkBasBDaM5P51F0LkUnvYB5OsFRznMI6xOVPplGLyRqU6RgiBOZfRGCSGLzMFS5M2gLGt45SyenqLEp3gUeoUXEJya2ji7kpBZj/IsfHvk7RTgcb/3oGySYTaWehYX+oFIdYtOmf+netOmtHTW3S1S9BZOTL2svR3c06kzNIYSq+jmWWuHcuT8c7D/xvTelXNhzJ1OPNMKW01et+qDit5gQQgb1b64v63URjJfU05iVgNklRtLU1GbP98xIuu32v3j6li3fvRsqAMr/Z53ud3k4TVo/q6hkUjvfyANb/9m5N/Ka/pi7eYssx2CZYWDgr2PDFx+dV+Qguur93i9u3+X5CSL2hS/zMdf+0c9eST2LLD6B+VlHB7UrW7e88ORiOw+ELm//9jPNL5uPu5758wgdhmWIK2NfTFTiPNx19zNPb9r0b2WnKkRmz8WXwtMMYznaIg0sIr7l5u9tb1t5fF6vd3ayS3bSw+AtdrYMbZGGbCaa7T/x90focvi8lh2YXbLz8EhWfMuunCeCWPCORVlhGYM5D6eH/vhtjP2eV1o7O4/0mo/RacyA04cKPUefA+FwTPke9jIGm9QeP/7q617tEovh6SezTLXRxa6YYxnwCBZdYF+XgmUObVKbpWtEXsoJ/mQhbMYcg3KfUpvX+g379NdyV3UMWkTci10av/YFLQjq6qvG815gY6qOiShch+tJbXJyywBzNli/XZ6ciIELzJsgpupEGR9Y7vZIw6lT+/pOnvxbW7vEjn86+CfHWH+xfnvK5ac8K15p8bI0vhzAltNv6v6H7eHm093MKWCPFF8Zu+f44NBX+pj05Dj01mMevg65IEth7MtSNAy0E67DGRjH6FQl5qXIgjzkQWfBfezicB32mAc5DAu6mEzVXS9Vd71wHUbMkxyGBV/tv06SCRWQw7Aoj2NcJ0kFdacPK+q/Aiza8zLsYxHsA0bL4YGTErCpByFvsdglVIhFfKAJgH3tMMBze5bTQp8SX6PznHIhHLdYVIIY2KNbYjrdW+45788CWPiGRQjcTkJd1lkdHHxpsgfxXO9nUpqoSsvRALKXCahbVI0gBkXlAfQijqubrzFWisWQGlP91cfBf5yOIlnetaSliT0/TVeYF8IRcLwM1BBLUe0xJ0BC6PBiqDMr1JQgDYwonkPbCKD6+wCghipJTMlloY7AIuPU2+tB7D8q6mH+RI0/RmiAw3iw2sRoqCuCNLyx/3ywozlCw/Vct/KYVzXJYpNMjkvwsjwwmkoOLpbxd4u6JMgMJlmYksWx1+Uv9HN5eUIwIQkmKYlUMlFrUvRYEgSZwbxAAeMIluQo7Vz2VpQgIjjItsTC4UD5pXlq45LMyCNJTvJ0BTrn9yUe+UpjXX8q4NcbOPrpl/D5vwAAAABJRU5ErkJggg=="></div>\
                                              <div class="title">Sorry, we could not find any results for that</div>\
                                              <div class="title-info">Please try searching with another term</div>\
                                            </div>\
                                          {{/if}}\
                                        {{/if}}\
                                      {{/if}}\
                                    {{/if}}\
                              </script>';}else if(type=="list"){topDownActionTemplate='<script id="actions-template" type="text/x-jqury-tmpl">\
                                  {{if tasks && tasks.length > 0 }}\
                                    {{if devMode == true && viewType == "Customize" && selectedFacet == appearanceType}}\
                                      <div class="bot-actions-customize-info ">\
                                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFnSURBVHgBpVNNSsNQEH4zabXLuFXEHsGCqLjQ9gTqCWJP0AsUk0j26tJdegLrCczKnyL0CDbgAbKzhvjGmZBIfIQScODxHt/8fzNPqRXSOfS6clbZgAm09sZ9tCxHkToDULZgRCphyykC+MsXb1G1x78ZfRfRumfDGBF6X68+yJG3YET0uLZ/6dZWIM5E+gIABmaWaksShE+Yzq783wClwnRmvK91ZqezYFoNojXNtf4+z96CKG9BE3F2mpiZAWgXsWVXMbHhlm5znoSzHGXCELFnlvz57N+oegm59DnfQyjKfxeyTCsmzJOb+/VM3fqBS2C1u6j+KSg9yZw7R8FOU6diuZLl0zguKqAHnaVD1VjAIaXyyeQBmMCQRzgy15bxhRwzu+yLbGUeqqLwmEyn4SJNSmKtUpl9RFF7e7DBymtr68Tmd8xYUjri5vGIuQq53bvqVKAui9aaDeC05jPJskWqqTT5zj8FOrqqP5/xLgAAAABJRU5ErkJggg==" alt="actions-info">\
                                        <span class="info-text">Bot Actions cannot be customized</span>\
                                      </div>\
                                    {{/if}}\
                                    {{if selectedFacet !== appearanceType && selectedFacet == "all results"}}\
                                      <div class="structured-data-header total-structured-data-wrap list-view-action-header" appearanceType="task">\
                                        ACTIONS\
                                        <div class="search-heads show-all sdk-show-classification display-none">\
                                          Show all Actions\
                                        </div>\
                                      </div>\
                                    {{/if}}\
                                    {{if selectedFacet == appearanceType || selectedFacet == "all results"}}\
                                      <div class="action-results-container btn_block_actions main-content-title-grid-data new-grid-search-data list-view-data-search">\
                                        {{each(key, task) tasks}}\
                                          <div class="title-box-data">\
                                              <div id="${key}" class="search-task search-grid-item text-truncate one-line-height" title="${task.name}" contentId="${task.taskId}" contentType="${task.contentType}" childBotId="${task.childBotId}" childBotName="${task.childBotName}" payload="${task.payload}" seqLogId="${task.seqLogId}">\
                                              <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJ1BMVEUAAAAAVaoEbq4DbK8GbK4Gbq8Gba0Fba8Fba4Fbq4Eba4Fba7////SVqJwAAAAC3RSTlMAA0hJVYKDqKmq4875bAAAAAABYktHRAyBs1FjAAAAP0lEQVQI12NgwACMJi5A4CzAwLobDBIYOCaAxDknMLCvnAkEsyYwcECkkBicMDV4GGwQxQEMjCogK5wEMC0HALyTIMofpWLWAAAAAElFTkSuQmCC" class="credit-card display-none">\
                                              <div class="name-title">${task.titleText}</div>\
                                              {{if task.childBotName !=="" && task.childBotName !== undefined}}\
                                                  <span class="child-bot">${task.childBotName}</span>\
                                              {{/if}}\
                                              </div>\
                                          </div>\
                                        {{/each}}\
                                      </div>\
                                    {{/if}}\
                                  {{/if}}\
                                  {{if !tasks || tasks.length === 0 }}\
                                    {{if selectedFacet != "all results"}}\
                                      {{if selectedFacet == appearanceType}}\
                                        {{if isFullResults == true}}\
                                          <div class="empty-full-results-container">\
                                            <div class="img-block"><img src="data:image/png;base64,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"></div>\
                                            <div class="title">Sorry, we could not find any results for that</div>\
                                            <div class="title-info">Please try searching with another term</div>\
                                          </div>\
                                        {{/if}}\
                                      {{/if}}\
                                    {{/if}}\
                                  {{/if}}\
                            </script>';}else if(type=="carousel"){topDownActionTemplate='<script id="actions-template" type="text/x-jqury-tmpl">\
                                    {{if tasks && tasks.length > 0 }}\
                                      {{if devMode == true && viewType == "Customize" && selectedFacet == appearanceType}}\
                                        <div class="bot-actions-customize-info ">\
                                          <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFnSURBVHgBpVNNSsNQEH4zabXLuFXEHsGCqLjQ9gTqCWJP0AsUk0j26tJdegLrCczKnyL0CDbgAbKzhvjGmZBIfIQScODxHt/8fzNPqRXSOfS6clbZgAm09sZ9tCxHkToDULZgRCphyykC+MsXb1G1x78ZfRfRumfDGBF6X68+yJG3YET0uLZ/6dZWIM5E+gIABmaWaksShE+Yzq783wClwnRmvK91ZqezYFoNojXNtf4+z96CKG9BE3F2mpiZAWgXsWVXMbHhlm5znoSzHGXCELFnlvz57N+oegm59DnfQyjKfxeyTCsmzJOb+/VM3fqBS2C1u6j+KSg9yZw7R8FOU6diuZLl0zguKqAHnaVD1VjAIaXyyeQBmMCQRzgy15bxhRwzu+yLbGUeqqLwmEyn4SJNSmKtUpl9RFF7e7DBymtr68Tmd8xYUjri5vGIuQq53bvqVKAui9aaDeC05jPJskWqqTT5zj8FOrqqP5/xLgAAAABJRU5ErkJggg==" alt="actions-info">\
                                          <span class="info-text">Bot Actions cannot be customized</span>\
                                        </div>\
                                      {{/if}}\
                                      {{if selectedFacet !== appearanceType && selectedFacet == "all results"}}\
                                        <div class="structured-data-header total-structured-data-wrap" appearanceType="task">\
                                          ACTIONS\
                                          <div class="search-heads show-all sdk-show-classification display-none">\
                                            Show all Actions\
                                          </div>\
                                        </div>\
                                      {{/if}}\
                                      {{if selectedFacet == appearanceType || selectedFacet == "all results"}}\
                                        <div class="carousel action-results-container carousel-search-data-items">\
                                          {{each(key, task) tasks}}\
                                            <div class="slide">\
                                              <div class="title-box-data text-truncate one-line-height">\
                                                  <div id="${key}" class="search-task search-grid-item text-truncate one-line-height" title="${task.name}" contentId="${task.taskId}" contentType="${task.contentType}" childBotId="${task.childBotId}" childBotName="${task.childBotName}" payload="${task.payload}" seqLogId="${task.seqLogId}">${task.titleText}</div>\
                                                  {{if task.childBotName !=="" && task.childBotName !== undefined}}\
                                                    <div class="child-bot">${task.childBotName}</div>\
                                                  {{/if}}\
                                              </div>\
                                            </div>\
                                          {{/each}}\
                                        </div>\
                                      {{/if}}\
                                    {{/if}}\
                                     {{if !tasks || tasks.length === 0 }}\
                                      {{if selectedFacet != "all results"}}\
                                        {{if selectedFacet == appearanceType}}\
                                          {{if isFullResults == true}}\
                                            <div class="empty-full-results-container">\
                                              <div class="img-block"><img src="data:image/png;base64,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"></div>\
                                              <div class="title">Sorry, we could not find any results for that</div>\
                                              <div class="title-info">Please try searching with another term</div>\
                                            </div>\
                                          {{/if}}\
                                        {{/if}}\
                                      {{/if}}\
                                    {{/if}}\
                              </script>';}return topDownActionTemplate;};FindlySDK.prototype.getFrequentlySearchTemplate=function(){var frequentlySearchTemplate='<script id="frequently-searched-template" type="text/x-jqury-tmpl">\
                                        {{if recents && recents.length && searchConfig.showSearchesEnabled == true}}\
                                        <div class="templates-data freq-data-p">\
                                            <div class="main-title display-none"> {{if searchConfig.showSearches == "frequent"}}\ FREQUENT {{else}} RECENT {{/if}}\ SEARCHES</div>\
                                            {{each(key, recent) recents }}\
                                            {{if recent}}\
                                              <div class="tile_with_header recentText recent-list-container">\
                                              <a class="tile-title" id="${recent}" title="${recent}"><img class="RecentIcon-topDown" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTMiIHZpZXdCb3g9IjAgMCAxMyAxMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuNSAwQzIuOTE0MDYgMCAwIDIuOTE0MDYgMCA2LjVDMCAxMC4wODU5IDIuOTE0MDYgMTMgNi41IDEzQzEwLjA4NTkgMTMgMTMgMTAuMDg1OSAxMyA2LjVDMTMgNi4yMjM4NiAxMi43NzYxIDYgMTIuNSA2QzEyLjIyMzkgNiAxMiA2LjIyMzg2IDEyIDYuNUMxMiA5LjU0Mjk3IDkuNTQyOTcgMTIgNi41IDEyQzMuNDU3MDMgMTIgMSA5LjU0Mjk3IDEgNi41QzEgMy40NTcwMyAzLjQ1NzAzIDEgNi41IDFDOC4xNDA2MiAxIDkuNTk3NjYgMS43MjI2NiAxMC42MDU1IDIuODU5MzhMOS45NzY5OCAzLjQ4Nzg3QzkuNzg3OTkgMy42NzY4NiA5LjkyMTg0IDQgMTAuMTg5MSA0SDEyLjdDMTIuODY1NyA0IDEzIDMuODY1NjkgMTMgMy43VjEuMTg5MTFDMTMgMC45MjE4MzcgMTIuNjc2OSAwLjc4Nzk4NyAxMi40ODc5IDAuOTc2OTc2TDExLjMxMjUgMi4xNTIzNEMxMC4xMjExIDAuODM1OTM4IDguNDEwMTYgMCA2LjUgMFpNNi41IDJDNi4yMjM4NiAyIDYgMi4yMjM4NiA2IDIuNVY2SDQuNUM0LjIyMzg2IDYgNCA2LjIyMzg2IDQgNi41QzQgNi43NzYxNCA0LjIyMzg2IDcgNC41IDdINi43MjcyN0M2Ljg3NzkgNyA3IDYuODc3OSA3IDYuNzI3MjdWMi41QzcgMi4yMjM4NiA2Ljc3NjE0IDIgNi41IDJaIiBmaWxsPSIjMjAyMTI0Ii8+Cjwvc3ZnPgo=" alt="Recent search Icon">\
                                              ${recent}</span>\
                                                <span id="${recent}" class="recent-search-delete"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI4IiB2aWV3Qm94PSIwIDAgOCA4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KPHBhdGggZD0iTTQuNDM0NzUgNC4wMDAxTDYuOTg2NDUgMS40NDgzOUM3LjEwNjYyIDEuMzI4MjMgNy4xMDY2MiAxLjEzMzQxIDYuOTg2NDUgMS4wMTMyNUM2Ljg2NjI5IDAuODkzMDg2IDYuNjcxNDcgMC44OTMwODYgNi41NTEzMSAxLjAxMzI1TDMuOTk5NTkgMy41NjQ5N0wxLjQ0Nzk5IDEuMDEzNDdDMS4zMjc4MyAwLjg5MzMxNCAxLjEzMzAxIDAuODkzMzE4IDEuMDEyODUgMS4wMTM0OEMwLjg5MjY5MiAxLjEzMzY1IDAuODkyNjk2IDEuMzI4NDcgMS4wMTI4NiAxLjQ0ODYyTDMuNTY0NDUgNC4wMDAxMUwxLjAxMjg1IDYuNTUxNzJDMC44OTI2ODkgNi42NzE4OCAwLjg5MjY4OSA2Ljg2NjcgMS4wMTI4NSA2Ljk4Njg2QzEuMTMzMDEgNy4xMDcwMiAxLjMyNzgzIDcuMTA3MDIgMS40NDc5OSA2Ljk4Njg2TDMuOTk5NiA0LjQzNTI1TDYuNTUxMzIgNi45ODY4NkM2LjY3MTQ5IDcuMTA3MDIgNi44NjYzMSA3LjEwNzAyIDYuOTg2NDYgNi45ODY4NUM3LjEwNjYyIDYuODY2NjkgNy4xMDY2MiA2LjY3MTg3IDYuOTg2NDYgNi41NTE3MUw0LjQzNDc1IDQuMDAwMVoiIGZpbGw9IiMyMDIxMjQiLz4NCjwvc3ZnPg0K" alt="close-icon" height="15"/>\
                                                </a>\
                                              </div>\
                                              {{/if}}\
                                              {{/each}}\
                                        </div>\
                                        {{/if}}\
                                      </script>';return frequentlySearchTemplate;};FindlySDK.prototype.getGreetingMsgTopDownTemplate=function(){var greetingMsgTemplate='<script id="greeting-msg-top-down-template" type="text/x-jqury-tmpl">\
                                      {{if searchConfig.welcomeMsg}}\
                                        <div class="search-greeting-box-top-down">\
                                          <span class="search-greeting-text" style="color:${searchConfig.welcomeMsgColor}">\
                                              ${searchConfig.welcomeMsg}\
                                          </span>\
                                        </div>\
                                        {{/if}}\
                                 </script>';return greetingMsgTemplate;};FindlySDK.prototype.getEndTaskMsgTopDownTemplate=function(){var endTaskMsgTemplate='<div class="task-ended-message">\
                                      <div class="end-message-container">\
                                        <div class="smile-img-icon"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDIxQzE2Ljk3MDYgMjEgMjEgMTYuOTcwNiAyMSAxMkMyMSA3LjAyOTQ0IDE2Ljk3MDYgMyAxMiAzQzcuMDI5NDQgMyAzIDcuMDI5NDQgMyAxMkMzIDE2Ljk3MDYgNy4wMjk0NCAyMSAxMiAyMVoiIGZpbGw9InVybCgjcGFpbnQwX3JhZGlhbCkiLz4KPHBhdGggZD0iTTE4IDE2QzE5LjM4MDcgMTYgMjAuNSAxNC44ODA3IDIwLjUgMTMuNUMyMC41IDEyLjExOTMgMTkuMzgwNyAxMSAxOCAxMUMxNi42MTkzIDExIDE1LjUgMTIuMTE5MyAxNS41IDEzLjVDMTUuNSAxNC44ODA3IDE2LjYxOTMgMTYgMTggMTZaIiBmaWxsPSJ1cmwoI3BhaW50MV9yYWRpYWwpIi8+CjxwYXRoIGQ9Ik02IDE2QzcuMzgwNzEgMTYgOC41IDE0Ljg4MDcgOC41IDEzLjVDOC41IDEyLjExOTMgNy4zODA3MSAxMSA2IDExQzQuNjE5MjkgMTEgMy41IDEyLjExOTMgMy41IDEzLjVDMy41IDE0Ljg4MDcgNC42MTkyOSAxNiA2IDE2WiIgZmlsbD0idXJsKCNwYWludDJfcmFkaWFsKSIvPgo8cGF0aCBkPSJNMTYuMzE5MiAxNUMxNi4zMTkyIDE1IDE1LjMyMTIgMTcuNSAxMS45OTgyIDE3LjVDOC45MjAxOSAxNy41IDcuNjc5NjkgMTUgNy42Nzk2OSAxNUM3LjY3OTY5IDE1IDguNDkzMTkgMTYuMTUyNSAxMi4wMzk3IDE2LjE1MjVDMTUuNTg2MiAxNi4xNTI1IDE2LjMxOTIgMTUgMTYuMzE5MiAxNVoiIGZpbGw9InVybCgjcGFpbnQzX3JhZGlhbCkiLz4KPHBhdGggZD0iTTEyLjAwMDIgMTcuNDk5OEM4LjU5MjcyIDE3LjQ5OTggNy4zODY3MiAxNC41OTAzIDcuMzg2NzIgMTQuNTkwM0M3LjM4NjcyIDE0LjU5MDMgNy45NjE3MiAxOC40OTk4IDEyLjAwMDIgMTguNDk5OEMxNi4wMzg3IDE4LjQ5OTggMTYuNjEzNyAxNC41OTAzIDE2LjYxMzcgMTQuNTkwM0MxNi42MTM3IDE0LjU5MDMgMTUuNDA3NyAxNy40OTk4IDEyLjAwMDIgMTcuNDk5OFoiIGZpbGw9InVybCgjcGFpbnQ0X3JhZGlhbCkiLz4KPHBhdGggZD0iTTE2LjE4ODUgMTQuMzk0QzE2LjQxNiAxNC4yMDQgMTYuNzI2NSAxNC41MDE1IDE2LjU0NyAxNC43Mzc1QzE1LjcyNiAxNS44MTcgMTQuMzAxIDE3IDExLjk5OTUgMTdDOS42OTggMTcgOC4yNzMgMTUuODE3IDcuNDUyIDE0LjczNzVDNy4yNzI1IDE0LjUwMTUgNy41ODMgMTQuMjA0IDcuODEwNSAxNC4zOTRDOC43NSAxNS4xNzc1IDEwLjE3MTUgMTYgMTEuOTk5NSAxNkMxMy44Mjc1IDE2IDE1LjI0OSAxNS4xNzc1IDE2LjE4ODUgMTQuMzk0WiIgZmlsbD0idXJsKCNwYWludDVfcmFkaWFsKSIvPgo8cGF0aCBkPSJNMTcuMjUgMTEuNUMxNy4zODgxIDExLjUgMTcuNSAxMS4zODgxIDE3LjUgMTEuMjVDMTcuNSAxMS4xMTE5IDE3LjM4ODEgMTEgMTcuMjUgMTFDMTcuMTExOSAxMSAxNyAxMS4xMTE5IDE3IDExLjI1QzE3IDExLjM4ODEgMTcuMTExOSAxMS41IDE3LjI1IDExLjVaIiBmaWxsPSIjMjEyMTIxIi8+CjxwYXRoIGQ9Ik0xMy44NzAyIDExLjQ2OTVDMTMuODcwMiAxMS40Njk1IDE0LjczMzIgMTAuOTk3NSAxNS40OTkyIDEwLjk5NzVDMTYuMjY1MiAxMC45OTc1IDE3LjEyODIgMTEuNDY5NSAxNy4xMjgyIDExLjQ2OTVMMTcuNDQzNyAxMS4wOTI1QzE3LjQ0MzcgMTEuMDkyNSAxNi41NjEyIDEwIDE1LjQ5OTIgMTBDMTQuNDM3MiAxMCAxMy41NTQ3IDExLjA5MjUgMTMuNTU0NyAxMS4wOTI1TDEzLjg3MDIgMTEuNDY5NVoiIGZpbGw9IiMyMTIxMjEiLz4KPHBhdGggZD0iTTEzLjc1IDExLjVDMTMuODg4MSAxMS41IDE0IDExLjM4ODEgMTQgMTEuMjVDMTQgMTEuMTExOSAxMy44ODgxIDExIDEzLjc1IDExQzEzLjYxMTkgMTEgMTMuNSAxMS4xMTE5IDEzLjUgMTEuMjVDMTMuNSAxMS4zODgxIDEzLjYxMTkgMTEuNSAxMy43NSAxMS41WiIgZmlsbD0iIzIxMjEyMSIvPgo8cGF0aCBkPSJNMTAuMjUgMTEuNUMxMC4zODgxIDExLjUgMTAuNSAxMS4zODgxIDEwLjUgMTEuMjVDMTAuNSAxMS4xMTE5IDEwLjM4ODEgMTEgMTAuMjUgMTFDMTAuMTExOSAxMSAxMCAxMS4xMTE5IDEwIDExLjI1QzEwIDExLjM4ODEgMTAuMTExOSAxMS41IDEwLjI1IDExLjVaIiBmaWxsPSIjMjEyMTIxIi8+CjxwYXRoIGQ9Ik02Ljg3MDE5IDExLjQ2OTVDNi44NzAxOSAxMS40Njk1IDcuNzMzMTkgMTAuOTk3NSA4LjQ5OTE5IDEwLjk5NzVDOS4yNjUxOSAxMC45OTc1IDEwLjEyODIgMTEuNDY5NSAxMC4xMjgyIDExLjQ2OTVMMTAuNDQzNyAxMS4wOTI1QzEwLjQ0MzcgMTEuMDkyNSA5LjU2MTE5IDEwIDguNDk5MTkgMTBDNy40MzcxOSAxMCA2LjU1NDY5IDExLjA5MjUgNi41NTQ2OSAxMS4wOTI1TDYuODcwMTkgMTEuNDY5NVoiIGZpbGw9IiMyMTIxMjEiLz4KPHBhdGggZD0iTTYuNzUgMTEuNUM2Ljg4ODA3IDExLjUgNyAxMS4zODgxIDcgMTEuMjVDNyAxMS4xMTE5IDYuODg4MDcgMTEgNi43NSAxMUM2LjYxMTkzIDExIDYuNSAxMS4xMTE5IDYuNSAxMS4yNUM2LjUgMTEuMzg4MSA2LjYxMTkzIDExLjUgNi43NSAxMS41WiIgZmlsbD0iIzIxMjEyMSIvPgo8ZGVmcz4KPHJhZGlhbEdyYWRpZW50IGlkPSJwYWludDBfcmFkaWFsIiBjeD0iMCIgY3k9IjAiIHI9IjEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKDEyIDEyKSBzY2FsZSg5KSI+CjxzdG9wIHN0b3AtY29sb3I9IiNGRkUxNkUiLz4KPHN0b3Agb2Zmc2V0PSIwLjYyOSIgc3RvcC1jb2xvcj0iI0ZGRDIyNiIvPgo8c3RvcCBvZmZzZXQ9IjAuNzUiIHN0b3AtY29sb3I9IiNGRENEMjMiLz4KPHN0b3Agb2Zmc2V0PSIwLjg5OSIgc3RvcC1jb2xvcj0iI0Y2QkQxQiIvPgo8c3RvcCBvZmZzZXQ9IjAuOTk5IiBzdG9wLWNvbG9yPSIjRjBBRjEzIi8+CjwvcmFkaWFsR3JhZGllbnQ+CjxyYWRpYWxHcmFkaWVudCBpZD0icGFpbnQxX3JhZGlhbCIgY3g9IjAiIGN5PSIwIiByPSIxIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgxOCAxMy41KSBzY2FsZSgyLjUpIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0ZGODQwMCIgc3RvcC1vcGFjaXR5PSIwLjYiLz4KPHN0b3Agb2Zmc2V0PSIwLjk5OSIgc3RvcC1jb2xvcj0iI0ZGODQwMCIgc3RvcC1vcGFjaXR5PSIwIi8+CjwvcmFkaWFsR3JhZGllbnQ+CjxyYWRpYWxHcmFkaWVudCBpZD0icGFpbnQyX3JhZGlhbCIgY3g9IjAiIGN5PSIwIiByPSIxIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSg2IDEzLjUpIHNjYWxlKDIuNSkiPgo8c3RvcCBzdG9wLWNvbG9yPSIjRkY4NDAwIiBzdG9wLW9wYWNpdHk9IjAuNiIvPgo8c3RvcCBvZmZzZXQ9IjAuOTk5IiBzdG9wLWNvbG9yPSIjRkY4NDAwIiBzdG9wLW9wYWNpdHk9IjAiLz4KPC9yYWRpYWxHcmFkaWVudD4KPHJhZGlhbEdyYWRpZW50IGlkPSJwYWludDNfcmFkaWFsIiBjeD0iMCIgY3k9IjAiIHI9IjEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKDExLjk5NiAxNS4xNjMpIHNjYWxlKDUuMjI4MjEgMi44MzI0OCkiPgo8c3RvcCBvZmZzZXQ9IjAuOTQ3IiBzdG9wLWNvbG9yPSIjRkZFMTZFIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0ZGRTE2RSIgc3RvcC1vcGFjaXR5PSIwIi8+CjwvcmFkaWFsR3JhZGllbnQ+CjxyYWRpYWxHcmFkaWVudCBpZD0icGFpbnQ0X3JhZGlhbCIgY3g9IjAiIGN5PSIwIiByPSIxIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgxMi4wNTI0IDEzLjc0Nikgc2NhbGUoNC42MzEyMyA0LjczNTEpIj4KPHN0b3Agb2Zmc2V0PSIwLjgxOSIgc3RvcC1jb2xvcj0iI0NDOTAwMCIvPgo8c3RvcCBvZmZzZXQ9IjAuOTg4IiBzdG9wLWNvbG9yPSIjRkJCQzIzIiBzdG9wLW9wYWNpdHk9IjAuMDY5Ii8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0ZGQkYyNiIgc3RvcC1vcGFjaXR5PSIwIi8+CjwvcmFkaWFsR3JhZGllbnQ+CjxyYWRpYWxHcmFkaWVudCBpZD0icGFpbnQ1X3JhZGlhbCIgY3g9IjAiIGN5PSIwIiByPSIxIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgxMS45OTk1IDE0LjkyMTUpIHNjYWxlKDQuODI2IDEuODExNjgpIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzFDMTkxMSIvPgo8c3RvcCBvZmZzZXQ9IjAuOTk5IiBzdG9wLWNvbG9yPSIjMTcxNzE0Ii8+CjwvcmFkaWFsR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg==" /></div>\
                                        <div class="end-message">Hope that your query has been addressed</div>\
                                      </div>\
                                      <div class="back-to-search"><a><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTUuODY4OTQgMy42NDgzMkM1LjY1OTc4IDMuNDQ1OTggNS4zMjYyNCAzLjQ1MTMzIDUuMTIzNjggMy42NjAyOEwxLjA1OTkgNy44NTIyQzAuOTgwMDM1IDcuOTM0NTggMC45ODAwMzUgOC4wNjU1IDEuMDU5OSA4LjE0Nzg3TDUuMTIzNTUgMTIuMzM5N0M1LjMyNjE4IDEyLjU0ODcgNS42NTk4NCAxMi41NTQgNS44NjkwNyAxMi4zNTE2QzYuMDc4NTggMTIuMTQ4OSA2LjA4Mzk4IDExLjgxNDggNS44ODExNCAxMS42MDU0TDIuOTA2NzggOC41MzU3SDE0LjQ3MjZDMTQuNzYzOSA4LjUzNTcgMTUgOC4yOTk1NyAxNSA4LjAwODI4QzE1IDcuNzE2OTkgMTQuNzYzOSA3LjQ4MDg1IDE0LjQ3MjYgNy40ODA4NUgyLjg4NjE4TDUuODgwNzUgNC4zOTQ1M0M2LjA4Mzc3IDQuMTg1MyA2LjA3ODQ4IDMuODUxMDMgNS44Njg5NCAzLjY0ODMyWiIgZmlsbD0iIzBENkVGRCIvPgo8L3N2Zz4K"/><span>Back to Search</span></a></div>\
                                    </div>\
                                 ';return endTaskMsgTemplate;};FindlySDK.prototype.bindPlaceholderStyle=function(config){var canvas=document.createElement("canvas");var ctx=canvas.getContext("2d");ctx.font="14px 'Inter', sans-serif";var width=ctx.measureText(config.searchConfig.buttonText).width;if(config.searchConfig.buttonPlacementPosition=="inside"&&config.searchConfig.searchButtonEnabled){var rightPosition=70+31+23;rightPosition=rightPosition+width+1;$("body").append("<style>.cancel-search {right:"+rightPosition+"px !important;} .search-btn-inside{padding-right:"+(rightPosition-40)+"px !important;}</style>");}else{$("body").append("<style>.cancel-search {right: 72px !important;}</style>");if(config.searchConfig.buttonPlacementPosition=="outside"){var _rightPosition=812;$("body").append("<style>.submit-button-outside {left: "+_rightPosition+"px !important;}</style>");}}$("body").append("<style>.cancel-search .cross {color:"+config.searchConfig.searchBarPlaceholderTextColor+"!important;}</style>");};FindlySDK.prototype.appendActionsContainerForBottomUp=function(from){var actionsPosition="bottom";if(searchConfigurationCopy&&searchConfigurationCopy.botConfig){actionsPosition=searchConfigurationCopy.botConfig.botActionResultsExperience;}var actionParentContainer;if(from&&from=="search"){actionParentContainer="<div class=\"actions-search-container\"></div>";if(actionsPosition==="top"){$(".search-data-container").last().before(actionParentContainer);}else{$(".bottom-search-show-all-results").last().before(actionParentContainer);}}else{actionParentContainer="<div id=\"actions-full-search-container\" class=\"quick-actions-full-search-container actions-full-search-container\"></div>";if(actionsPosition==="top"){$(".data-body-sec").prepend(actionParentContainer);}else{$(".custom-add-result-container").after(actionParentContainer);}}};FindlySDK.prototype.frequentlySearchedRecentTextClickEvent=function(){var _self=this;$('.tile_with_header').off('click','.tile-title').on('click','.tile-title',function(e){var recentText=$(this).attr('id');$("#search").val(recentText);$("#suggestion").val(recentText);$(".top-down-suggestion").val(recentText);$(".search-top-down").val(recentText);$('#frequently-searched-box').hide();if(_self.isDev){if($('.top-down-search-background-div')){$('.top-down-search-background-div').addClass('if-full-results');$('.top-down-wrapper').addClass('top-down-wrapper-height');}}//     e.preventDefault();
// e.stopImmediatePropagation();
_self.vars.searchObject.searchText=recentText;_self.vars.showingMatchedResults=true;_self.searchFacetsList([]);// _self.invokeSearch();
var e=$.Event("keydown",{which:13});$('#search').trigger(e);// _self.pubSub.publish('sa-search-facets', _self.vars.searchFacetFilters);
//$('#search').trigger("keyup");
setTimeout(function(){//   var e = $.Event( "keydown", { which: 13 } );
// $('#search').trigger(e);
// $('#loaderDIV').show();
$('.all-result-container').show();//top-down-searc-facets active -start//
_self.pubSub.publish('facet-selected',{selectedFacet:'all results'});//top-down-search-facets active -end//
$('#live-search-result-box').hide();$('#frequently-searched-box').hide();$('#loaderDIV').hide();},600);if($('body').hasClass('top-down')?$('.search-top-down').val():$('.bottom-up-search').val()){$('.cancel-search').show();}else{$('.cancel-search').hide();$('#live-search-result-box').hide();}});$('.recent-list-container').off('click','.recent-search-delete').on('click','.recent-search-delete',function(e){var _this11=this;e.preventDefault();e.stopImmediatePropagation();e.stopPropagation();var recentText=$(this).attr('id');_self.deleteRecentSearches(recentText).then(function(data){$(_this11).parent().remove();if(!$('.recent-list-container').children().length){$('#frequently-searched-box').hide();$('.live-search-result-box').hide();};});});};var helpers={nl2br:function nl2br(str,runEmojiCheck){if(runEmojiCheck&&window.emojione){str=window.emojione.shortnameToImage(str);}str=str.replace(/(?:\r\n|\r|\n)/g,"<br />");return str;},br2nl:function br2nl(str){str=str.replace(/<br \/>/g,"\n");return str;},formatAMPM:function formatAMPM(date){var hours=date.getHours();var minutes=date.getMinutes();var seconds=date.getSeconds();var ampm=hours>=12?"pm":"am";hours=hours%12;hours=hours?hours:12;// the hour '0' should be '12'
minutes=minutes<10?"0"+minutes:minutes;var strTime=hours+":"+minutes+":"+seconds+" "+ampm;return strTime;},formatDate:function formatDate(date){var d=new Date(date);if(isNaN(d.getTime())){var _tmpDate=new Date().getTime();d=new Date(_tmpDate);}return d.toDateString()+" at "+helpers.formatAMPM(d);},convertMDtoHTML:function convertMDtoHTML(val,responseType,msgItem,isRemoveln){// val = val ? val.toString().replaceAll(/[\r\n]+/g, ' ') : val;
val=val?val.toString().replaceAll("•","• "):val;val=val&&isRemoveln?val.toString().replaceAll(/[\r\n]+/g," ").replaceAll("<BR>"," "):val;var hyperLinksMap={};var mdre={};// mdre.date = new RegExp(/\\d\(\s*(.{10})\s*\)/g);
mdre.date=new RegExp(/\\d\(\s*(.{10})\s*(?:,\s*["'](.+?)["']\s*)?\)/g);mdre.time=new RegExp(/\\t\(\s*(.{8}\.\d{0,3})\s*\)/g);// mdre.datetime = new RegExp(/\\dt\(\s*(.{10})[T](.{12})([z]|[Z]|[+-]\d{4})\s*\)/g);
mdre.datetime=new RegExp(/\\(d|dt|t)\(\s*([-0-9]{10}[T][0-9:.]{12})([z]|[Z]|[+-]\d{4})[\s]*,[\s]*["']([a-zA-Z\W]+)["']\s*\)/g);mdre.num=new RegExp(/\\#\(\s*(\d*.\d*)\s*\)/g);mdre.curr=new RegExp(/\\\$\((\d*.\d*)[,](\s*[\"\']\s*\w{3}\s*[\"\']\s*)\)|\\\$\((\d*.\d*)[,](\s*\w{3}\s*)\)/g);var regEx={};regEx.SPECIAL_CHARS=/[\=\`\~\!@#\$\%\^&\*\(\)_\-\+\{\}\:"\[\];\',\.\/<>\?\|\\]+/;regEx.EMAIL=/^[-a-z0-9~!$%^&*_=+}{\']+(\.[-a-z0-9~!$%^&*_=+}{\']+)*@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,255})+$/i;regEx.MENTION=/(^|\s|\\n|")@([^\s]*)(?:[\s]\[([^\]]*)\])?["]?/gi;regEx.HASHTAG=/(^|\s|\\n)#(\S+)/g;regEx.NEWLINE=/\n/g;var _regExForLink=/((?:http\:\/\/|https\:\/\/|www\.)+\S*\.(?:(?:\.\S)*[^\,\s\.])*\/?)/gi;// var _regExForMarkdownLink = /\[([^\]]+)\](|\s)+\(([^\)])+\)/g;
var _regExForMarkdownLink=/\[([^\]]+)\](|\s)\((?:[^)(]+|\((?:[^)(]+|\([^)(]*\))*\))*\)?/g;var str=val||"";var mmntns={};mmntns.sd=new RegExp(/^(d{1})[^d]|[^d](d{1})[^d]/g);mmntns.dd=new RegExp(/^(d{2})[^d]|[^d](d{2})[^d]/g);mmntns.fy=new RegExp(/(y{4})|y{2}/g);var regexkeys=Object.keys(mdre);function matchmap(regexval,stringval){var da=[];var matches=[];// tslint:disable-next-line:no-conditional-assignment
while((da=regexval.exec(stringval))!==null){var keypair={};keypair.index=da.index;keypair.matchexp=da[0];if(da.length>1){for(var n=1;n<da.length;n++){var mstr="matchval"+n.toString();keypair[mstr]=da[n];}}matches.push(keypair);}return matches;}function ucreplacer(match){return match.toUpperCase();}// tslint:disable-next-line:prefer-for-of
for(var j=0;j<regexkeys.length;j++){var k;switch(regexkeys[j]){case"date":var strvald=str;var datematcharray=matchmap(mdre.date,strvald);if(datematcharray.length){for(k=0;k<datematcharray.length;k++){// var fdate = moment(datematcharray[k].matchval).format('DD,dd,MM,YYY');
var fdate=new Date(datematcharray[k].matchval1).toLocaleDateString();fdate=" "+fdate.toString()+" ";str=str.replace(datematcharray[k].matchexp.toString(),fdate);}}break;case"time":var strvalt=str;var timematcharray=matchmap(mdre.time,strvalt);if(timematcharray.length){for(k=0;k<timematcharray.length;k++){var ftime=new Date(timematcharray[k].matchval1).toLocaleTimeString();ftime=" "+ftime.toString()+" ";str=str.replace(timematcharray[k].matchexp.toString(),ftime);}}break;case"datetime":var strvaldt=str;var dtimematcharray=matchmap(mdre.datetime,strvaldt);if(dtimematcharray.length){for(k=0;k<dtimematcharray.length;k++){var ms="";var mergekeylength=Object.keys(dtimematcharray[k]).length-2;for(var l=2;l<mergekeylength;l++){var keystr="matchval"+l.toString();ms+=dtimematcharray[k][keystr];}var foptionstring="matchval"+mergekeylength.toString();var fmtstr=dtimematcharray[k][foptionstring];fmtstr=fmtstr.replace(mmntns.fy,ucreplacer);fmtstr=fmtstr.replace(mmntns.dd,ucreplacer);fmtstr=fmtstr.replace(mmntns.sd,ucreplacer);// var fdtime = new Date(dtimematcharray[k].matchval).toLocaleString();
var fdtime=moment__WEBPACK_IMPORTED_MODULE_3___default()(ms).format(fmtstr);fdtime=" "+fdtime.toString()+" ";str=str.replace(dtimematcharray[k].matchexp.toString(),fdtime);}}break;case"num":var strnumval=str;var nummatcharray=matchmap(mdre.num,strnumval);if(nummatcharray.length){for(k=0;k<nummatcharray.length;k++){var fnum=Number(nummatcharray[k].matchval1).toLocaleString();fnum=" "+fnum.toString()+" ";str=str.replace(nummatcharray[k].matchexp.toString(),fnum);}}break;case"curr":var strcurval=str;var currmatcharray=matchmap(mdre.curr,strcurval);var browserLang="en";if(window.navigator){browserLang=window.navigator.language;}var curcode=new RegExp(/\w{3}/);if(currmatcharray.length){for(k=0;k<currmatcharray.length;k++){// tslint:disable-next-line:one-variable-per-declaration
var currops={};var fcode;currops.style="currency";if(currmatcharray[k].matchval2){fcode=curcode.exec(currmatcharray[k].matchval2);}currops.currency=fcode[0].toString();var fcurr=Number(currmatcharray[k].matchval1).toLocaleString(browserLang,currops);// check for browser support if browser doesnot suppor we get the same value back and we append the currency Code
if(currmatcharray[k].matchval1.toString()===fcurr.toString()){fcurr=" "+fcurr.toString()+" "+currops.currency;}else{fcurr=" "+fcurr.toString()+" ";}str=str.replace(currmatcharray[k].matchexp.toString(),fcurr);}}break;}}function nextLnReplacer(match,p1,offset){return"<br/>";}function ignoreWords(stri){var _words=["onclick","onmouse","onblur","onscroll","onStart"];_words.forEach(function(word){var regEx1=new RegExp(word,"ig");stri=stri.replace(regEx1,"");});return stri;}var nextln=regEx.NEWLINE;// tslint:disable-next-line:variable-name
function linkreplacer(match,p1,offset,string){var dummyString=string.replace(_regExForMarkdownLink,"[]");dummyString=ignoreWords(dummyString);if(dummyString.indexOf(match)!==-1){// tslint:disable-next-line:one-variable-per-declaration
var _link=p1.indexOf("http")<0?"http://"+match:match,_target;// _link = encodeURIComponent(_link);
_target="target='underscoreblank'";if(hyperLinksMap){var _randomKey="korerandom://"+Object.keys(hyperLinksMap).length;hyperLinksMap[_randomKey]=_link;_link=_randomKey;}return"<span class='isLink'><a "+_target+' href="'+_link+'">'+match+"</a></span>";}else{return match;}}// check for whether to linkify or not
try{str=decodeURIComponent(str);}catch(e){str=str||"";}// tslint:disable-next-line:one-variable-per-declaration
var newStr="",wrapper1;if(responseType==="user"){str=str.replace(/onerror=/gi,"abc-error=");wrapper1=document.createElement("div");newStr=str.replace(/“/g,'"').replace(/”/g,'"');newStr=newStr.replace(/</g,"&lt;").replace(/>/g,"&gt;");wrapper1.innerHTML=xssAttack(newStr);if($(wrapper1).find("a").attr("href")){str=newStr;}else{str=newStr.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(_regExForLink,linkreplacer);}}else{wrapper1=document.createElement("div");// str = str.replace(/&lt;/g, '<').replace(/&gt;/g, '>');
wrapper1.innerHTML=xssAttack(str);if($(wrapper1).find("a").attr("href")){var linkArray=str.match(/<a[^>]*>([^<]+)<\/a>/g);// tslint:disable-next-line:prefer-for-of
for(var x=0;x<linkArray.length;x++){var _newLA=document.createElement("div");var _detectedLink=linkArray[x];// for mailto: links, new line character need to be repaced with %0A
if(_detectedLink.indexOf("href='mailto:")>-1||_detectedLink.indexOf('href="mailto:')>-1){_detectedLink=_detectedLink.split("\n").join("%0A");}var _randomKey="korerandom://"+Object.keys(hyperLinksMap).length;_newLA.innerHTML=_detectedLink;var _aEle=_newLA.getElementsByTagName("a");if(_aEle&&_aEle[0]&&_aEle[0].href){hyperLinksMap[_randomKey]=_aEle[0].href;_aEle[0].href=_randomKey;}$(_newLA).find("a").attr("target","underscoreblank");str=str.replace(linkArray[x],_newLA.innerHTML);}}else{str=wrapper1.innerHTML.replace(_regExForLink,linkreplacer);}}str=helpers.checkMarkdowns(str,hyperLinksMap);var hrefRefs=Object.keys(hyperLinksMap);if(hrefRefs&&hrefRefs.length){hrefRefs.forEach(function(hrefRef){function customStrReplacer(){// custom replacer is used as by default replace() replaces with '$' in place of '$$'
return hyperLinksMap[hrefRef];}str=str.replace(hrefRef,customStrReplacer);});}str=str.replaceAll('target="underscoreblank"','target="_blank"',str);str=str.replaceAll("target='underscoreblank'",'target="_blank"',str);if(responseType==="user"){str=str.replace(/abc-error=/gi,"onerror=");}return helpers.nl2br(str,true);},checkMarkdowns:function checkMarkdowns(val,hyperLinksMap){var txtArr=val.split(/\r?\n/);for(var i=0;i<txtArr.length;i++){var _lineBreakAdded=false;if(txtArr[i].indexOf("#h6")===0||txtArr[i].indexOf("#H6")===0){txtArr[i]="<h6>"+txtArr[i].substring(3)+"</h6>";_lineBreakAdded=true;}else if(txtArr[i].indexOf("#h5")===0||txtArr[i].indexOf("#H5")===0){txtArr[i]="<h5>"+txtArr[i].substring(3)+"</h5>";_lineBreakAdded=true;}else if(txtArr[i].indexOf("#h4")===0||txtArr[i].indexOf("#H4")===0){txtArr[i]="<h4>"+txtArr[i].substring(3)+"</h4>";_lineBreakAdded=true;}else if(txtArr[i].indexOf("#h3")===0||txtArr[i].indexOf("#H3")===0){txtArr[i]="<h3>"+txtArr[i].substring(3)+"</h3>";_lineBreakAdded=true;}else if(txtArr[i].indexOf("#h2")===0||txtArr[i].indexOf("#H2")===0){txtArr[i]="<h2>"+txtArr[i].substring(3)+"</h2>";_lineBreakAdded=true;}else if(txtArr[i].indexOf("#h1")===0||txtArr[i].indexOf("#H1")===0){txtArr[i]="<h1>"+txtArr[i].substring(3)+"</h1>";_lineBreakAdded=true;}else if(txtArr[i].length===0){txtArr[i]="\r\n";_lineBreakAdded=true;}else if(txtArr[i].indexOf("*")===0){if(!helpers.isEven(txtArr[i].split("*").length-1)){txtArr[i]="\r\n&#9679; "+txtArr[i].substring(1);_lineBreakAdded=true;}}else if(txtArr[i].indexOf(">>")===0){txtArr[i]='<p class="indent">'+txtArr[i].substring(2)+"</p>";_lineBreakAdded=true;}else if(txtArr[i].indexOf("&gt;&gt;")===0){txtArr[i]='<p class="indent">'+txtArr[i].substring(8)+"</p>";_lineBreakAdded=true;}else if(txtArr[i].indexOf("---")===0||txtArr[i].indexOf("___")===0){txtArr[i]="<hr/>"+txtArr[i].substring(3);_lineBreakAdded=true;}var j;// Matches Image markup ![test](http://google.com/image.png)
if(txtArr[i].indexOf(" ![")===-1){// replace method trimming last'$' character, to handle this adding ' ![' extra space
txtArr[i]=txtArr[i].replace("!["," ![");}var _matchImage=txtArr[i].match(/\!\[([^\]]+)\](|\s)+\(([^\)])+\)/g);if(_matchImage&&_matchImage.length>0){for(j=0;j<_matchImage.length;j++){var _imgTxt=_matchImage[j].substring(2,_matchImage[j].indexOf("]"));var remainingString=_matchImage[j].substring(_matchImage[j].indexOf("]")+1).trim();var _imgLink=remainingString.substring(1,remainingString.indexOf(")"));if(hyperLinksMap){var _randomKey="korerandom://"+Object.keys(hyperLinksMap).length;hyperLinksMap[_randomKey]=_imgLink;_imgLink=_randomKey;}_imgLink='<img src="'+_imgLink+'" alt="'+_imgTxt+'">';var _tempImg=txtArr[i].split(" ");for(var k=0;k<_tempImg.length;k++){if(_tempImg[k]===_matchImage[j]){_tempImg[k]=_imgLink;}}txtArr[i]=_tempImg.join(" ");txtArr[i]=txtArr[i].replace(_matchImage[j],_imgLink);}}// Matches link markup [test](http://google.com/)
/// var _matchLink = txtArr[i].match(/\[([^\]]+)\](|\s)+\(([^\)])+\)/g);
var _matchLink=txtArr[i].match(/\[([^\]]+)\](|\s)\((?:[^)(]+|\((?:[^)(]+|\([^)(]*\))*\))*\)?/g);if(_matchLink&&_matchLink.length>0){for(j=0;j<_matchLink.length;j++){var _linkTxt=_matchLink[j].substring(1,_matchLink[j].indexOf("]"));var remainingString=_matchLink[j].substring(_matchLink[j].indexOf("]")+1).trim();var _linkLink=remainingString.substring(1,remainingString.indexOf(")"));_linkLink=_linkLink.replace(/\\n/g,"%0A");if(hyperLinksMap){var _randomKey="korerandom://"+Object.keys(hyperLinksMap).length;hyperLinksMap[_randomKey]=_linkLink;_linkLink=_randomKey;}_linkLink='<span class="isLink"><a href="'+_linkLink+'" target="underscoreblank">'+helpers.checkMarkdowns(_linkTxt,null)+"</a></span>";txtArr[i]=txtArr[i].replace(_matchLink[j],_linkLink);}}// Matches bold markup *test* doesnot match * test *, * test*. If all these are required then replace \S with \s
var _matchAstrik=txtArr[i].match(/\*\S([^*]*?)\*/g);if(_matchAstrik&&_matchAstrik.length>0){for(j=0;j<_matchAstrik.length;j++){var _boldTxt=_matchAstrik[j];_boldTxt=_boldTxt.substring(1,_boldTxt.length-1);_boldTxt="<b>"+_boldTxt.trim()+"</b>";txtArr[i]=txtArr[i].replace(_matchAstrik[j],_boldTxt);}}// For backward compatability who used ~ for Italics
// Matches italic markup ~test~ doesnot match ~ test ~, ~test ~, ~ test~. If all these are required then replace \S with \s
var _matchItalic=txtArr[i].match(/\~\S([^*]*?)\S\~/g);if(_matchItalic&&_matchItalic.length>0){for(j=0;j<_matchItalic.length;j++){var _italicTxt=_matchItalic[j];if(txtArr[i].indexOf(_italicTxt)===0||txtArr[i][txtArr[i].indexOf(_italicTxt)-1]===" "||txtArr[i].indexOf(_italicTxt)!==-1){_italicTxt=_italicTxt.substring(1,_italicTxt.length-1);_italicTxt='<i class="markdownItalic">'+_italicTxt+"</i>";txtArr[i]=txtArr[i].replace(_matchItalic[j],_italicTxt);}}}// Matches italic markup _test_ doesnot match _ test _, _test _, _ test_. If all these are required then replace \S with \s
var _matchItalic1=txtArr[i].match(/\_\S([^*]*?)\S\_/g);if(_matchItalic1&&_matchItalic1.length>0){for(j=0;j<_matchItalic1.length;j++){var _italicTxt=_matchItalic1[j];if(txtArr[i].indexOf(_italicTxt)===0||txtArr[i][txtArr[i].indexOf(_italicTxt)-1]===" "||txtArr[i].indexOf(_italicTxt)!==-1){_italicTxt=_italicTxt.substring(1,_italicTxt.length-1);_italicTxt='<i class="markdownItalic">'+_italicTxt+"</i>";txtArr[i]=txtArr[i].replace(_matchItalic1[j],_italicTxt);}}}// Matches bold markup ~test~ doesnot match ~ test ~, ~test ~, ~ test~. If all these are required then replace \S with \s
var _matchItalic13=txtArr[i].match(/\~\S([^*]*?)\S\~/g);if(_matchItalic13&&_matchItalic13.length>0){for(j=0;j<_matchItalic13.length;j++){var _italicTxt=_matchItalic13[j];if(txtArr[i].indexOf(_italicTxt)===0||txtArr[i][txtArr[i].indexOf(_italicTxt)-1]===" "||txtArr[i].indexOf(_italicTxt)!==-1){_italicTxt=_italicTxt.substring(1,_italicTxt.length-1);_italicTxt='<i class="markdownItalic">'+_italicTxt+"</i>";txtArr[i]=txtArr[i].replace(_matchItalic13[j],_italicTxt);}}}// Matches bold markup ~test~ doesnot match ~ test ~, ~test ~, ~ test~. If all these are required then replace \S with \s
var _matchPre=txtArr[i].match(/\`\`\`\S([^*]*?)\S\`\`\`/g);var _matchPre1=txtArr[i].match(/\'\'\'\S([^*]*?)\S\'\'\'/g);if(_matchPre&&_matchPre.length>0){for(j=0;j<_matchPre.length;j++){var _preTxt=_matchPre[j];_preTxt=_preTxt.substring(3,_preTxt.length-3);_preTxt="<pre>"+_preTxt+"</pre>";txtArr[i]=txtArr[i].replace(_matchPre[j],_preTxt);}_lineBreakAdded=true;}if(_matchPre1&&_matchPre1.length>0){for(j=0;j<_matchPre1.length;j++){var _preTxt=_matchPre1[j];_preTxt=_preTxt.substring(3,_preTxt.length-3);_preTxt="<pre>"+_preTxt+"</pre>";txtArr[i]=txtArr[i].replace(_matchPre1[j],_preTxt);}_lineBreakAdded=true;}if(!_lineBreakAdded&&i>0){txtArr[i]="\r\n"+txtArr[i];}}val=txtArr.join("");return val;},isEven:function isEven(n){n=Number(n);return n===0||!!(n&&!(n%2));}};function koreGenerateUUID(){console.info("generating UUID");var d=new Date().getTime();if(window.performance&&typeof window.performance.now==="function"){d+=performance.now();//use high-precision timer if available
}var uuid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=(d+generateRandomNum()*16)%16|0;d=Math.floor(d/16);return(c=="x"?r:r&0x3|0x8).toString(16);});return uuid;}function generateRandomNum(){var dateObj=new Date();var month=dateObj.getUTCMonth()+1;var day=dateObj.getUTCDate();var year=dateObj.getUTCFullYear();var seconds=dateObj.getSeconds();var minutes=dateObj.getMinutes();var hour=dateObj.getHours();var generatedNum=year*month*day*(hour+minutes*seconds);return generatedNum;}function b64EncodeUnicode(str){// first we use encodeURIComponent to get percent-encoded UTF-8,
// then we convert the percent encodings into raw bytes which
// can be fed into btoa.
return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,function toSolidBytes(match,p1){return String.fromCharCode("0x"+p1);}));}function b64DecodeUnicode(str){// Going backwards: from bytestream, to percent-encoding, to original string.
return decodeURIComponent(atob(str).split("").map(function(c){return"%"+("00"+c.charCodeAt(0).toString(16)).slice(-2);}).join(""));}FindlySDK.prototype.unlockBot=function(){var _self=this;var payload={userId:_self.API.uuid,streamId:_self.API.streamId,lang:"en"};var url=_self.API.unlockbotUrl;var bearer="bearer "+this.bot.options.accessToken||0||0;var headers={};headers["Authorization"]=bearer;headers["Content-Type"]="application/json";payload.userId=this.bot.userInfo.userInfo.userId;payload.streamId=this.bot.options.botInfo.taskBotId;payload.botInfo=this.bot.options.botInfo;if(!_self.isDev){if(_self.config.botOptions.assertion){headers.auth=_self.config.botOptions.assertion;}payload["client"]="sdk";}else{payload["client"]="botbuilder";}payload=JSON.stringify(payload);return $.ajax({url:url,type:"POST",dataType:"json",headers:headers,data:payload,success:function success(data){},error:function error(err){}});};FindlySDK.prototype.checkIsPreviousLiveSearchDataExists=function(){var _self=this;if($("body").hasClass("top-down")){if($(".live-search-data-container").children().length>0){if(_self.vars.enterIsClicked||!$(".search-top-down").val()){$("#live-search-result-box").hide();return;}$("#live-search-result-box").show();}else{$("#live-search-result-box").hide();}}else{$(".searchBox.Search-BG-Copy").remove();$(".search-body .finalResults").show();}};FindlySDK.prototype.getAvatarTopLeft=function(){var _self=this;var position={};if(window.localStorage.getItem("avatarPosition")){// override existing positions
position=JSON.parse(window.localStorage.getItem("avatarPosition"));}else{// give default values and set to localStorage
position["x"]=document.documentElement.clientWidth-100;position["y"]=document.documentElement.clientHeight-100;}_self.position=position;return position;};FindlySDK.prototype.positionAvatar=function(position){$(".start-search-icon-div").css("left",position.x);$(".start-search-icon-div").css("top",position.y);if(!avatarDisplayedOnce){this.positionAvatarIntro(position);}};FindlySDK.prototype.positionAvatarIntro=function(position){if(!(position||{}).x&&window.localStorage.getItem("avatarPosition")){position=JSON.parse(window.localStorage.getItem("avatarPosition"));}if(position.x>=$("#introText").width()){if(position.x>=$("body").width()-80){$("#introText").css("left",$("body").width()-60-$("#introText").width());}else{$("#introText").css("left",position.x-$("#introText").width());}}else{$("#introText").css("left",2);}$("#introText").css("top",position.y-59);$("#introText").css("display","block");};FindlySDK.prototype.positionContainer=function(position){var _self=this;if(position&&Object.values(position).length){// set x and y to container
var containerPosition=_self.calculateContainerPosition(position);$(".search-container").css("left",containerPosition.x);$(".search-container").css("top",containerPosition.y);$(".start-search-icon-div").animate({top:containerPosition.y,left:containerPosition.x},"fast");setTimeout(function(){$(".search-container").css("display","block");$(".search-container").css("height","0");$(".search-container").animate({height:containerHeight});$("#search").focus();$(".start-search-icon-div").css("top",position.y);$(".start-search-icon-div").css("left",position.x);$(".start-search-icon-div").addClass("hideStartIcon");},200);}};FindlySDK.prototype.calculateContainerPosition=function(position){var containerPosition={x:position.x,y:position.y};var cWidth=$(".search-container").outerWidth();containerHeight=$("body").height()-64||containerHeight;$(window).height();// containerHeight = $(window). height() - 64 || containerHeight;
var cHeight=containerHeight;var widthFactor=20;var heightFactor=10;if(position.x+cWidth>window.outerWidth){if(position.x-(cWidth+widthFactor)>10){containerPosition.x=position.x-(cWidth+widthFactor);}else{containerPosition.x=containerPosition.x-widthFactor;}}else{containerPosition.x=position.x+widthFactor;}if(position.y+cHeight>document.documentElement.clientHeight){if(position.y-(cHeight+heightFactor)>10){containerPosition.y=position.y-(cHeight+heightFactor);}else{containerPosition.y=position.y-cHeight>0?position.y-cHeight:heightFactor;}}else{containerPosition.y=position.y+heightFactor;}return containerPosition;};FindlySDK.prototype.searchHistroy=function(findlyConfig){var _self=this;// var headers = {
//   "Authorization": 'bearer ' + this.bot.options.accessToken,
//   "Content-Type": "application/json"
// };
var headers={};var bearer="bearer "+this.bot.options.accessToken;headers["Authorization"]=bearer;headers["Content-Type"]="application/json";headers.auth=_self.config.botOptions.assertion;// var userConfig = {
//   "clientId": findlyConfig.botOptions.clientId, 
//   // "identity": "cs-f0cba3cc-4054-503c-a9cc-f25d257305ce__b8a7c380-0810-4000-8000-000000000000"       
//   "userIdentity": findlyConfig.botOptions.userIdentity,
// };
var dataObj={userConfig:{"clientId":_self.config.botOptions.clientId,"userIdentity":_self.config.botOptions.userIdentity}};var skip=_self.vars.historySkip;var limit=_self.vars.historyLimit;if(_self.vars.loadingHistory){return;}else{_self.vars.loadingHistory=true;}return $.ajax({url:this.API.searchHistroyUrl+"?skip="+skip+"&limit="+limit,type:'post',// data: JSON.stringify(userConfig),
data:JSON.stringify(dataObj),dataType:'json',headers:headers,success:function success(data){_self.vars.loadingHistory=false;_self.vars.isHistroyloaded=data.hasMore;if(_self.vars.isHistroyloaded){_self.vars.historySkip=_self.vars.historySkip+1;}data=data.history;if(skip==0){$('#histroyChatContainer').empty();}if((data||[]).length){data.forEach(function(history){var messageData={};if(history.type==='request'){messageData.text=history.query;messageData.from='user';messageData.timeStamp=_self.extractTime(history.timestamp);messageData.isFromHistory=true;//messageData.timestamp = history.timestamp;
}else{messageData.text='Sure, please find the matched results below';messageData.from='bot';messageData.count=_self.countTotalResults(history.response.message[0].component.payload.template,0);messageData.timeStamp=_self.extractTime(history.timestamp);}var viewType=_self.vars.customizeView?'Customize':'Preview';var devMode=_self.isDev?true:false;var templateMessageBubble=$(_self.getSearchTemplate('messageBubbles')).tmplProxy({msgData:messageData,devMode:devMode,viewType:viewType,helpers:helpers});$('#histroyChatContainer').append(templateMessageBubble);$('#searchChatContainer').animate({scrollTop:$('#searchChatContainer').scrollTop()+$('.userMessage').last().parent().position().top-60},500);});$('#histroyChatContainer').off('click','.search-agin-tag').on('click','.search-agin-tag',function(e){var seachQuery=$(e.target).closest('.search-agin-tag').attr('title');$('#search').val(seachQuery).focus();_self.vars.searchObject.searchText=seachQuery;_self.vars.showingMatchedResults=true;_self.searchFacetsList([]);var event=$.Event("keydown",{which:13});$('#search').trigger(event);});$('#searchBox').off('scroll','.sdk-chat-container').on('scroll','.sdk-chat-container',function(e){e.stopPropagation();if($('.sdk-chat-container').scrollTop()==0&&!$('#histroybutton').is(':visible')){if(_self.vars.isHistroyloaded&&!_self.dev){$('#histroybutton').hide();$('#histroyChatContainer').show();_self.searchHistroy(_self.vars.configuration);}}});if(!_self.vars.isHistroyloaded){$('#histroyChatContainer').append("<div class=\"history-timp-stamp\">\n          <span>Today</span>\n          </div>");}}// options.assertion = data.jwt;
// if (callback) {
//   callback(null, options);
// }
},error:function error(err){}});};var isDragging=false;var position={};var containerHeight=$("body").height()-64||550;// var containerHeight = $(window). height() - 64 || 550;
var avatarDisplayedOnce=false;FindlySDK.prototype.configureSearchAvatar=function(config){$("body").append("<div class=\"botMessage\" id=\"introText\" style=\"color:".concat(config.welcomeMsgColor,";background:").concat(config.welcomeMsgFillColor,"\"><span>").concat(config.welcomeMsg,"</span></div>"));$("#introText").css("position","absolute");$(".search-container").css("display","none");$("body").append("<div class=\"start-search-icon-div draggable\" id=\"start-search-icon-div\"><img src=\"".concat(config.avatarURL,"\"></div>"));var _self=this;var avPosition=_self.getAvatarTopLeft();_self.positionAvatar(avPosition);// set position to avatar
$(".start-search-icon-div").off("click").on("click",function(){$("#introText").css("display","none");if(_self.vars.searchObject&&_self.vars.searchObject.recents&&_self.vars.searchObject.recents.length===0){_self.vars.searchObject.recents.push("");window.localStorage.setItem("recents",JSON.stringify(_self.vars.searchObject.recents));$(".search-body").hide();$("#searchChatContainer").css("opacity",1);}else if(_self.vars.searchObject&&_self.vars.searchObject.recents&&_self.vars.searchObject.recents.length===1&&_self.vars.searchObject.recents[0]===""){$(".search-body").hide();$("#searchChatContainer").addClass("bgfocus");$("#searchChatContainer").css("opacity",1);}if(!_self.isDragging){setTimeout(function(){_self.positionContainer(_self.getAvatarTopLeft());// set position to container
if($(".start-search-icon-div").css("display")=="none"){// // anyway this will not execute
}else{}$(".conversation").css("height",containerHeight);$("#searchChatContainer").css("height",containerHeight-100);avatarDisplayedOnce=true;},100);}});if($(".start-search-icon-div")){var element;element=$(".start-search-icon-div")[0];$(element).draggable({drag:function drag(event){_self.isDragging=true;$('#introText').css('display','none');if(event.clientX>window.outerWidth){}},stop:function stop(event,ui){// set ClientX and ClientY
var position={};if(event.clientX){position['x']=event.clientX-25;}if(event.clientY){position['y']=event.clientY-23;}if(position.y<50){position.y=50;}_self.position=position;setTimeout(function(){_self.isDragging=false;window.localStorage.setItem('avatarPosition',JSON.stringify(position));_self.positionAvatar(position);// set position to avatar
},100);},containment:'body'});}};FindlySDK.prototype.suggestionSelectedByNavigationKeys=function(e){var _self=this;if($("body").hasClass("top-down")){var $hlight=$(".suggestion-box.highlightSuggestion"),$div=$(".suggestion-box");if(e.keyCode==40){$hlight.removeClass("highlightSuggestion").next().addClass("highlightSuggestion");if($hlight.next().length==0){$div.eq(0).addClass("highlightSuggestion");}if(!_self.vars.isQueryEntered){_self.vars.enteredQuery=$('.search-top-down').val();}var querySuggestionId=$(".suggestion-box.highlightSuggestion .sugg-query-box").attr("id");$(".search-top-down").val(querySuggestionId);$(".top-down-suggestion").val("");_self.vars.isQueryEntered=true;}else if(e.keyCode===38){$hlight.removeClass("highlightSuggestion").prev().addClass("highlightSuggestion");if($hlight.prev().length==0){$div.eq(-1).addClass("highlightSuggestion");}if(!_self.vars.isQueryEntered){_self.vars.enteredQuery=$('.search-top-down').val();}var querySuggestionId=$(".suggestion-box.highlightSuggestion .sugg-query-box").attr("id");$(".search-top-down").val(querySuggestionId);$(".top-down-suggestion").val("");_self.vars.isQueryEntered=true;}}else{var $hlight=$(".search-suggested-title.highlightSuggestion"),$div=$(".search-suggested-title");if(e.keyCode==40){$hlight.removeClass("highlightSuggestion").next().addClass("highlightSuggestion");if($hlight.next().length==0||$hlight.next().hasClass("ps__rail-x")){$(".bottom-to-top-suggestion").animate({scrollTop:0},300);$div.eq(0).addClass("highlightSuggestion");}else{$(".bottom-to-top-suggestion").animate({scrollTop:$(".bottom-to-top-suggestion").scrollTop()+34},300);}if(!_self.vars.isQueryEntered){_self.vars.enteredQuery=$('.bottom-up-search').val();}var querySuggestionId=$(".search-suggested-title.highlightSuggestion").attr("suggestion");$(".bottom-up-search").val(querySuggestionId);$(".bottom-up-suggestion").val("");_self.vars.isQueryEntered=true;}else if(e.keyCode===38){$hlight.removeClass("highlightSuggestion").prev().addClass("highlightSuggestion");if($hlight.prev().length==0){$div.eq(-1).addClass("highlightSuggestion");$(".bottom-to-top-suggestion").animate({scrollTop:$(".bottom-to-top-suggestion").prop("scrollHeight")},300);}else{$(".bottom-to-top-suggestion").animate({scrollTop:$(".bottom-to-top-suggestion").scrollTop()-34},300);}if(!_self.vars.isQueryEntered){_self.vars.enteredQuery=$('.bottom-up-search').val();}var querySuggestionId=$(".search-suggested-title.highlightSuggestion").attr("suggestion");$(".bottom-up-search").val(querySuggestionId);$(".bottom-up-suggestion").val("");_self.vars.isQueryEntered=true;}}if(e.keyCode===27){$hlight.removeClass("highlightSuggestion");$div.eq(0).addClass("highlightSuggestion");if($hlight.prev().length==0||$hlight.next().length==0){$div.eq(0).addClass("highlightSuggestion");}if(!$('body').hasClass('top-down')){$('.bottom-to-top-suggestion').scrollTop(0);}}};FindlySDK.prototype.clickNavigateToUrl=function(e){var _self=this;if(e!==null&&e!==void 0&&e.target){// _self.captureClickAnalytics(
//   e,
//   $(e.currentTarget).closest(".faqs-shadow").attr("contentType"),
//   "click",
//   $(e.currentTarget).closest(".faqs-shadow").attr("contentId"),
//   $(e.currentTarget).closest(".faqs-shadow").attr("id"),
//   $(e.currentTarget).attr("title")
// );
if($(e.target).is("a")){if($(e.target).attr("href")){// window.open($(e.target).attr('href'), '_blank');
var link=document.createElement("a");link.href=$(e.target).attr("href");link.target="_blank",link.click();link.remove();}}else{if($(e.target).closest(".click-to-navigate-url").attr("href")){// window.open($(e.target).closest('.click-to-navigate-url').attr('href'), '_blank');
var link=document.createElement("a");link.href=$(e.target).closest(".click-to-navigate-url").attr("href");link.target="_blank",link.click();link.remove();}}}};FindlySDK.prototype.showTypingIndicator=function(){var _self=this;clearTimeout(indicatorTimer);indicatorTimer=setTimeout(function(){if($(".searchAssist-kore-chat-window.search-container").hasClass("active")){$(".typingIndicatorContent").css("display","block");}else{_self.showTypingIndicator();}},500);};FindlySDK.prototype.trimSearchQuery=function(e){var keyCode=e.keyCode||e.which;keyCode=Number(keyCode);if(e.target.selectionStart!==($('body').hasClass('top-down')?$('.search-top-down').val():$('.bottom-up-search').val()).length&&keyCode!==13){return;}if(!$("body").hasClass("top-down")&&$(".bottom-up-search").val()&&$(".bottom-up-search").val().length==1){$(".bottom-up-search").val($(".bottom-up-search").val().trim());}else if(!$("body").hasClass("top-down")&&$(".bottom-up-search").val()&&$(".bottom-up-search").val().length>1){$(".bottom-up-search").val($(".bottom-up-search").val().replace(/\s\s+/g," "));if($(".bottom-up-search").val().charAt(0)==" "){$(".bottom-up-search").val($(".bottom-up-search").val().substring(1,$(".bottom-up-search").val().length));}}if($("body").hasClass("top-down")&&$(".search-top-down").val()&&$(".search-top-down").val().length==1){$(".search-top-down").val($(".search-top-down").val().trim());}else if($("body").hasClass("top-down")&&$(".search-top-down").val()&&$(".search-top-down").val().length>1){$(".search-top-down").val($(".search-top-down").val().replace(/\s\s+/g," "));if($(".search-top-down").val().charAt(0)==" "){$(".search-top-down").val($(".search-top-down").val().substring(1,$(".search-top-down").val().length));}}};FindlySDK.prototype.getPopularSearchTemplate=function(){return'<script id="popular_tmpl" type="text/x-jqury-tmpl"> \
     {{each(key, data) popularSearches}}\
     <div class="pl-5">\
     <div class="suggestion-text">\
       <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAANCAYAAACZ3F9/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEtSURBVHgBlVJNTsJgFJxX6lYb40J3HwHX9gh6AvUEwglMVy7hBuIJwCN4AmDpirq2wDtClyZWPqf0hwqWhEmavm++N33zJhVUYIzxALcDR65grYFFSPpNNZpgC42N6NKHyBiQcwqmfL8D9gKCJ+/0zPdOjqdxHH8V/ZJPMhB3ximB6ny05cLAcZ/TWhfRPf5etobGtPuoQbqCabaW7LkuOGe9l0gHSEZ1QlWNYeWVuz+UQuDI0LGmwF7YECsGthF+xyQ9HAinmFT1X4NbDvgoDm7mAi/Mt8dq8p8iS5052KRZcFJeNtsznhSrJKjuy8TvKBqyDHUZ3ewI86YBmx7TJj7cHT7tMFEE5HsQG+pi3t0R5rbS344CMesp+hmWvLjj3FVXcACyjzYGwE//F5fNZ2bVtWT6AAAAAElFTkSuQmCC">\
       <span id="popular-search-text" title="${data.query}">${data.query}</span>\
     </div>\
   </div>\
   {{/each}}\
     </script>';};FindlySDK.prototype.appendPopularSearchResults=function(popularSearches){var _self=this;$("#popular-search-results").empty();var template=$(_self.getPopularSearchTemplate("popularSearchTemplate")).tmplProxy({popularSearches:popularSearches});$("#popular-search-results").append(template);$("#popular-search-results").off("click","#popular-search-text").on("click","#popular-search-text",function(e){var queryText=$(this).attr("title");$("#search").val(queryText);_self.vars.searchObject.searchText=queryText;_self.vars.showingMatchedResults=true;_self.searchFacetsList([]);var e=$.Event("keydown",{which:13});$("#search").trigger(e);});$(".default-add").off("click",".close-add").on("click",".close-add",function(e){$(".default-add").hide();});$(".store-updates-block").off("click",".store-tag-names").on("click",".store-tag-names",function(e){var queryText=$(this).attr("title");$("#search").val(queryText);_self.vars.searchObject.searchText=queryText;_self.vars.showingMatchedResults=true;_self.searchFacetsList([]);var e=$.Event("keydown",{which:13});$("#search").trigger(e);});};FindlySDK.prototype.showMoreClick=function(showMoreData){var _self=this;if(showMoreData){var url=_self.API.searchUrl;var payload={query:_self.vars.searchObject.searchText,// "maxNumOfResults": 9,
maxNumOfResults:5,userId:_self.API.uuid,streamId:_self.API.streamId,lang:"en",// "isDev": true,
isDev:_self.isDev,searchRequestId:_self.vars.requestId};if(_self.vars.isFilterModified){payload['isFilterModified']=true;}if(_self.isDev){payload["customize"]=_self.vars.customizeView;}if(_self.vars.displaySortable){payload['sortableFacets']=[_self.vars.displaySortable];}if(showMoreData){if(showMoreData.fieldName){payload["resultGroups"]={filter:{fieldName:showMoreData.fieldName,facetValue:[showMoreData.groupName]}};}else if(showMoreData.groupName=="defaultTemplate"){payload["defaultGroups"]=_self.vars.availableGroupsList;}payload["pageNumber"]=showMoreData.pageNumber;}if(_self.vars.filterObject.length>0){payload.filters=JSON.parse(JSON.stringify(_self.vars.filterObject));}if(_self.vars.selectedFacetFromSearch&&_self.vars.selectedFacetFromSearch!=="all results"){var tabConfig={filter:{fieldName:_self.vars.tabFacetFieldName,facetValue:[_self.vars.selectedFacetFromSearch]}};payload.tabConfig=tabConfig;}else{var filters=payload.filters;for(var _i6=(filters||[]).length-1;_i6>=0;_i6--){if(filters[_i6].facetValue[0]=="faq"||filters[_i6].facetValue[0]=="task"||filters[_i6].facetValue[0]=="web"||filters[_i6].facetValue[0]=="file"||filters[_i6].facetValue[0]=="data"){payload.filters.splice(_i6,1);}}}if(_self.vars.resultRankingActionPerformed==true){_self.vars.resultRankingActionPerformed=false;}return new Promise(function(resolve,reject){_self.getFrequentlySearched(url,"POST",JSON.stringify(payload)).then(function(data){data.showMore=true;data.pageNumber=showMoreData.pageNumber;data.groupName=showMoreData.groupName;_self.getMergedData(_self.vars.resultSettings,data,'isFullResults').then(function(res){resolve(res);});})["catch"](function(error){reject(error);});});}};FindlySDK.prototype.rearrangeTabsList=function(facets){var _self=this;var rearrangeList=[];if(_self.vars.defaultTabsList.length){var allResultObj=facets.find(function(t){return t.key==="all results";});if(allResultObj){rearrangeList.push(allResultObj);}_self.vars.defaultTabsList.forEach(function(tab){var facetObj=facets.find(function(t){return t.key===tab.fieldValue;});if(facetObj){rearrangeList.push(facetObj);}});}else{rearrangeList=facets;}return rearrangeList;};FindlySDK.prototype.fullResultsScrollTop=function(){$(".scroll-top-container").css("display","none");if($("body").hasClass("top-down")){$(".content-data-sec").off("scroll").on("scroll",function(){if($(".content-data-sec").scrollTop()>50){$(".scroll-top-container").css("display","flex");}else{$(".scroll-top-container").css("display","none");}});$(".title-scroll-top").off("click").on("click",function(){$(".content-data-sec").scrollTop(0);});}else{$(".data-body-sec").off("scroll").on("scroll",function(){if($(".data-body-sec").scrollTop()>50){$(".scroll-top-container").css("left",$(".show-all-results-outer-wrap").width()/2+$(".show-all-results-outer-wrap").position().left);$(".scroll-top-container").css("display","flex");}else{$(".scroll-top-container").css("display","none");}});$(".title-scroll-top").off("click").on("click",function(){$(".data-body-sec").scrollTop(0);});}};FindlySDK.prototype.extractTime=function(timeStamp){if(timeStamp){var d=new Date(timeStamp);// var hours_min = d.getHours() + ":" + d.getMinutes() + ", " + d.toDateString();
var hours_min=d.getHours()+":"+d.getMinutes();hours_min=moment__WEBPACK_IMPORTED_MODULE_3___default()(timeStamp).format('LT');return hours_min;}};FindlySDK.prototype.countTotalResults=function(res,totalResultsCount){var _self=this;if(res&&res.results&&res.resultType=="grouped"){var availableGroups=Object.keys(res.results);_self.vars.availableGroupsOrder=availableGroups;if(!(res.tabFacet||{}).buckets){totalResultsCount=0;}else{res.tabFacet.buckets.forEach(function(d){totalResultsCount=totalResultsCount+d.doc_count;});_self.vars.totalNumOfResults=totalResultsCount;}if(availableGroups&&availableGroups.length){availableGroups.forEach(function(group){if(!(res.tabFacet||{}).buckets){totalResultsCount=totalResultsCount+res.results[group].doc_count;}});}_self.vars.totalNumOfResults=totalResultsCount+(res.tasks||[]).length;}else{var results=res.results.data;if(!(res.tabFacet||{}).buckets){totalResultsCount=res.results.doc_count||0;}_self.vars.totalNumOfResults=totalResultsCount+(res.tasks||[]).length;}return _self.vars.totalNumOfResults;};FindlySDK.prototype.getJWT=function(options,callback){var me=this;var jsonData={clientId:options.clientId,clientSecret:options.clientSecret,identity:options.userIdentity,aud:"",isAnonymous:false};return $.ajax({url:options.JWTUrl,type:"post",data:jsonData,dataType:"json",success:function success(data){options.assertion=data.jwt;if(!me.vars.sdkInitialized){me.initSearchAssistSDK(me.config);me.vars.sdkInitialized=true;}if(callback){callback(null,options);}},error:function error(err){}});};FindlySDK.prototype.getMergedData=function(settingData,responseData,searchType){var _this12=this;return new Promise(function(resolve,reject){var response=Object.assign({},responseData.template);var _self=_this12;settingData=settingData.settings||[];var configurationSettings={};var isFullResults=false;var isSearch=false;var isLiveSearch=false;_self.vars.mergedData=[];if(searchType=='isFullResults'){isFullResults=true;searchType='fullSearch';}else if(searchType=='isSearch'){isSearch=true;searchType="conversationalSearch";}else if(searchType=='isLiveSearch'){isLiveSearch=true;searchType="liveSearch";}var selected={};if(settingData&&settingData.length){settingData.forEach(function(config){var availableGroupNames=[];if(config["interface"]===searchType){if(config.groupResults){availableGroupNames=config.groupSetting.conditions.map(function(group){return group.fieldValue;});}if(config["interface"]==="fullSearch"){_self.vars.availableGroupsList={'filter':{'fieldName':config.groupSetting.fieldName,'facetValue':availableGroupNames}};}// var agIndex  = availableGroupNames.findIndex((d)=> d =='defaultTemplate');
// if(agIndex>-1){
availableGroupNames.push('defaultTemplate');// }
availableGroupNames.forEach(function(group){if(!configurationSettings[group+'Config']){configurationSettings[group+'Config']={liveSearchInterface:{layout:{}},conversationalSearchInterface:{layout:{}},fullSearchInterface:{layout:{}}};}});//design template config start//
var conditions=[];if(config.groupResults){conditions=config.groupSetting.conditions;}conditions.push({"fieldValue":'defaultTemplate',"template":config.defaultTemplate});conditions.forEach(function(condition){var template=condition.template||{};// writing conditions only for StructuredData
if(template&&template.layout){configurationSettings[condition.fieldValue+'Config'][config["interface"]+'Interface']=template;if(template.layout&&template.layout.layoutType){configurationSettings[condition.fieldValue+'Config'][config["interface"]+'Interface'].layout.templateType=template.type;configurationSettings[condition.fieldValue+'Config'][config["interface"]+'Interface'].layout.template='';configurationSettings[condition.fieldValue+'Config'][config["interface"]+'Interface'].layout.maxSearchResultsAllowed=5;configurationSettings[condition.fieldValue+'Config'][config["interface"]+'Interface'].layout.layoutType=template.layout.layoutType;configurationSettings[condition.fieldValue+'Config'][config["interface"]+'Interface'].layout.textAlignment=template.layout.textAlignment;configurationSettings[condition.fieldValue+'Config'][config["interface"]+'Interface'].layout.listType=template.layout.listType;configurationSettings[condition.fieldValue+'Config'][config["interface"]+'Interface'].layout.isClickable=template.layout.isClickable;configurationSettings[condition.fieldValue+'Config'][config["interface"]+'Interface'].layout.behaviour=template.layout.behaviour;configurationSettings[condition.fieldValue+'Config'][config["interface"]+'Interface'].layout.renderTitle=template.layout.renderTitle;configurationSettings[condition.fieldValue+'Config'][config["interface"]+'Interface'].layout.title=template.layout.title;configurationSettings[condition.fieldValue+'Config'][config["interface"]+'Interface'].mapping=template.mapping;configurationSettings[condition.fieldValue+'Config'][config["interface"]+'Interface'].groupResults=condition.fieldValue=='defaultTemplate'?false:config.groupResults;configurationSettings[condition.fieldValue+'Config'][config["interface"]+'Interface'].fieldName=condition.fieldValue=='defaultTemplate'?'':config.groupSetting.fieldName;}}});//design template config end//
// setTimeout(function () {
if(responseData.showMore){availableGroupNames=[responseData.groupName];}availableGroupNames.forEach(function(group){//initialize template config start//
var templateInterface=config["interface"];var templateConfig=configurationSettings[group+'Config'];var groupName=group;var customTemplateConfig=[];if(!selected[groupName+templateInterface+'TemplateType']){selected[groupName+templateInterface+'TemplateType']='';selected[groupName+templateInterface+'LayoutType']='';}var searchTemplate='';var fullSearchTemplate='';var liveSearchTemplate='';if(templateConfig&&templateConfig[templateInterface+'Interface']&&templateConfig[templateInterface+'Interface'].layout){// will take the templateType and layoutType from AJAX config
if(templateConfig[templateInterface+'Interface'].layout.templateType&&templateConfig[templateInterface+'Interface'].layout.templateType.length){selected[groupName+templateInterface+'TemplateType']=templateConfig[templateInterface+'Interface'].layout.templateType;selected[groupName+templateInterface+'LayoutType']=templateConfig[templateInterface+'Interface'].layout.layoutType;}}if(!selected[groupName+templateInterface+'TemplateType']||!selected[groupName+templateInterface+'TemplateType'].length){// default case
selected[groupName+templateInterface+'TemplateType']='list';selected[groupName+templateInterface+'LayoutType']='l1';}});// Search call back
_self.getConfigData=function(data){var _config2,_config3,_config4;var structuredData=[];var templateConfiguration={};var templateInterfaceType='';var groupName=data.dataObj.groupName;var doc_count=data.dataObj.doc_count;var pageNumber=data.dataObj.pageNumber||0;if(isLiveSearch){templateInterfaceType='liveSearch';templateConfiguration=configurationSettings[groupName+'Config'][templateInterfaceType+'Interface'];}else if(isSearch){templateInterfaceType='conversationalSearch';templateConfiguration=configurationSettings[groupName+'Config'][templateInterfaceType+'Interface'];}else{templateInterfaceType='fullSearch';templateConfiguration=configurationSettings[groupName+'Config'][templateInterfaceType+'Interface'];}structuredData=_self.designDataWithMappings(data.dataObj.data,templateConfiguration.mapping);if(templateConfiguration&&templateConfiguration.layout){data['isClickable']=templateConfiguration.layout.isClickable;data['behaviour']=templateConfiguration.layout.behaviour;data['listType']=templateConfiguration.layout.listType;data['titleName']=templateConfiguration.layout.title;data['textAlignment']=templateConfiguration.layout.textAlignment;data['renderTitle']=templateConfiguration.layout.renderTitle;data['groupResults']=templateConfiguration.groupResults;data['fieldName']=templateConfiguration.fieldName;config=templateConfiguration;}// this should only be applied for 'search' interface
data['structuredData']=[];data['structuredData']=structuredData;var viewType='Preview';var devMode=this.isDev?true:false;if(!data.selectedFacet){viewType='Preview';}if(!structuredData||!structuredData.length){structuredData=[];}var maxSearchResultsAllowed=2;if(data.isLiveSearch){maxSearchResultsAllowed=searchConfigurationCopy.liveSearchResultsLimit||searchConfigurationCopy.liveSearchResultsLimit==0?searchConfigurationCopy.liveSearchResultsLimit:2;}else if(isSearch){if(selected[groupName+templateInterfaceType+'TemplateType']==='grid'){maxSearchResultsAllowed=4;}else if(selected[groupName+templateInterfaceType+'TemplateType']==='carousel'){maxSearchResultsAllowed=structuredData.length?structuredData.length:1;}else{maxSearchResultsAllowed=2;}}else if(isFullResults){maxSearchResultsAllowed=5;}else{maxSearchResultsAllowed=structuredData.length?structuredData.length:1;}var gridLayoutType='';var isDemoTemplate;if(((_config2=config)===null||_config2===void 0?void 0:_config2.type)==='grid'||((_config3=config)===null||_config3===void 0?void 0:_config3.type)==='carousel'){if(['l1','l2','l3','l4'].includes(selected[groupName+templateInterfaceType+"LayoutType"])){gridLayoutType='img_common';}else if(selected[groupName+templateInterfaceType+"LayoutType"]==='l5'){gridLayoutType='img_large';}else if(selected[groupName+templateInterfaceType+"LayoutType"]==='l6'){gridLayoutType='img_left';}else if(['l7','l8','l9'].includes(selected[groupName+templateInterfaceType+"LayoutType"])){gridLayoutType='img_top';}}if(((_config4=config)===null||_config4===void 0?void 0:_config4.type)==='list'){if(['l4'].includes(selected[groupName+templateInterfaceType+"LayoutType"])){gridLayoutType='img_left';}if(['l10'].includes(selected[groupName+templateInterfaceType+"LayoutType"])){isDemoTemplate='serviceNowTemplate';}if(['l11'].includes(selected[groupName+templateInterfaceType+"LayoutType"])){isDemoTemplate='cosmeticsTemplate';}if(['l12'].includes(selected[groupName+templateInterfaceType+"LayoutType"])){isDemoTemplate='bankingTemplate';}}var searchTemplateType=selected[groupName+templateInterfaceType+'TemplateType'].charAt(0).toUpperCase()+selected[groupName+templateInterfaceType+'TemplateType'].slice(1);var isDropdownEnabled=true;var messageData={"message":[{"component":{"type":'template',"payload":{"template_type":"search"+searchTemplateType+"Template",'isClickable':data.isClickable,'structuredData':structuredData,'viewType':viewType,'isFullResults':data.isFullResults,'isSearch':isSearch,'devMode':devMode,'isLiveSearch':isLiveSearch,'appearanceType':'data','maxSearchResultsAllowed':maxSearchResultsAllowed,'isDropdownEnabled':isDropdownEnabled,'tour':false,'helpers':helpers,'renderTitle':data.renderTitle,'titleName':data.titleName,'listType':data.listType,'textAlignment':data.textAlignment,'behaviour':data.behaviour,'groupResults':data.groupResults,'groupName':groupName,'doc_count':doc_count||0,'pageNumber':pageNumber||0,'templateName':groupName.replaceAll(' ',''),'fieldName':data.fieldName,'gridLayoutType':gridLayoutType,"isButtonTemplate":false,"isDemoTemplate":isDemoTemplate}}}]};if(structuredData&&structuredData.length){_self.vars.mergedData.push(messageData);return messageData;}};_self.designDataWithMappings=function(data,mapping){var dataArr=[];if(data&&data.length&&mapping&&Object.values(mapping).length){data.forEach(function(obj){var item={};var chips=[];if(obj[mapping.heading]){item.heading=obj[mapping.heading].toString();}if(obj[mapping.description]){item.description=obj[mapping.description].toString();}if(obj[mapping.img]){item.img=obj[mapping.img];}if(obj[mapping.url]){item.url=obj[mapping.url];}if(!item.heading||!item.heading.toString().length){item.heading='';}if(!item.description||!item.description.toString().length){item.description='';}if(!item.img||!item.img.length){item.img='';}if(!item.url||!item.url.length){item.url='';}item.config=obj.config;item.feedback=obj.feedback;item.customization=null;item.sys_content_type=obj.sys_content_type;item.contentId=obj.contentId;//connectors fields start//
if(obj[mapping.icon]){item.icon=obj[mapping.icon];}if(obj[mapping.chips]){item.chips=obj[mapping.chips];}if(obj[mapping.textField1]){item.textField1=obj[mapping.textField1];}if(obj[mapping.textField2]){item.textField2=obj[mapping.textField2];}if(!obj.icon){obj.icon=item.icon||'';}if(!obj.chips){obj.chips=item.chips||'';}if(!obj.createdOn||item.textField2){obj.createdOn=item.textField2||'';}if(!obj.createdByUser||item.textField1){obj.createdByUser=item.textField1||'';}// Demo fields start         
if(obj.chips){item.scm_author=obj.createdByUser||'';item.scm_createdAt=obj.createdOn==''?'-':moment__WEBPACK_IMPORTED_MODULE_3___default()(obj.createdOn).format('Do MMM YYYY, ddd [at] h:mm A');if(Array.isArray(obj.chips)){var _iterator=_createForOfIteratorHelper(obj.chips),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var chip=_step.value;var background=chip=='pdf'?'#FFF6F8':chip=='Confluence'?'#E7F1FF':chip=='Gdrive'?'#FFF9DC':'#F7FFFF';var color=chip=='pdf'?'#DD3646':chip=='Confluence'?'#0D6EFD':chip=='Gdrive'?'#806D16':'#009999';chips.push({background:background,color:color,name:chip});}}catch(err){_iterator.e(err);}finally{_iterator.f();}}if(typeof obj.chips==='string'&&obj.chips.length){chips.push({background:'#e7f1ff',color:'#0d6efd',name:obj.chips});}item.chips=chips;}if(obj.bestseller){item.ecommerce_bestseller=obj.bestseller;}if(obj.prod_original_price){item.ecommerce_original_price=obj.prod_original_price;}if(obj.rating){item.ecommerce_rating=obj.rating;var reviweArr=['n_fill','n_fill','n_fill','n_fill','n_fill'];for(var _i7=0;_i7<item.ecommerce_rating;_i7++){reviweArr[_i7]='fill';}item.ecommerce_ratingArr=reviweArr;}if(obj.prod_percentage_offer){item.ecommerce_percentage_offer=obj.prod_percentage_offer;}if(obj.prod_price){item.ecommerce_price=obj.prod_price;}if(obj.prod_image){item.ecommerce_image=obj.prod_image;}item.addedResult=obj.addedResult||obj.addedResult==false?obj.addedResult:false;item.bestMatch=obj.bestMatch||obj.bestMatch==false?obj.bestMatch:false;if(item.heading||item.description||item.img||item.url){dataArr.push(item);}});return dataArr;}};//response modification start //
if(((response.results||{}).data||[]).length||response.results&&response.resultType=="grouped"&&Object.keys(response.results).length){if(response&&response.results&&response.resultType=="grouped"){var resAvailableGroups=Object.keys(response.results);if(resAvailableGroups&&resAvailableGroups.length){resAvailableGroups.forEach(function(group){var results=response.results[group].data;var groupName=group=='default_group'?'defaultTemplate':group;var dataObj={data:results,groupName:groupName,doc_count:response.results[group].doc_count};var final_result=_self.getConfigData({isFullResults:isFullResults,selectedFacet:'all results',isLiveSearch:isLiveSearch,isSearch:isSearch,dataObj:dataObj});if(responseData.showMore){_self.vars.mergedData=final_result;resolve(_self.vars.mergedData);return _self.vars.mergedData;}});}}else{var results=response.results.data;var dataObj={data:results,groupName:responseData.showMore?responseData.groupName:'defaultTemplate',doc_count:response.results.doc_count,pageNumber:responseData.showMore?responseData.pageNumber:0};if(results&&results.length){var final_result=_self.getConfigData({isFullResults:isFullResults,selectedFacet:'all results',isLiveSearch:isLiveSearch,isSearch:isSearch,dataObj:dataObj});if(responseData.showMore){_self.vars.mergedData=final_result;resolve(_self.vars.mergedData);return _self.vars.mergedData;}}}}if((response.tasks||[]).length&&searchType!="liveSearch"){var tasksTemplateType="grid";if(searchConfigurationCopy&&searchConfigurationCopy.botConfig){tasksTemplateType=searchConfigurationCopy.botConfig.botActionTemplate;}var viewType='Preview';var devMode=_this12.isDev?true:false;var messageData={"message":[{"component":{"type":'template',"payload":{"template_type":"search"+tasksTemplateType.charAt(0).toUpperCase()+tasksTemplateType.slice(1)+"Template",'structuredData':response.tasks,'viewType':viewType,'isFullResults':isFullResults,'isSearch':isSearch,'devMode':devMode,'isLiveSearch':isLiveSearch,'appearanceType':'task','tour':false,'helpers':helpers,"selectedFacet":"all results","isButtonTemplate":true}}}]};var actionsPosition="bottom";if(searchConfigurationCopy&&searchConfigurationCopy.botConfig){actionsPosition=searchConfigurationCopy.botConfig.botActionResultsExperience;}if(actionsPosition==="top"){_self.vars.mergedData.unshift(messageData);}else{_self.vars.mergedData.push(messageData);};}//response modification end //
resolve(_self.vars.mergedData);return _self.vars.mergedData;// }, 200);
}});}});};FindlySDK.prototype.seeAllBtnClickEvent=function(e){var _self=this;_self.vars.scrollPageNumber=0;_self.vars.selectedFacetFromSearch="all results";if($(e.target).hasClass("live-search-close-icon")){_self.vars.searchObject.searchText=$('body').hasClass('top-down')?$('.search-top-down').val():$('.bottom-up-search').val();}if(_self.vars.feedBackExperience){_self.getFeedBackResult();}_self.vars.showingMatchedResults=true;e.preventDefault();e.stopImmediatePropagation();_self.invokeSearch(false,true);// $('#loaderDIV').show()
};FindlySDK.prototype.botActionTrigger=function(e){var _self=this;var scrollBottom=$("#searchChatContainer").scrollTop()+$("#searchChatContainer").height();$("#searchChatContainer").animate({scrollTop:scrollBottom});if($("body").hasClass("top-down")){_self.actionHandler(e);}var taskName=e.currentTarget.title.toLowerCase();var payload;if(_self.vars.searchObject&&_self.vars.searchObject.searchText&&_self.vars.searchObject.searchText.length){payload=b64EncodeUnicode("Execute_"+_self.vars.searchObject.searchText);// payload = _self.vars.searchObject.searchText;
}else{payload=$(e.currentTarget).attr("payload");}if(!_self.vars.searchObject.recentTasks.length||_self.vars.searchObject.recentTasks.length&&_self.vars.searchObject.recentTasks.indexOf(taskName.toLowerCase())==-1){_self.vars.searchObject.recentTasks.unshift(taskName.toLowerCase());}var recentItem=[];recentItem.push(taskName);_self.vars.searchObject.recentTasks=lodash__WEBPACK_IMPORTED_MODULE_1___default().uniq(recentItem.concat(_self.vars.searchObject.recentTasks));if(_self.vars.searchObject.recentTasks&&_self.vars.searchObject.recentTasks.length){_self.vars.searchObject.recentTasks=lodash__WEBPACK_IMPORTED_MODULE_1___default().filter(_self.vars.searchObject.recentTasks,function(task){return task;});}if(_self.vars.showingMatchedResults==true){_self.captureClickAnalytics(e,$(e.currentTarget).attr("contentType"),"click",$(e.currentTarget).attr("contentId"),$(e.currentTarget).attr("id"),$(e.currentTarget).attr("title"));}window.localStorage.setItem("recentTasks",JSON.stringify(_self.vars.searchObject.recentTasks));if(!$("body").hasClass("top-down")){_self.bindFrequentData();}if(_self.config.viaSocket){var nlMeta={linkedBotNLMeta:{intent:$(e.currentTarget).attr("title"),seqLogId:$(e.currentTarget).attr("seqLogId")||null,childBotName:$(e.currentTarget).attr("childBotName")||null,isRefresh:true}};_self.sendMessage(payload,null,nlMeta,true);}if($("body").hasClass("top-down")){_self.sendMessageToSearch("user",null,null,_self.isDev==true?true:false);_self.resetPingMessage();_self.resetSocketDisconnection();}else{_self.appendTextToSearchContainer('user',e.currentTarget.title);}if(_self.isDev||_self.vars.loggedInUser){_self.vars.searchObject.searchText=e.currentTarget.title.toLowerCase();_self.sendMessageToSearch("botAction");}else if(e.currentTarget.title.toLowerCase()==="pay bill"||e.currentTarget.title.toLowerCase()==="pay credit card bill"){_self.userLogin(e.currentTarget.title.toLowerCase());}else{}};FindlySDK.prototype.tabFacetTrigger=function(e,facetSelected){if($("body").hasClass("top-down")){$(".content-data-sec").scrollTop(0);}else{$(".data-body-sec").scrollTop(0);}var _self=this;var selectedFacet=facetSelected;_self.vars.selectedFacetFromSearch=selectedFacet;var url=_self.API.searchUrl;var payload={query:_self.vars.searchObject.searchText,// "maxNumOfResults": 9,
maxNumOfResults:5,userId:_self.API.uuid,streamId:_self.API.streamId,lang:"en",// "isDev": true,
isDev:_self.isDev,searchRequestId:_self.vars.requestId};if(_self.vars.isFilterModified){payload['isFilterModified']=true;}if(_self.isDev){payload["customize"]=_self.vars.customizeView;}if(_self.vars.displaySortable){payload['sortableFacets']=[_self.vars.displaySortable];}if(_self.vars.filterObject.length>0){payload.filters=JSON.parse(JSON.stringify(_self.vars.filterObject));}if(_self.vars.selectedFacetFromSearch&&_self.vars.selectedFacetFromSearch!=="all results"){var tabConfig={filter:{fieldName:_self.vars.tabFacetFieldName,facetValue:[_self.vars.selectedFacetFromSearch]}};payload.tabConfig=tabConfig;}else{var filters=payload.filters;for(var _i8=(filters||[]).length-1;_i8>=0;_i8--){if(filters[_i8].facetValue[0]=="faq"||filters[_i8].facetValue[0]=="task"||filters[_i8].facetValue[0]=="web"||filters[_i8].facetValue[0]=="file"||filters[_i8].facetValue[0]=="data"){payload.filters.splice(_i8,1);}}}return new Promise(function(resolve,reject){_self.getFrequentlySearched(url,"POST",JSON.stringify(payload)).then(function(data){_self.getMergedData(_self.vars.resultSettings,data,'isFullResults').then(function(res){resolve(res);});})["catch"](function(error){reject(error);});});};FindlySDK.prototype.facetCheckBoxClick=function(event){// SDK checkbox
var _self=this;if($(event.target).is(":checked")){_self.vars.selectedFiltersArr.push($(event.target).attr("id"));_self.vars.countOfSelectedFilters+=1;_self.filterResults(event,true);}else{_self.removeSelectFacetFilter(event,{id:$(event.target).attr("id"),name:$(event.target).attr("name"),facetName:$(event.target).attr("facetName"),fieldName:$(event.target).attr("fieldName"),fieldType:$(event.target).attr("fieldType")});var unselectedFilterID=$(event.target).attr("id");_self.vars.selectedFiltersArr.slice(0).forEach(function(filter){if(filter==unselectedFilterID){_self.vars.selectedFiltersArr.splice(_self.vars.selectedFiltersArr.indexOf(filter),1);}});_self.vars.countOfSelectedFilters-=1;_self.filterResults(event,false);}return new Promise(function(resolve,reject){if(_self.vars.filterConfiguration.aligned=="top"){_self.countFunction().then(function(res){res.isFilterAlignedTop=true;resolve(res);})["catch"](function(error){reject(error);});}else{resolve({isFilterAlignedTop:false});}});};FindlySDK.prototype.getSearchByFacetFilters=function(){var _self=this;// if ($("body").hasClass("top-down")) {
_self.vars.tempSelectedFiltersArr=_self.vars.selectedFiltersArr;_self.vars.tempSelectedFacetsList=_self.vars.selectedFacetsList;_self.vars.tempFilterObject=_self.vars.filterObject;_self.vars.scrollPageNumber=0;// }
_self.vars.isFilterModified=true;var filterObject=_self.vars.filterObject;var url=_self.API.searchUrl;var payload={query:_self.vars.searchObject.searchText,// "maxNumOfResults": 9,
maxNumOfResults:5,lang:"en",// "isDev": true,
isDev:_self.isDev,searchRequestId:_self.vars.requestId};if(_self.vars.isFilterModified){payload['isFilterModified']=true;}if(_self.isDev){payload["customize"]=_self.vars.customizeView;}if((_self.vars.deselectedAutoFilters||[]).length){payload['deselectedAutoFilters']=_self.vars.deselectedAutoFilters||[];}if(_self.vars.displaySortable){payload['sortableFacets']=[_self.vars.displaySortable];}if(filterObject.length>0){payload.filters=JSON.parse(JSON.stringify(filterObject));}var contentTypeFilter={fieldName:"sys_content_type",name:"facetContentType",subtype:"value",multiselect:false,buckets:[]};if(_self.vars.selectedFacetFromSearch&&_self.vars.selectedFacetFromSearch!=="all results"){var tabConfig={filter:{fieldName:_self.vars.tabFacetFieldName,facetValue:[_self.vars.selectedFacetFromSearch]}};payload.tabConfig=tabConfig;}else{var filters=payload.filters;}return new Promise(function(resolve,reject){_self.getFrequentlySearched(url,"POST",JSON.stringify(payload)).then(function(data){var totalResultsCount=0;if(data.template.tabFacet&&data.template.tabFacet.buckets&&data.template.tabFacet.buckets.length){data.template.tabFacet.buckets.forEach(function(tab){totalResultsCount=totalResultsCount+tab.doc_count;if(!tab.name){tab.name=tab.key;}});_self.vars.tabFacetFieldName=data.template.tabFacet.fieldName;}totalResultsCount=totalResultsCount;_self.countTotalResults(data.template,0);var facets=[];facets.push({key:"all results",doc_count:_self.vars.totalNumOfResults,name:"ALL"});facets=facets.concat((data.template.tabFacet||{}).buckets||[]);facets=_self.rearrangeTabsList(facets);if((data.template.tasks||[]).length){facets.push({key:"task",doc_count:(data.template.tasks||[]).length,name:"Actions"});}facets.forEach(function(tab){if(tab&&tab.key){tab["className"]=tab.key.replaceAll(" ","-");}});_self.vars.tabsList=facets;var filterCount=0;if(_self.vars&&_self.vars.selectedFiltersArr&&_self.vars.selectedFiltersArr.length){filterCount=_self.vars.selectedFiltersArr.length;}_self.getMergedData(_self.vars.resultSettings,data,'isFullResults').then(function(res){resolve({result:res,facets:_self.vars.tabsList,filterCount:filterCount,isFilterAlignedTop:_self.vars.filterConfiguration.aligned=="top"?true:false});});})["catch"](function(error){reject(error);});});};FindlySDK.prototype.clearAllFilters=function(){var _self=this;if(_self.vars.countOfSelectedFilters>0){$("#loaderDIV").show();}if(_self.vars.selectedFiltersArr.length>0){_self.vars.selectedFiltersArr.forEach(function(filter){$("#"+filter).prop("checked",false);});_self.vars.selectedFiltersArr=[];_self.vars.filterObject=[];_self.vars.countOfSelectedFilters=0;return new Promise(function(resolve,reject){_self.getSearchByFacetFilters().then(function(res){resolve(res);})["catch"](function(error){reject(error);});});}};FindlySDK.prototype.facetRadioClick=function(event){var _self=this;if($(event.target).is(":checked")){var latest=$(event.target).attr("id");_self.vars["selectedFiltersRadio"].push($(event.target).attr("id"));//radio-non-multi-
if(_self.vars.selectedFiltersRadio){_self.vars.selectedFiltersRadio.forEach(function(element,index){if(index!=_self.vars.selectedFiltersRadio.length-1){if(element.split("-")[1].split("")[0]==latest.split("-")[1].split("")[0]){_self.vars.selectedFiltersRadio.splice(index,1);}}});}_self.vars.selectedFiltersArr.forEach(function(element,index){if($("#"+element).attr("name")&&$("#"+element).attr("name").split("-")[0]=="radio"){if(element.split("-")[1].split("")[0]==latest.split("-")[1].split("")[0]){_self.vars.selectedFiltersArr.splice(index,1);}}});if(_self.vars["selectedFiltersRadio"].length){_self.vars["selectedFiltersRadio"].forEach(function(element){_self.vars.selectedFiltersArr.push(element);});}_self.vars.countOfSelectedFilters=_self.vars.selectedFiltersArr.length;_self.filterResults(event,false);return new Promise(function(resolve,reject){if(_self.vars.filterConfiguration.aligned=="top"){_self.countFunction().then(function(res){res.isFilterAlignedTop=true;resolve(res);})["catch"](function(error){reject(error);});}else{resolve({isFilterAlignedTop:false});}});}};FindlySDK.prototype.countFunction=function(){var _self=this;var facetData=_self.vars.searchFacetFilters;if(facetData.length){var arr=[];var mainArr=[];if(_self.vars.selectedFiltersArr){_self.vars.selectedFiltersArr.forEach(function(element,index){arr.push(element.split("-")[1].split("")[0]);});arr=new Set(arr);arr=_toConsumableArray(arr);}if(_self.vars.selectedFiltersArr.length){var _loop=function _loop(_i9){mulArr=[];obj={};_self.vars.selectedFiltersArr.forEach(function(element,index){if(_i9==element.split("-")[1].split("")[0]){mulArr.push(element.split("-")[1].split("")[0]);}});mainArr.push(mulArr);};for(var _i9=0;_i9<=arr.length;_i9++){var mulArr;var obj;_loop(_i9);}}}for(var _i10=0;_i10<facetData.length;_i10++){facetData[_i10]["countPerGroup"]=mainArr;}_self.vars.searchFacetFilters=facetData;return new Promise(function(resolve,reject){resolve({facetData:facetData});});};FindlySDK.prototype.topdownFacetCheckBoxClick=function(event){var _self=this;return new Promise(function(resolve,reject){_self.vars.isTopFacets=_self.vars.filterConfiguration.aligned==="top"?true:false;if($(".topdown-search-main-container").length&&!_self.vars.isTopFacets){// $('#loaderDIV').show();
}if($(event.target).is(":checked")){_self.vars.selectedFiltersArr.push($(event.target).attr("id"));/* top -down -search -experience -start */_self.vars.selectedFacetsList.push({id:$(event.target).attr("id"),name:$(event.target).attr("name"),fieldName:$(event.target).attr("fieldName"),fieldType:$(event.target).attr("fieldType"),from:$(event.target).attr("data-from"),to:$(event.target).attr("data-to")});/* top -down -search -experience -end*/_self.vars.countOfSelectedFilters+=1;_self.filterResultsTopDown(event,true,false,_self.vars.isTopFacets).then(function(res){res.isFilterAlignedTop=_self.vars.filterConfiguration.aligned=='top'?true:false;_self.markSelectedFilters();resolve(res);});}else{_self.removeSelectFacetFilter(event,{id:$(event.target).attr("id"),name:$(event.target).attr("name"),facetName:$(event.target).attr("facetName"),fieldName:$(event.target).attr("fieldName"),fieldType:$(event.target).attr("fieldType")});var unselectedFilterID=$(event.target).attr("id");_self.vars.selectedFiltersArr.slice(0).forEach(function(filter){if(filter==unselectedFilterID){var index=_self.vars.selectedFiltersArr.indexOf(filter);_self.vars.selectedFiltersArr.splice(index,1);/* top -down -search -experience -start */_self.vars.selectedFacetsList.splice(index,1);/* top -down -search -experience -end */}});_self.vars.countOfSelectedFilters-=1;_self.filterResultsTopDown(event,false,false,_self.vars.isTopFacets).then(function(res){res.isFilterAlignedTop=_self.vars.filterConfiguration.aligned=='top'?true:false;_self.markSelectedFilters();resolve(res);});}});};FindlySDK.prototype.topdownFacetRadioClick=function(event){var _self=this;return new Promise(function(resolve,reject){event.stopImmediatePropagation();$("#loaderDIV").show();if(_self.vars.selectedFacetsList.length){var facetIndex=_self.vars.selectedFacetsList.findIndex(function(x){return x.value===$(event.target).attr("name");});if(facetIndex>-1){_self.vars.selectedFiltersArr.splice(facetIndex,1,$(event.target).attr("id"));_self.vars.selectedFacetsList.splice(facetIndex,1,{id:$(event.target).attr("id"),value:$(event.target).attr("type")=="radio"?$(event.target).attr("name"):$(event.target).attr("value"),name:$(event.target).attr("type")=="radio"?$(event.target).attr("value"):$(event.target).attr("name"),fieldName:$(event.target).attr("fieldName"),fieldType:$(event.target).attr("fieldType")});_self.filterResultsTopDown(event,false).then(function(res){res.isFilterAlignedTop=_self.vars.filterConfiguration.aligned=='top'?true:false;_self.markSelectedFilters();resolve(res);});}else{_self.vars.selectedFiltersArr.push($(event.target).attr("id"));_self.vars.selectedFacetsList.push({id:$(event.target).attr("id"),value:$(event.target).attr("type")=="radio"?$(event.target).attr("name"):$(event.target).attr("value"),name:$(event.target).attr("type")=="radio"?$(event.target).attr("value"):$(event.target).attr("name"),fieldName:$(event.target).attr("fieldName"),fieldType:$(event.target).attr("fieldType")});_self.vars.countOfSelectedFilters+=1;_self.filterResultsTopDown(event,true).then(function(res){res.isFilterAlignedTop=_self.vars.filterConfiguration.aligned=='top'?true:false;_self.markSelectedFilters();resolve(res);});}}else{_self.vars.selectedFiltersArr.push($(event.target).attr("id"));_self.vars.selectedFacetsList.push({id:$(event.target).attr("id"),value:$(event.target).attr("type")=="radio"?$(event.target).attr("name"):$(event.target).attr("value"),name:$(event.target).attr("type")=="radio"?$(event.target).attr("value"):$(event.target).attr("name"),fieldName:$(event.target).attr("fieldName"),fieldType:$(event.target).attr("fieldType")});_self.vars.countOfSelectedFilters+=1;_self.filterResultsTopDown(event,true).then(function(res){res.isFilterAlignedTop=_self.vars.filterConfiguration.aligned=='top'?true:false;_self.markSelectedFilters();resolve(res);});}});};FindlySDK.prototype.removeFilterClickEvent=function(event){var _this13=this;var isRadioBtn=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return new Promise(function(resolve,reject){var _self=_this13;var unselectedFilterID=$(event.currentTarget).attr("id");// $('#loaderDIV').show();
var isUnselectedFilter=false;_self.vars.selectedFiltersArr.slice(0).forEach(function(filter){if(filter==unselectedFilterID){isUnselectedFilter=true;var index1=_self.vars.selectedFiltersArr.indexOf(filter);_self.vars.selectedFiltersArr.splice(index1,1);_self.vars.selectedFacetsList.splice(index1,1);// _self.searchFacetsList(_self.vars.selectedFacetsList);
$(".sdk-filter-checkbox-top-down").prop("checked",false);$(".sdk-filter-radio-top-down").prop("checked",false);_self.markSelectedFilters();}});_self.vars.countOfSelectedFilters-=1;_self.filterResultsTopDown(event,false,isRadioBtn).then(function(res){res.isFilterAlignedTop=_self.vars.filterConfiguration.aligned=='top'?true:false;res.isUnselectedFilter=isUnselectedFilter;res.selectedFacetsList=_self.vars.selectedFacetsList;resolve(res);})["catch"](function(error){reject(error);});});};FindlySDK.prototype.clearAllFilterTopdownEvent=function(event){var _self=this;return new Promise(function(resolve,reject){_self.vars.filterObject=[];_self.vars.selectedFiltersArr=[];_self.vars.tempSelectedFiltersArr=[];_self.vars.tempSelectedFacetsList=[];_self.vars.tempFilterObject=[];_self.vars.selectedFacetsList=[];_self.vars.isTopFacets=_self.vars.filterConfiguration.aligned==="top"?true:false;_self.vars.countOfSelectedFilters=0;_self.getSearchByFacetFilters().then(function(res){res.isFilterAlignedTop=_self.vars.filterConfiguration.aligned=='top'?true:false;res.isUnselectedFilter=true;res.selectedFacetsList=_self.vars.selectedFacetsList;resolve(res);})["catch"](function(error){reject(error);});});};FindlySDK.prototype.displayDropdownFilterCount=function(){var _self=this;_self.vars.searchFacetFilters.forEach(function(s){s["selectedFieldsCount"]=0;_self.vars.selectedFacetsList.forEach(function(d){if(s.fieldName===d.fieldName){s["selectedFieldsCount"]=s["selectedFieldsCount"]+1;}});if(s["selectedFieldsCount"]>0){$('.'+s.fieldName).show();$('.'+s.fieldName).html(s["selectedFieldsCount"]);}else{$('.'+s.fieldName).hide();$('.'+s.fieldName).html('');}});};FindlySDK.prototype.dropdownFilterClickEvent=function(event){var _self=this;if($(event.currentTarget).siblings("#myDropdown").is(":visible")){$(event.currentTarget).siblings("#myDropdown").hide();$(event.currentTarget).find(".down-arrow").show();$(event.currentTarget).find(".up-arrow").hide();_self.vars.filterObject=_toConsumableArray(_self.vars.tempFilterObject);_self.vars.selectedFiltersArr=_toConsumableArray(_self.vars.tempSelectedFiltersArr);_self.vars.selectedFacetsList=_toConsumableArray(_self.vars.tempSelectedFacetsList);}else{$(event.currentTarget).find(".down-arrow").hide();$(event.currentTarget).find(".up-arrow").show();_self.vars.filterObject=_toConsumableArray(_self.vars.tempFilterObject);_self.vars.selectedFiltersArr=_toConsumableArray(_self.vars.tempSelectedFiltersArr);_self.vars.selectedFacetsList=_toConsumableArray(_self.vars.tempSelectedFacetsList);$(".dropdown-content").hide();$(event.currentTarget).siblings("#myDropdown").show();}if($(event.currentTarget).siblings("#myDropdown").hasClass('filters-content-top-down')){$(".sdk-filter-checkbox-top-down").prop("checked",false);$(".sdk-filter-radio-top-down").prop("checked",false);}else{$(".sdk-filter-checkbox").prop("checked",false);$(".sdk-filter-radio").prop("checked",false);}_self.markSelectedFilters();};FindlySDK.prototype.clearRadioSelectedFacets=function(event){var _self=this;return new Promise(function(resolve,reject){var _dropdownContainer=$(event.currentTarget).closest(".filters-content-top-down");var _fieldName=_dropdownContainer.attr("data-fieldName");_self.vars.selectedFacetsList.forEach(function(d){if(d.fieldName===_fieldName){var index=_self.vars.selectedFiltersArr.indexOf(d.id);_self.vars.selectedFiltersArr.splice(index,1);_self.vars.selectedFacetsList.splice(index,1);}});_self.vars.filterObject.forEach(function(d){if(d.fieldName===_fieldName){var index2=_self.vars.filterObject.indexOf(d.fieldName);_self.vars.filterObject.splice(index2,1);}});// _self.searchFacetsList(_self.vars.selectedFacetsList);
_self.markSelectedFilters();_self.vars.countOfSelectedFilters-=1;_self.filterResultsTopDown(event,false,true).then(function(res){res.isFilterAlignedTop=_self.vars.filterConfiguration.aligned=='top'?true:false;res.isUnselectedFilter=true;res.selectedFacetsList=_self.vars.selectedFacetsList;resolve(res);})["catch"](function(error){reject(error);});});};FindlySDK.prototype.bindStructuredDataTriggeringOptions=function(){};FindlySDK.prototype.appendTextToSearchContainer=function(type,text){var _self=this;var messageData={'text':text,'from':type};if(messageData.from="user"){messageData.timeStamp=moment__WEBPACK_IMPORTED_MODULE_3___default()().format('LT');}var devMode=_self.isDev?'true':'false';var viewType=_self.vars.customizeView?'Customize':'Preview';var template=$(_self.getSearchTemplate('messageBubbles')).tmplProxy({msgData:messageData,devMode:devMode,viewType:viewType,helpers:helpers});$('#searchChatContainer').append(template);};FindlySDK.prototype.actionHandler=function(e){var _self=this;if($(e.target).closest('.live-search-data-container').length){{}$("#live-search-result-box").show();if(!$("#conversation-container").hasClass("live-search-action-chat-container")){$("#conversation-container").addClass("live-search-action-chat-container");}}else{$("#conversation-container").removeClass("live-search-action-chat-container");}$("#conversation-container").show();if($(".search-container").hasClass("no-history")){$(".search-container").removeClass("no-history");}$("#sa-conversation-box").prop("disabled",false);$("#sa-conversation-box").attr("placeholder","Type message...");$("#action-title").empty();_self.setActionTitle(e.target.getAttribute("title"),"action-title");};FindlySDK.prototype.getSortableFacetList=function(url,type){var _self=this;var bearer="bearer "+this.bot.options.accessToken||0||0;var headers={};headers["Authorization"]=bearer;headers["Content-Type"]="application/json";if(!_self.isDev){if(_self.config.botOptions.assertion){headers.auth=_self.config.botOptions.assertion;}}return $.ajax({url:url,type:type,dataType:'json',headers:headers,success:function success(data){var facet=[];if(data){for(var i=0;i<data.length;i++){if(data[i].type=='sortable'&&data[i].active){facet.push(data[i]);}}}_self.vars.sortableFacetList=facet||[];},error:function error(err){}});};FindlySDK.prototype.sortableFacetClick=function(event,displaySortable){var _self=this;_self.vars.displaySortable=displaySortable;return new Promise(function(resolve,reject){var url=_self.API.searchUrl;var currentDate=new Date();var dateTime=currentDate.getDate()+"/"+(currentDate.getMonth()+1)+"/"+currentDate.getFullYear()+", "+currentDate.getHours()+":"+currentDate.getMinutes()+":"+currentDate.getSeconds();var payload={"query":_self.vars.searchObject.searchText,// "maxNumOfResults": 9,
"maxNumOfResults":5,"userId":_self.API.uuid,"streamId":_self.API.streamId,"lang":"en",// "isDev": true,
"isDev":_self.isDev,"searchRequestId":_self.vars.requestId};if(_self.vars.isFilterModified){payload['isFilterModified']=true;}if(_self.isDev){payload['customize']=_self.vars.customizeView;}if(_self.vars.displaySortable){payload['sortableFacets']=[_self.vars.displaySortable];}if(_self.vars.filterObject.length>0){payload.filters=JSON.parse(JSON.stringify(_self.vars.filterObject));}if(_self.vars.selectedFacetFromSearch&&_self.vars.selectedFacetFromSearch!=='all results'){var tabConfig={"filter":{"fieldName":_self.vars.tabFacetFieldName,"facetValue":[_self.vars.selectedFacetFromSearch]}};payload.tabConfig=tabConfig;}else{var filters=payload.filters;for(var _i11=(filters||[]).length-1;_i11>=0;_i11--){if(filters[_i11].facetValue[0]=='faq'||filters[_i11].facetValue[0]=='task'||filters[_i11].facetValue[0]=='web'||filters[_i11].facetValue[0]=='file'||filters[_i11].facetValue[0]=='data'){payload.filters.splice(_i11,1);}}}if(_self.vars.resultRankingActionPerformed==true){_self.vars.resultRankingActionPerformed=false;}if(_self.vars.showingMatchedResults==true){_self.getFrequentlySearched(url,"POST",JSON.stringify(payload)).then(function(data){var totalResultsCount=0;if(data.template.tabFacet&&data.template.tabFacet.buckets&&data.template.tabFacet.buckets.length){data.template.tabFacet.buckets.forEach(function(tab){totalResultsCount=totalResultsCount+tab.doc_count;if(!tab.name){tab.name=tab.key;}});_self.vars.tabFacetFieldName=data.template.tabFacet.fieldName;}totalResultsCount=totalResultsCount;_self.countTotalResults(data.template,0);var facets=[];facets.push({key:"all results",doc_count:_self.vars.totalNumOfResults,name:"ALL"});facets=facets.concat((data.template.tabFacet||{}).buckets||[]);facets=_self.rearrangeTabsList(facets);if((data.template.tasks||[]).length){facets.push({key:"task",doc_count:(data.template.tasks||[]).length,name:"Actions"});}facets.forEach(function(tab){if(tab&&tab.key){tab["className"]=tab.key.replaceAll(" ","-");}});_self.vars.tabsList=facets;var filterCount=0;if(_self.vars&&_self.vars.selectedFiltersArr&&_self.vars.selectedFiltersArr.length){filterCount=_self.vars.selectedFiltersArr.length;}_self.getMergedData(_self.vars.resultSettings,data,'isFullResults').then(function(res){resolve({result:res,facets:_self.vars.tabsList,filterCount:filterCount,isFilterAlignedTop:_self.vars.filterConfiguration.aligned=="top"?true:false,displaySortable:_self.vars.displaySortable,sortableFacetList:_self.vars.sortableFacetList||[]});});})["catch"](function(error){reject(error);});}else{if(_self.vars.searchObject&&_self.vars.searchObject.searchText){var responseObject={'type':'fullResult',data:true,query:_self.vars.searchObject.searchText};_self.parentEvent(responseObject);}$(".custom-insights-control-container").hide();// _self.showAllResults();
// setTimeout(() => {
//   _self.bindCustomizeAction();
// }, 300);
}});};FindlySDK.prototype.getJWTWithoutAPIKey=function(options,callback){var jsonData={"clientId":options.clientId,"clientSecret":options.clientSecret,"identity":options.userIdentity,"aud":"","isAnonymous":false};return $.ajax({url:options.JWTUrl,type:'post',data:jsonData,dataType:'json',success:function success(data){options.assertion=data.jwt;if(callback){callback(null,options);}},error:function error(err){}});};FindlySDK.prototype.getJWTByAPIKey=function(options,callback){var _self=this;var apiKey='';if(options.apiKey){apiKey=options.apiKey;}var jsonData={};if(_self.config.botOptions&&_self.config.botOptions.userMailId){jsonData['identity']=_self.config.botOptions.userMailId;}return $.ajax({url:options.koreAPIUrl+'websdk/'+apiKey,type:'post',data:jsonData,dataType:'json',success:function success(data){options.assertion=data.jwt;if(callback){callback(null,options);}},error:function error(err){}});};FindlySDK.prototype.setupInternalAssertionFunction=function(){var _self=this;_self.getJWTWithoutAPIKey(_self.config.botOptions).then(function(res){_self.config.botOptions.callback(null,_self.config.botOptions);// _self.emit(_self.EVENTS.JWT_SUCCESS, res);
_self.setJWT(res.jwt);if(_self.vars.isHostedSdk){_self.initSearchAssistSDK(_self.config);_self.vars.isHostedSdk=false;}},function(errRes){});};FindlySDK.prototype.setJWT=function(jwtToken){var _self=this;var options=_self.config.botOptions;options.assertion=jwtToken;};FindlySDK.prototype.setupInternalAssertionFunctionWithAPIKey=function(){var _self=this;_self.getJWTByAPIKey(_self.config.botOptions).then(function(res){_self.config.botOptions.callback(null,_self.config.botOptions);// _self.emit(_self.EVENTS.JWT_SUCCESS, res);
_self.setJWT(res.jwt);_self.config.botOptions.searchIndexID=res.botInfo.searchIndexId;if(res.botInfo){_self.config.botOptions.botInfo.chatBot=res.botInfo.name;_self.config.botOptions.botInfo.taskBotId=res.botInfo._id;_self.config.botOptions.clientId=res.botInfo.clientId;_self.config.botOptions.clientSecretId=res.botInfo.clientSecretId;}if(res.identity){_self.config.botOptions.userIdentity=res.identity;}if(_self.vars.isHostedSdk){_self.initSearchAssistSDK(_self.config);_self.vars.isHostedSdk=false;}},function(errRes){});};FindlySDK.prototype.show=function(config){var _self=this;_self.vars.isHostedSdk=true;if(config&&config.API_KEY_CONFIG&&config.API_KEY_CONFIG.KEY!='YOUR_API_KEY'){_self.config.botOptions["apiKey"]=config["API_KEY_CONFIG"].KEY;}_self.config.botOptions.assertionFn=_self.getAssertionToken.bind(this);_self.initKoreSDK();};FindlySDK.prototype.getAssertionToken=function(options,callback){var _self=this;options.callback=callback;if(_self.config&&_self.config.API_KEY_CONFIG&&_self.config.API_KEY_CONFIG.KEY!=='YOUR_API_KEY'){_self.setupInternalAssertionFunctionWithAPIKey();}else{_self.setupInternalAssertionFunction();}};FindlySDK.prototype.autoSelectFacetFilter=function(){var _self=this;//_self.vars.selectedFiltersArr = [];
_self.vars.selectedFacetsList=[];if(_self.vars.searchFacetFilters){for(var i=0;i<_self.vars.searchFacetFilters.length;i++){if(_self.vars.searchFacetFilters[i].buckets){for(var j=0;j<_self.vars.searchFacetFilters[i].buckets.length;j++){if(_self.vars.searchFacetFilters[i].buckets[j].auto_select){if(_self.vars.selectedFiltersArr.indexOf("checkbox-"+i+j)!==-1){// Id of the facet filter
}else{_self.vars.selectedFiltersArr.push("checkbox-"+i+j);}var obj={fieldName:_self.vars.searchFacetFilters[i].facetName,fieldType:_self.vars.searchFacetFilters[i].facetType,id:"checkbox-"+i+j,name:_self.vars.searchFacetFilters[i].buckets[j].key};_self.vars.selectedFacetsList.push(obj);//filter object pushing autoseletFacets starts//
var responsePayload={};var fieldMatches=false;responsePayload.fieldName=_self.vars.searchFacetFilters[i].fieldName;responsePayload.subtype=_self.vars.searchFacetFilters[i].subtype;responsePayload.name=_self.vars.searchFacetFilters[i].name;if(_self.vars.searchFacetFilters[i].subtype=='value'){responsePayload.facetValue=[];responsePayload.facetValue[0]=_self.vars.searchFacetFilters[i].buckets[j].key;}else{// var from = $(event.target).attr('data-from');
// var to = $(event.target).attr('data-to');
responsePayload.facetRange=[];// key = { 'from': 0, 'to': 100 };
// key = { 'from': parseInt(from), 'to': parseInt(to) };
responsePayload.facetRange[0]=_self.vars.searchFacetFilters[i].buckets[j].key;}if(_self.vars.filterObject.length==0){_self.vars.filterObject.push(responsePayload);fieldMatches=true;}if(_self.vars.filterObject.length>0&&fieldMatches==false){_self.vars.filterObject.forEach(function(element){if(responsePayload.fieldName==element.fieldName&&responsePayload.subtype==element.subtype){if(element.subtype=='value'){var index=element.facetValue.findIndex(function(d){return d==_self.vars.searchFacetFilters[i].buckets[j].key;});if(index==-1){element.facetValue.push(_self.vars.searchFacetFilters[i].buckets[j].key);}}else{var index=element.facetRange.findIndex(function(d){return d==_self.vars.searchFacetFilters[i].buckets[j].key;});if(index==-1){element.facetRange.push(_self.vars.searchFacetFilters[i].buckets[j].key);}}fieldMatches=true;}});}if(fieldMatches==false){_self.vars.filterObject.push(responsePayload);}//filter object pushing autoseletFacets ends//
}}}}}};FindlySDK.prototype.removeAutoselectedFilterFacets=function(event){var _self=this;_self.vars.searchFacetFilters.forEach(function(facet){facet['buckets'].forEach(function(d){if(d.auto_select){var index=_self.vars.deselectedAutoFilters.findIndex(function(d){return d.fieldName==facet.fieldName;});if(index==-1){_self.vars.deselectedAutoFilters.push({"fieldName":facet.fieldName,"subtype":facet.subtype,"name":facet.name,"facetValue":[d.key]});}else{_self.vars.deselectedAutoFilters[index].facetValue.push(d.key);}d.auto_select=false;}});});};FindlySDK.prototype.removeSelectFacetFilter=function(event,selectedFacet){var _self=this;var key=$(event.target).attr('name');if($('.topdown-search-main-container').length){if($('.sdk-filter-radio-top-down').length&&$(event.target).hasClass('sdk-filter-radio-top-down')){key=$(event.target).attr('value');}}var facetMatched=false;if(_self.vars.deselectedAutoFilters.length){for(var i=0;i<_self.vars.deselectedAutoFilters.length;i++){if(_self.vars.deselectedAutoFilters[i].fieldName==selectedFacet.fieldName&&_self.vars.deselectedAutoFilters[i].subtype==selectedFacet.fieldType&&_self.vars.deselectedAutoFilters[i].name==selectedFacet.facetName){facetMatched=true;var keyMatched=false;for(var j=0;j<_self.vars.deselectedAutoFilters[i].facetValue.length;j++){if(key==_self.vars.deselectedAutoFilters[i].facetValue[j]){keyMatched=true;}}if(!keyMatched){_self.vars.deselectedAutoFilters[i].facetValue.push(key);}}}}if(!facetMatched){_self.vars.deselectedAutoFilters.push({"fieldName":selectedFacet.fieldName,"subtype":selectedFacet.fieldType,"name":selectedFacet.facetName,"facetValue":[key]});}if(_self.vars.searchFacetFilters){for(var i=0;i<_self.vars.searchFacetFilters.length;i++){if(_self.vars.searchFacetFilters[i].buckets){for(var j=0;j<_self.vars.searchFacetFilters[i].buckets.length;j++){if(selectedFacet.fieldName=_self.vars.searchFacetFilters[i].fieldName&&_self.vars.searchFacetFilters[i].buckets[j].auto_select&&key==_self.vars.searchFacetFilters[i].buckets[j].key){//filter object removing autoseletFacets starts//
delete _self.vars.searchFacetFilters[i].buckets[j].auto_select;//filter object pushing autoseletFacets ends//
}}}}}};FindlySDK.prototype.backToSearchClickEvent=function(event){var _self=this;$(".all-result-container").hide();$("body").removeClass("showFullResults");$("#search").val("");$("#suggestion").val("");$(".top-down-suggestion").val("");$(".search-top-down").val("");$(".full-search-data-container").empty();$(".skelton-load-img").hide();_self.destroy();};FindlySDK.prototype.getFeedBackResult=function(){var _self=this;var url=_self.API.feedbackGetUrl;var query_text=$('.search-top-down').val()?$('.search-top-down').val():_self.vars.searchObject.searchText;var payload={"query":query_text,"userId":this.bot.userInfo.userInfo.userId};var headers={};var bearer="bearer "+this.bot.options.accessToken;headers["Authorization"]=bearer;headers["Content-Type"]="application/json";headers.auth=_self.config.botOptions.assertion;return $.ajax({url:url,type:'post',dataType:'json',headers:headers,data:JSON.stringify(payload),success:function success(data){if(data){if($('body').hasClass('top-down')){$('.feedback-top-down-full').css('display','block');_self.vars.feedBackType=data.event;}else{$('.bottom-up-show-all').css('visibility','visible');_self.vars.feedBackType=data.event;}}if(data.event===null){$('.thumbs-up-top-down-blue, .thumbs-up-top-down-red').hide();$('.thumbs-up-top-down-black,.thumbs-down-top-down-black').show();}else{if(data.event==='thumbsUp'){$('.thumbs-up-top-down-black, .thumbs-up-top-down-red').hide();$('.thumbs-up-top-down-blue,.thumbs-down-top-down-black').show();}else{$('.thumbs-down-top-down-black, .thumbs-up-top-down-blue').hide();$('.thumbs-up-top-down-black,.thumbs-up-top-down-red').show();}}_self.feedBackResultEvents();},error:function error(err){}});};FindlySDK.prototype.updateFeedBackResult=function(type,text){var _payload;var _self=this;var url=_self.API.feedbackPostUrl;var payload=(_payload={"feedbackLevel":"query","event":type},_defineProperty(_payload,"feedbackLevel","query"),_defineProperty(_payload,"indexPipelineId",_self.vars.experimentsObject.indexPipelineId),_defineProperty(_payload,"searchIndexId",_self.config.botOptions?_self.config.botOptions.searchIndexID:''),_defineProperty(_payload,"isDev",_self.isDev),_defineProperty(_payload,"query",text?text:_self.vars.searchObject.searchText),_defineProperty(_payload,"queryPipelineId",_self.vars.experimentsObject.queryPipelineId),_defineProperty(_payload,"relay","default"),_defineProperty(_payload,"searchRequestId",_self.vars.previousSearchObj.requestId),_defineProperty(_payload,"streamId",_self.API.streamId),_payload);var headers={};var bearer="bearer "+this.bot.options.accessToken;headers["Authorization"]=bearer;headers["Content-Type"]="application/json";headers.auth=_self.config.botOptions.assertion;return $.ajax({url:url,type:'post',dataType:'json',headers:headers,data:JSON.stringify(payload),success:function success(data){if(data){_self.vars.feedBackType=type;}},error:function error(err){}});};FindlySDK.prototype.feedBackResultEvents=function(){var _self=this;$('.bottom-up-show-all').off('click').on('click',function(event){if($(event.target).hasClass('helpfull-title')||$(event.target).hasClass('bottom-up-show-all')){return;}var type=event.target.alt==='thumb-up'?'thumbsUp':'thumbsDown';var text=$('.search-top-down').val();if(type==='thumbsUp'){$('.thumbs-up-top-down-black').hide();$('.thumbs-up-top-down-blue').show();$('.thumbs-down-top-down-black').show();$('.thumbs-up-top-down-red').hide();}else if(type==='thumbsDown'){$('.thumbs-down-top-down-black').hide();$('.thumbs-up-top-down-red').show();$('.thumbs-up-top-down-black').show();$('.thumbs-up-top-down-blue').hide();}_self.updateFeedBackResult(type,text);});};FindlySDK.prototype.focusInputTextbox=function(){var _self=this;// setTimeout(() => {
//   $('#search').focus();
// }, 600);
};FindlySDK.prototype.renderWebForm=function(msgData,returnTemplate){var _self=this;return;};FindlySDK.prototype.openExternalLink=function(link_url,e){var me=this;me.appendTextToSearchContainer('user',$(e.currentTarget).attr('data-title'));var a=document.createElement('a');$('.search-chat-container').append(a);a.href=link_url;a.target='_blank';a.rel='noopener noreferrer';// for tabnabbing security attack
a.click();$(a).remove();};FindlySDK.prototype.openPopup=function(link_url){var me=this;var popupHtml=$(me.getChatTemplate('popup')).tmpl({link_url:link_url});$('.search-chat-container').append(popupHtml);me.popupOpened=true;me.bindIframeEvents($(popupHtml));};FindlySDK.prototype.getChatTemplate=function(link_url){//chat templates
};FindlySDK.prototype.bindIframeEvents=function(html){//bind iframe events
};FindlySDK.prototype.$=$;/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FindlySDK);

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("f475cd562b6a7db1b5a7")
/******/ })();
/******/ 
/******/ }
)
//# sourceMappingURL=hot-update.js.map